(this.webpackJsonpcustom_filter=this.webpackJsonpcustom_filter||[]).push([[4],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(367),a=n(29),c={viewState:{latitude:31.802892,longitude:-103.007813,zoom:3,pitch:0,bearing:0,dragRotate:!1,maxZoom:9,minZoom:3},basemap:r.DARK_MATTER,credentials:{apiVersion:a.a.V3,apiBaseUrl:"https://gcp-us-east1.api.carto.com",accessToken:"eyJhbGciOiJIUzI1NiJ9.eyJhIjoiYWNfN3hoZnd5bWwiLCJqdGkiOiIyNjdhMTI3OCJ9.4cplM6xOocCl1GFKoiKCcEDf2Q9hRRmRWhsMOTCSNBg"},googleApiKey:"",googleMapId:""}},261:function(e,t){},359:function(e,t){},377:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(201),a=Object(r.createSlice)({name:"app",initialState:{error:null,bottomSheetOpen:!1},reducers:{setError:function(e,t){e.error=t.payload},setBottomSheetOpen:function(e,t){e.bottomSheetOpen=t.payload}}});t.a=a.reducer;var c=function(e){return{type:"app/setError",payload:e}},i=function(e){return{type:"app/setBottomSheetOpen",payload:e}}},378:function(e,t,n){"use strict";n.d(t,"a",(function(){return oe}));var r=n(0),a=n(43),c=n(177),i=n(152),o=n(174),l=n(24);function s(e){var t=e.children,n=Object(i.b)(),r=n.isAuthenticated,s=n.isLoading,u=Object(c.useSelector)((function(e){return e.carto.credentials.accessToken}));return o.a.oauth?!s&&!r&&!u?Object(l.jsx)(a.a,{to:oe.LOGIN}):!!u&&t:t}var u,j=n(12),d=n(5),b=n(497),h=n(638),O=n(653),p=n(664),f=n(647),m=n(595),v=n(644),g=n(646),x=n(637),y=n(111),w=n(662),E=n(652),k=n(666),S=n(517),I=n(649),T=n(520),C=n.n(T),N=n(519),L=n.n(N),R=n(150),z=["title","titleId"];function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F.apply(this,arguments)}function M(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function A(e,t){var n=e.title,a=e.titleId,c=M(e,z);return r.createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",width:103,height:40,viewBox:"0 0 103 40",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,u||(u=r.createElement("g",{fill:"#ffffff",fillRule:"evenodd"},r.createElement("path",{fillOpacity:.1,d:"M82.222 40c11.046 0 20-8.954 20-20s-8.954-20-20-20c-11.045 0-20 8.954-20 20s8.955 20 20 20z"}),r.createElement("path",{d:"M6.948 26.646c2.794 0 4.408-1.22 5.606-2.879l-2.65-1.895c-.761.93-1.541 1.549-2.866 1.549-1.778 0-3.03-1.494-3.03-3.408v-.036c0-1.859 1.252-3.39 3.03-3.39 1.216 0 2.05.602 2.776 1.495l2.65-2.06c-1.126-1.548-2.795-2.642-5.39-2.642-3.846 0-6.676 2.916-6.676 6.633v.037c0 3.808 2.92 6.596 6.55 6.596zm11.643-.255h3.683l.907-2.296h4.917l.907 2.296h3.774l-5.406-12.847H23.98L18.59 26.391zm5.625-5.047l1.433-3.608 1.415 3.608h-2.848zm15.417 5.047h3.52v-3.863h1.56l2.558 3.863h4.046l-3.03-4.446c1.579-.674 2.613-1.968 2.613-3.936v-.037c0-1.257-.381-2.223-1.125-2.97-.853-.856-2.195-1.366-4.137-1.366h-6.005V26.39zm3.52-6.633v-3.08h2.322c1.161 0 1.905.51 1.905 1.531v.037c0 .93-.707 1.512-1.887 1.512h-2.34zm39.07-6.425c3.681 0 6.666 2.985 6.666 6.667s-2.985 6.667-6.667 6.667-6.666-2.985-6.666-6.667 2.984-6.667 6.666-6.667zm-13.493.303v3.097h-3.81v9.658H61.4v-9.658H57.61v-3.097H68.73z"}))))}var D,P=r.forwardRef(A),B=(n.p,["title","titleId"]);function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}function W(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function J(e,t){var n=e.title,a=e.titleId,c=W(e,B);return r.createElement("svg",U({width:"40px",height:"40px",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},c),void 0===n?r.createElement("title",{id:a},"Logo/Negative/Symbol"):n?r.createElement("title",{id:a},n):null,D||(D=r.createElement("g",{id:"Logo/Negative/Symbol",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Logo",fill:"#FFFFFF"},r.createElement("path",{d:"M20.0434783,40 C31.0651609,40 40,31.045695 40,20 C40,8.954305 31.0651609,0 20.0434783,0 C9.02179565,0 0.0869565217,8.954305 0.0869565217,20 C0.0869565217,31.045695 9.02179565,40 20.0434783,40 Z",id:"Halo",opacity:.2}),r.createElement("ellipse",{id:"Circle",cx:20.0434783,cy:20,rx:6.65217391,ry:6.66666667})))))}var G=r.forwardRef(J),H=(n.p,Object(b.a)((function(e){return{title:{"& h1":{display:"flex",fontWeight:e.typography.fontWeightRegular,color:e.palette.common.white,"& strong":{marginRight:e.spacing(.5)},"& svg":{height:"".concat(e.typography.subtitle1.lineHeight,"em"),marginRight:e.spacing(1.5),width:"auto",verticalAlign:"bottom"}}}}}))),K=Object(b.a)((function(e){return{header:{boxShadow:"none",zIndex:e.zIndex.modal+1,overflow:"hidden"}}}));function Z(){var e=K();return Object(l.jsx)(h.a,{position:"static",className:e.header,children:Object(l.jsxs)(O.a,{variant:"dense",children:[Object(l.jsx)(Q,{}),Object(l.jsx)(V,{})]})})}var _=Object(b.a)((function(e){return{divider:{margin:e.spacing(0,3)}}}));function V(){var e=Object(a.e)(),t=Object(d.a)(Object(d.a)({},H()),_()),n=e.pathname.split("/")[1];return Object(l.jsxs)(p.a,{xsDown:!0,children:[Object(l.jsx)(f.a,{component:R.b,to:oe.DEFAULT,className:t.title,children:Object(l.jsxs)(m.a,{component:"h1",variant:"subtitle1",noWrap:!0,children:[Object(l.jsx)(P,{}),Object(l.jsx)(X,{})]})}),Object(l.jsx)(v.a,{orientation:"vertical",className:t.divider,light:!0}),Object(l.jsx)($,{pathname:n}),Object(l.jsx)(g.a,{container:!0,item:!0,xs:!0,justifyContent:"flex-end",children:Object(l.jsx)(te,{})})]})}var q=Object(b.a)((function(e){return{menuButton:{margin:e.spacing(0,.75,0,-1.25),"& + hr":{marginRight:e.spacing(1.5)}},drawer:{minWidth:260}}}));function Q(){var e=Object(a.e)(),t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],i=n[1],o=Object(d.a)(Object(d.a)({},H()),q());Object(r.useEffect)((function(){i(!1)}),[e]);var s=function(){i(!c)};return Object(l.jsxs)(p.a,{smUp:!0,children:[Object(l.jsx)(x.a,{className:o.menuButton,color:"inherit","aria-label":"menu",onClick:s,children:c?Object(l.jsx)(L.a,{}):Object(l.jsx)(C.a,{})}),Object(l.jsx)(v.a,{orientation:"vertical",light:!0}),Object(l.jsx)(f.a,{component:R.b,to:oe.DEFAULT,className:o.title,children:Object(l.jsxs)(m.a,{component:"h1",variant:"subtitle1",noWrap:!0,children:[Object(l.jsxs)(p.a,{smUp:!0,children:[Object(l.jsx)(G,{}),Object(l.jsx)(v.a,{orientation:"vertical",light:!0})]}),Object(l.jsx)(X,{})]})}),Object(l.jsxs)(y.a,{variant:"temporary",anchor:"left",open:c,onClose:s,ModalProps:{keepMounted:!0},PaperProps:{className:o.drawer},children:[Object(l.jsx)(O.a,{variant:"dense"}),Object(l.jsx)(g.a,{container:!0,direction:"column",justifyContent:"space-between",item:!0,xs:!0,children:Object(l.jsx)($,{column:!0})})]})]})}function X(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("strong",{children:"React"})," Demo"]})}var Y=Object(b.a)((function(e){var t,n;return{navTabs:{"& .MuiTabs-indicator":{backgroundColor:(null===(t=e.palette.appBar)||void 0===t?void 0:t.contrastText)||(null===(n=e.palette.primary)||void 0===n?void 0:n.contrastText)}}}}));function $(e){var t=e.column,n=Object(a.e)(),r=Y(),c=n.pathname.split("/")[1]||!1;return Object(l.jsx)(g.a,{container:!0,direction:t?"column":"row",className:t?"":r.navTabs,children:Object(l.jsx)(w.a,{value:c,textColor:t?"primary":"inherit",orientation:t?"vertical":"horizontal",variant:t?"fullWidth":"standard",children:Object(l.jsx)(E.a,{label:"Filters",value:"filters",component:R.b,to:oe.FILTERS,className:r.navLink})})})}var ee=Object(b.a)((function(e){return{avatar:{cursor:"pointer",width:e.spacing(4.5),height:e.spacing(4.5),marginLeft:e.spacing(1)}}}));function te(){var e=Object(i.b)(),t=e.logout,n=e.user,a=Object(r.useState)(null),c=Object(j.a)(a,2),o=c[0],s=c[1],u=ee();if(!n)return null;var d=Boolean(o),b=function(){s(null)};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-login","aria-haspopup":"true",onClick:function(e){s(o?null:e.currentTarget)},color:"inherit",children:Object(l.jsxs)(g.a,{container:!0,alignItems:"center",item:!0,wrap:"nowrap",children:[Object(l.jsx)(p.a,{smDown:!0,children:Object(l.jsx)(m.a,{variant:"caption",color:"inherit",noWrap:!0,children:n.email})}),Object(l.jsx)(k.a,{className:u.avatar,src:n.picture})]})}),Object(l.jsxs)(S.a,{id:"menu-login",anchorEl:o,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:b,children:[Object(l.jsx)(I.a,{onClick:function(){t({returnTo:window.location.origin}),b()},children:"Logout"}),Object(l.jsx)(I.a,{children:Object(l.jsx)(f.a,{href:"https://app.carto.com",children:"Go to CARTO"})})]})]})}function ne(e){var t=e.children;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Z,{}),t]})}var re=Object(r.lazy)((function(){return n.e(15).then(n.bind(null,847))})),ae=Object(r.lazy)((function(){return n.e(14).then(n.bind(null,848))})),ce=Object(r.lazy)((function(){return n.e(13).then(n.bind(null,845))})),ie=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,842))})),oe={LOGIN:"/login",DEFAULT:"/",NOT_FOUND:"/404",FILTERS:"/filters"},le=[{path:oe.DEFAULT,element:Object(l.jsx)(s,{children:Object(l.jsx)(ne,{children:Object(l.jsx)(re,{})})}),children:[{path:oe.DEFAULT,element:Object(l.jsx)(ie,{})},{path:oe.FILTERS,element:Object(l.jsx)(ie,{})}]},{path:oe.LOGIN,element:Object(l.jsx)(ce,{})},{path:"*",element:Object(l.jsx)(ne,{children:Object(l.jsx)(ae,{})})}];t.b=le},488:function(e,t){},504:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),a=n(497),c=n(634),i=n(24),o=Object(a.a)((function(e){return{topLoading:{position:"absolute",top:0,left:0,width:"100%",height:e.spacing(.35),zIndex:9999}}}));function l(){var e=o();return Object(i.jsx)(c.a,{className:e.topLoading,color:"secondary"})}function s(e){var t=e.children,n=e.fallback,a=void 0===n?Object(i.jsx)(l,{}):n;return Object(i.jsx)(r.Suspense,{fallback:a,children:t})}},559:function(e,t){},584:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(45),c=n.n(a),i=n(177),o=n(150),l=n(152),s=n(244),u=n(85),j=n(43),d=n(497),b=n(635),h=n(642),O=n(646),p=n(504),f=n(516),m=n.n(f),v=n(165),g=n(376),x=Object(v.b)(m()(g.cartoThemeOptions,{})),y=n(378),w=n(28),E=n(16),k=n.n(E),S=n(0);var I=n(24),T=Object(d.a)((function(){return{app:{flex:"1 1 auto",overflow:"hidden"}}}));function C(){var e=Object(j.h)(y.b),t=T();return function(){var e=Object(l.b)(),t=e.isAuthenticated,n=e.getAccessTokenSilently,r=Object(i.useDispatch)();Object(S.useEffect)((function(){if(t){var e=function(){var e=Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:t=e.sent,r(Object(s.setCredentials)({accessToken:t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[n,t,r])}(),Object(I.jsxs)(b.a,{theme:x,children:[Object(I.jsx)(h.a,{}),Object(I.jsx)(O.a,{container:!0,direction:"column",className:t.app,children:Object(I.jsx)(p.a,{children:e})})]})}var N=n(174),L=n(10),R=n(130),z=n(201);function F(){}var M=n(377),A={};var D={app:M.a};var P=function(){var e=function(e){var t=Object(r.a)({},e),n=Object.keys(t).length?Object(R.d)(t):F,a=[];return{getReducerMap:function(){return t},reduce:function(e,t){if(a.length>0){e=Object(r.a)({},e);var c,i=Object(L.a)(a);try{for(i.s();!(c=i.n()).done;)delete e[c.value]}catch(o){i.e(o)}finally{i.f()}a=[]}return n(e,t)},add:function(e,r){e&&!t[e]&&(t[e]=r,n=Object(R.d)(t),A.replaceReducer(n))},remove:function(e){e&&t[e]&&(delete t[e],a.push(e),n=Object(R.d)(t),A.replaceReducer(n))}}}(D);return(A=Object(z.configureStore)({reducer:e.reduce,middleware:Object(z.getDefaultMiddleware)({immutableCheck:!1,serializableCheck:!1})})).reducerManager=e,A}();P.reducerManager.add("carto",Object(s.createCartoSlice)(N.a)),Object(u.e)(Object(r.a)({},N.a.credentials));var B=Object(I.jsx)(U,{children:Object(I.jsx)(i.Provider,{store:P,children:Object(I.jsx)(o.a,{children:Object(I.jsx)(C,{})})})});function U(e){var t=e.children;if(!N.a.oauth)return t;var n=N.a.oauth,r=n.domain,a=n.clientId,c=n.scopes,i=n.audience;return a||alert("Need to define a clientId. Please check the file store/initalStateSlice.js"),Object(I.jsx)(l.a,{domain:r,clientId:a,redirectUri:window.location.origin,scopes:c.join(" "),audience:i,cacheLocation:"localstorage",children:t})}c.a.render(B,document.getElementById("root"))}},[[584,7,9]],[15]]);
//# sourceMappingURL=main.9fd3466d.chunk.js.map