{"version":3,"sources":["store/initialStateSlice.js","store/appSlice.js","components/common/ProtectedRoute.js","assets/img/carto-logo.svg","assets/img/carto-logo-xs.svg","components/common/Header.js","components/common/DefaultView.js","routes.js","components/common/TopLoading.js","components/common/LazyLoadRoute.js","theme.js","App.js","hooks/Auth0.js","utils/noop.js","store/store.js","index.js"],"names":["initialState","viewState","latitude","longitude","zoom","pitch","bearing","dragRotate","maxZoom","minZoom","basemap","DARK_MATTER","credentials","apiVersion","API_VERSIONS","V3","apiBaseUrl","accessToken","googleApiKey","googleMapId","slice","createSlice","name","error","bottomSheetOpen","reducers","setError","state","action","payload","setBottomSheetOpen","type","ProtectedRoute","children","useAuth0","isAuthenticated","isLoading","useSelector","carto","oauth","to","ROUTE_PATHS","LOGIN","_g","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCartoLogo","_ref","svgRef","title","titleId","props","xmlns","width","height","viewBox","ref","id","fill","fillRule","fillOpacity","d","ForwardRef","SvgCartoLogoXs","xmlnsXlink","undefined","stroke","strokeWidth","opacity","cx","cy","rx","ry","useStylesCommon","makeStyles","theme","display","fontWeight","typography","fontWeightRegular","color","palette","common","white","marginRight","spacing","subtitle1","lineHeight","verticalAlign","useStyles","header","boxShadow","zIndex","modal","overflow","Header","classes","AppBar","position","className","Toolbar","variant","Mobile","Desktop","useStylesDesktop","divider","margin","location","useLocation","pathname","split","Hidden","xsDown","Link","component","NavLink","DEFAULT","Typography","noWrap","AppName","Divider","orientation","light","NavigationMenu","Grid","container","item","xs","justifyContent","UserMenu","useStylesMobile","menuButton","drawer","minWidth","useState","drawerOpen","setDrawerOpen","useEffect","handleDrawerToggle","smUp","IconButton","onClick","Drawer","anchor","open","onClose","ModalProps","keepMounted","PaperProps","direction","column","useStylesNavigationMenu","navTabs","backgroundColor","appBar","contrastText","primary","vertical","Tabs","value","textColor","Tab","label","FILTERS","navLink","useStylesUserMenu","avatar","cursor","marginLeft","logout","user","anchorEl","setAnchorEl","Boolean","handleClose","edge","event","currentTarget","alignItems","wrap","smDown","email","Avatar","src","picture","Menu","getContentAnchorEl","anchorOrigin","horizontal","transformOrigin","MenuItem","returnTo","window","origin","href","DefaultView","Main","lazy","NotFound","Login","Filters","NOT_FOUND","routes","path","element","topLoading","top","left","TopLoading","LinearProgress","LazyLoadRoute","fallback","createTheme","deepmerge","cartoThemeOptions","app","flex","App","routing","useRoutes","getAccessTokenSilently","dispatch","useDispatch","getAccessToken","a","setCredentials","useAuth","ThemeProvider","CssBaseline","noop","store","staticReducers","appSlice","reducerManager","initialReducers","combinedReducer","combineReducers","keysToRemove","getReducerMap","reduce","add","reducer","replaceReducer","remove","push","createReducerManager","configureStore","middleware","getDefaultMiddleware","immutableCheck","serializableCheck","configureAppStore","createCartoSlice","setDefaultCredentials","AppProvider","OauthProvider","domain","clientId","scopes","audience","alert","redirectUri","join","cacheLocation","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9fd3466d.chunk.js","sourcesContent":["import { VOYAGER, DARK_MATTER } from '@carto/react-basemaps';\nimport { API_VERSIONS } from '@deck.gl/carto';\n\nexport const initialState = {\n  viewState: {\n    latitude: 31.802892,\n    longitude: -103.007813,\n    zoom: 3,\n    pitch: 0,\n    bearing: 0,\n    dragRotate: false,\n    maxZoom: 9,\n    minZoom: 3,\n  },\n  basemap: DARK_MATTER,\n  credentials: {\n    apiVersion: API_VERSIONS.V3,\n    apiBaseUrl: 'https://gcp-us-east1.api.carto.com',\n    accessToken:\n      'eyJhbGciOiJIUzI1NiJ9.eyJhIjoiYWNfN3hoZnd5bWwiLCJqdGkiOiIyNjdhMTI3OCJ9.4cplM6xOocCl1GFKoiKCcEDf2Q9hRRmRWhsMOTCSNBg',\n  },\n  googleApiKey: '', // only required when using a Google Basemap\n  googleMapId: '', // only required when using a Google Custom Basemap\n  /*\n  oauth: {\n    domain: 'auth.carto.com',\n    // Type here your application client id\n    clientId: 'gXLeOO8d39yCQNaN6Bh7DR6bOJb6kExy',\n    scopes: [\n      'read:current_user',\n      'update:current_user',\n      'read:connections',\n      'write:connections',\n      'read:maps',\n      'write:maps',\n      'read:account',\n      'admin:account',\n    ],\n    audience: 'carto-cloud-native-api',\n    authorizeEndPoint: 'https://carto.com/oauth2/authorize', // only valid if keeping https://localhost:3000/oauthCallback\n  },\n  */\n};\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst slice = createSlice({\n  name: 'app',\n  initialState: {\n    error: null,\n    bottomSheetOpen: false,\n  },\n  reducers: {\n    setError: (state, action) => {\n      state.error = action.payload;\n    },\n    setBottomSheetOpen: (state, action) => {\n      state.bottomSheetOpen = action.payload;\n    },\n  },\n});\n\nexport default slice.reducer;\n\nexport const setError = (payload) => ({ type: 'app/setError', payload });\nexport const setBottomSheetOpen = (payload) => ({\n  type: 'app/setBottomSheetOpen',\n  payload,\n});\n","import { Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { initialState } from 'store/initialStateSlice';\nimport { ROUTE_PATHS } from 'routes';\n\nexport default function ProtectedRoute({ children }) {\n  const { isAuthenticated, isLoading } = useAuth0();\n  const accessToken = useSelector((state) => state.carto.credentials.accessToken);\n\n  if (!initialState.oauth) {\n    return children;\n  }\n\n  const notAuthenticated = !isLoading && !isAuthenticated && !accessToken;\n\n  if (notAuthenticated) {\n    return <Navigate to={ROUTE_PATHS.LOGIN} />;\n  }\n\n  return !!accessToken && children;\n}\n","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCartoLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 103,\n    height: 40,\n    viewBox: \"0 0 103 40\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#ffffff\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillOpacity: 0.1,\n    d: \"M82.222 40c11.046 0 20-8.954 20-20s-8.954-20-20-20c-11.045 0-20 8.954-20 20s8.955 20 20 20z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6.948 26.646c2.794 0 4.408-1.22 5.606-2.879l-2.65-1.895c-.761.93-1.541 1.549-2.866 1.549-1.778 0-3.03-1.494-3.03-3.408v-.036c0-1.859 1.252-3.39 3.03-3.39 1.216 0 2.05.602 2.776 1.495l2.65-2.06c-1.126-1.548-2.795-2.642-5.39-2.642-3.846 0-6.676 2.916-6.676 6.633v.037c0 3.808 2.92 6.596 6.55 6.596zm11.643-.255h3.683l.907-2.296h4.917l.907 2.296h3.774l-5.406-12.847H23.98L18.59 26.391zm5.625-5.047l1.433-3.608 1.415 3.608h-2.848zm15.417 5.047h3.52v-3.863h1.56l2.558 3.863h4.046l-3.03-4.446c1.579-.674 2.613-1.968 2.613-3.936v-.037c0-1.257-.381-2.223-1.125-2.97-.853-.856-2.195-1.366-4.137-1.366h-6.005V26.39zm3.52-6.633v-3.08h2.322c1.161 0 1.905.51 1.905 1.531v.037c0 .93-.707 1.512-1.887 1.512h-2.34zm39.07-6.425c3.681 0 6.666 2.985 6.666 6.667s-2.985 6.667-6.667 6.667-6.666-2.985-6.666-6.667 2.984-6.667 6.666-6.667zm-13.493.303v3.097h-3.81v9.658H61.4v-9.658H57.61v-3.097H68.73z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCartoLogo);\nexport default __webpack_public_path__ + \"static/media/carto-logo.60ee54a6.svg\";\nexport { ForwardRef as ReactComponent };","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCartoLogoXs(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"40px\",\n    height: \"40px\",\n    viewBox: \"0 0 40 40\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"Logo/Negative/Symbol\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo/Negative/Symbol\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.0434783,40 C31.0651609,40 40,31.045695 40,20 C40,8.954305 31.0651609,0 20.0434783,0 C9.02179565,0 0.0869565217,8.954305 0.0869565217,20 C0.0869565217,31.045695 9.02179565,40 20.0434783,40 Z\",\n    id: \"Halo\",\n    opacity: 0.2\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    id: \"Circle\",\n    cx: 20.0434783,\n    cy: 20,\n    rx: 6.65217391,\n    ry: 6.66666667\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCartoLogoXs);\nexport default __webpack_public_path__ + \"static/media/carto-logo-xs.5b24a36a.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect, useState } from 'react';\nimport {\n  AppBar,\n  Drawer,\n  Divider,\n  Hidden,\n  Grid,\n  IconButton,\n  Tab,\n  Tabs,\n  Toolbar,\n  Link,\n  makeStyles,\n  Typography,\n  Avatar,\n  Menu,\n  MenuItem,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { ReactComponent as CartoLogo } from 'assets/img/carto-logo.svg';\nimport { ReactComponent as CartoLogoXS } from 'assets/img/carto-logo-xs.svg';\nimport { ROUTE_PATHS } from 'routes';\nimport { useAuth0 } from '@auth0/auth0-react';\n\nconst useStylesCommon = makeStyles((theme) => ({\n  title: {\n    '& h1': {\n      display: 'flex',\n      fontWeight: theme.typography.fontWeightRegular,\n      color: theme.palette.common.white,\n\n      '& strong': {\n        marginRight: theme.spacing(0.5),\n      },\n\n      '& svg': {\n        height: `${theme.typography.subtitle1.lineHeight}em`,\n        marginRight: theme.spacing(1.5),\n        width: 'auto',\n        verticalAlign: 'bottom',\n      },\n    },\n  },\n}));\n\nconst useStyles = makeStyles((theme) => ({\n  header: {\n    boxShadow: 'none',\n    zIndex: theme.zIndex.modal + 1,\n    overflow: 'hidden',\n  },\n}));\n\nexport default function Header() {\n  const classes = useStyles();\n\n  return (\n    <AppBar position='static' className={classes.header}>\n      <Toolbar variant='dense'>\n        <Mobile />\n        <Desktop />\n      </Toolbar>\n    </AppBar>\n  );\n}\n\nconst useStylesDesktop = makeStyles((theme) => ({\n  divider: {\n    margin: theme.spacing(0, 3),\n  },\n}));\n\nfunction Desktop() {\n  const location = useLocation();\n  const classes = {\n    ...useStylesCommon(),\n    ...useStylesDesktop(),\n  };\n\n  const pathname = location.pathname.split('/')[1];\n\n  return (\n    <Hidden xsDown>\n      <Link component={NavLink} to={ROUTE_PATHS.DEFAULT} className={classes.title}>\n        <Typography component='h1' variant='subtitle1' noWrap>\n          <CartoLogo />\n          <AppName />\n        </Typography>\n      </Link>\n      <Divider orientation='vertical' className={classes.divider} light></Divider>\n      <NavigationMenu pathname={pathname} />\n      <Grid container item xs justifyContent='flex-end'>\n        <UserMenu />\n      </Grid>\n    </Hidden>\n  );\n}\n\nconst useStylesMobile = makeStyles((theme) => ({\n  menuButton: {\n    margin: theme.spacing(0, 0.75, 0, -1.25),\n\n    '& + hr': {\n      marginRight: theme.spacing(1.5),\n    },\n  },\n  drawer: {\n    minWidth: 260,\n  },\n}));\n\nfunction Mobile() {\n  const location = useLocation();\n  const [drawerOpen, setDrawerOpen] = useState(false);\n\n  const classes = {\n    ...useStylesCommon(),\n    ...useStylesMobile(),\n  };\n\n  useEffect(() => {\n    setDrawerOpen(false);\n  }, [location]);\n\n  const handleDrawerToggle = () => {\n    setDrawerOpen(!drawerOpen);\n  };\n\n  return (\n    <Hidden smUp>\n      <IconButton\n        className={classes.menuButton}\n        color='inherit'\n        aria-label='menu'\n        onClick={handleDrawerToggle}\n      >\n        {drawerOpen ? <CloseIcon /> : <MenuIcon />}\n      </IconButton>\n      <Divider orientation='vertical' light />\n      <Link component={NavLink} to={ROUTE_PATHS.DEFAULT} className={classes.title}>\n        <Typography component='h1' variant='subtitle1' noWrap>\n          <Hidden smUp>\n            <CartoLogoXS />\n            <Divider orientation='vertical' light />\n          </Hidden>\n          <AppName />\n        </Typography>\n      </Link>\n      <Drawer\n        variant='temporary'\n        anchor='left'\n        open={drawerOpen}\n        onClose={handleDrawerToggle}\n        ModalProps={{\n          keepMounted: true, // Better open performance on mobile.\n        }}\n        PaperProps={{\n          className: classes.drawer,\n        }}\n      >\n        <Toolbar variant='dense' />\n        <Grid container direction='column' justifyContent='space-between' item xs>\n          <NavigationMenu column={true} />\n        </Grid>\n      </Drawer>\n    </Hidden>\n  );\n}\n\nfunction AppName() {\n  return (\n    <>\n      <strong>React</strong> Demo\n    </>\n  );\n}\n\nconst useStylesNavigationMenu = makeStyles((theme) => ({\n  navTabs: {\n    '& .MuiTabs-indicator': {\n      backgroundColor:\n        theme.palette.appBar?.contrastText || theme.palette.primary?.contrastText,\n    },\n  },\n}));\n\nfunction NavigationMenu({ column: vertical }) {\n  const location = useLocation();\n  const classes = useStylesNavigationMenu();\n\n  const pathname = location.pathname.split('/')[1] || false;\n\n  return (\n    <Grid\n      container\n      direction={vertical ? 'column' : 'row'}\n      className={!vertical ? classes.navTabs : ''}\n    >\n      <Tabs\n        value={pathname}\n        textColor={vertical ? 'primary' : 'inherit'}\n        orientation={vertical ? 'vertical' : 'horizontal'}\n        variant={vertical ? 'fullWidth' : 'standard'}\n      >\n        {/* [hygen] Import links */}\n        <Tab\n          label='Filters'\n          value='filters'\n          component={NavLink}\n          to={ROUTE_PATHS.FILTERS}\n          className={classes.navLink}\n        />\n      </Tabs>\n    </Grid>\n  );\n}\n\nconst useStylesUserMenu = makeStyles((theme) => ({\n  avatar: {\n    cursor: 'pointer',\n    width: theme.spacing(4.5),\n    height: theme.spacing(4.5),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nfunction UserMenu() {\n  const { logout, user } = useAuth0();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStylesUserMenu();\n\n  // User is NOT logged in, so display nothing\n  if (!user) {\n    return null;\n  }\n\n  // At this point, there is an oauthApp and the user has logged in (forceOAuthLogin mode).\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event) => {\n    if (!anchorEl) {\n      setAnchorEl(event.currentTarget);\n    } else {\n      setAnchorEl(null);\n    }\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleLogout = () => {\n    logout({ returnTo: window.location.origin });\n    handleClose();\n  };\n\n  // Display User menu, with name, avatar + an attached menu for user-related options\n  return (\n    <>\n      <Link\n        edge='end'\n        aria-label='account of current user'\n        aria-controls='menu-login'\n        aria-haspopup='true'\n        onClick={handleMenu}\n        color='inherit'\n      >\n        <Grid container alignItems='center' item wrap='nowrap'>\n          <Hidden smDown>\n            <Typography variant='caption' color='inherit' noWrap>\n              {user.email}\n            </Typography>\n          </Hidden>\n          <Avatar className={classes.avatar} src={user.picture} />\n        </Grid>\n      </Link>\n      <Menu\n        id='menu-login'\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n        keepMounted\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        open={open}\n        onClose={handleClose}\n      >\n        <MenuItem onClick={handleLogout}>Logout</MenuItem>\n        <MenuItem>\n          <Link href='https://app.carto.com'>Go to CARTO</Link>\n        </MenuItem>\n      </Menu>\n    </>\n  );\n}\n","import Header from 'components/common/Header';\n\nexport default function DefaultView({ children }) {\n  return (\n    <>\n      <Header />\n      {children}\n    </>\n  );\n}\n","import { lazy } from 'react';\nimport ProtectedRoute from 'components/common/ProtectedRoute';\nimport DefaultView from 'components/common/DefaultView';\n\nconst Main = lazy(() => import(/* webpackPrefetch: true */ 'components/views/main/Main'));\nconst NotFound = lazy(() => import('components/views/NotFound'));\nconst Login = lazy(() => import('components/views/Login'));\nconst Filters = lazy(() => import('components/views/Filters.js'));\n// [hygen] Import views\n\nexport const ROUTE_PATHS = {\n  LOGIN: '/login',\n  DEFAULT: '/',\n  NOT_FOUND: '/404',\n  FILTERS: '/filters',\n  // [hygen] Add path routes\n};\n\nconst routes = [\n  {\n    path: ROUTE_PATHS.DEFAULT,\n    element: (\n      <ProtectedRoute>\n        <DefaultView>\n          <Main />\n        </DefaultView>\n      </ProtectedRoute>\n    ),\n    children: [\n      // { path: '/', element: <Navigate to='/<your default view>' /> },\n      { path: ROUTE_PATHS.DEFAULT, element: <Filters /> },\n      { path: ROUTE_PATHS.FILTERS, element: <Filters /> },\n      // [hygen] Add routes\n    ],\n  },\n  { path: ROUTE_PATHS.LOGIN, element: <Login /> },\n  {\n    path: '*',\n    element: (\n      <DefaultView>\n        <NotFound />\n      </DefaultView>\n    ),\n  },\n];\n\nexport default routes;\n","import { LinearProgress, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  topLoading: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: theme.spacing(0.35),\n    zIndex: 9999,\n  },\n}));\n\nexport default function TopLoading() {\n  const classes = useStyles();\n\n  return <LinearProgress className={classes.topLoading} color='secondary' />;\n}\n","import { Suspense } from 'react';\nimport TopLoading from './TopLoading';\n\nexport default function LazyLoadRoute({ children, fallback = <TopLoading /> }) {\n  return <Suspense fallback={fallback}>{children}</Suspense>;\n}\n","import deepmerge from 'deepmerge';\nimport { createTheme } from '@material-ui/core';\nimport { cartoThemeOptions } from '@carto/react-ui';\n\nconst customTheme = {};\n\nconst theme = createTheme(deepmerge(cartoThemeOptions, customTheme));\n\nexport default theme;\n","import { useRoutes } from 'react-router-dom';\nimport { CssBaseline, Grid, makeStyles, ThemeProvider } from '@material-ui/core';\nimport LazyLoadRoute from 'components/common/LazyLoadRoute';\nimport theme from './theme';\nimport routes from './routes';\nimport useAuth from './hooks/Auth0';\n\nconst useStyles = makeStyles(() => ({\n  app: {\n    flex: '1 1 auto',\n    overflow: 'hidden',\n  },\n}));\n\nexport default function App() {\n  const routing = useRoutes(routes);\n  const classes = useStyles();\n  useAuth();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Grid container direction='column' className={classes.app}>\n        <LazyLoadRoute>{routing}</LazyLoadRoute>\n      </Grid>\n    </ThemeProvider>\n  );\n}\n","import { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { setCredentials } from '@carto/react-redux';\n\nexport default function useAuth() {\n  const { isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      const getAccessToken = async () => {\n        let accessToken = await getAccessTokenSilently();\n        dispatch(setCredentials({ accessToken }));\n      };\n      getAccessToken();\n    }\n  }, [getAccessTokenSilently, isAuthenticated, dispatch]);\n\n  return;\n}\n","export default function noop() {}\n","import { combineReducers, configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport noop from 'utils/noop';\nimport appSlice from './appSlice';\n\nlet store = {};\n\nfunction createReducerManager(initialReducers) {\n  // Create an object which maps keys to reducers\n  const reducers = { ...initialReducers };\n\n  // Create the initial combinedReducer\n  let combinedReducer = Object.keys(reducers).length ? combineReducers(reducers) : noop;\n\n  // An array which is used to delete state keys when reducers are removed\n  let keysToRemove = [];\n\n  return {\n    getReducerMap: () => reducers,\n\n    // The root reducer function exposed by this object\n    // This will be passed to the store\n    reduce: (state, action) => {\n      // If any reducers have been removed, clean up their state first\n      if (keysToRemove.length > 0) {\n        state = { ...state };\n        for (let key of keysToRemove) {\n          delete state[key];\n        }\n        keysToRemove = [];\n      }\n\n      // Delegate to the combined reducer\n      return combinedReducer(state, action);\n    },\n\n    // Adds a new reducer with the specified key\n    add: (key, reducer) => {\n      if (!key || reducers[key]) {\n        return;\n      }\n\n      // Add the reducer to the reducer mapping\n      reducers[key] = reducer;\n\n      // Generate a new combined reducer\n      combinedReducer = combineReducers(reducers);\n      store.replaceReducer(combinedReducer);\n    },\n\n    // Removes a reducer with the specified key\n    remove: (key) => {\n      if (!key || !reducers[key]) {\n        return;\n      }\n\n      // Remove it from the reducer mapping\n      delete reducers[key];\n\n      // Add the key to the list of keys to clean up\n      keysToRemove.push(key);\n\n      // Generate a new combined reducer\n      combinedReducer = combineReducers(reducers);\n      store.replaceReducer(combinedReducer);\n    },\n  };\n}\n\nconst staticReducers = {\n  app: appSlice,\n};\n\nfunction getCustomMiddleware() {\n  const devConfig = {\n    immutableCheck: {\n      ignoredPaths: ['carto.viewportFeatures'],\n    },\n    serializableCheck: {\n      ignoredPaths: ['carto.viewportFeatures'],\n      ignoredActions: ['carto/setViewportFeatures'],\n    },\n  };\n\n  const prodConfig = {\n    immutableCheck: false,\n    serializableCheck: false,\n  };\n\n  const isProductionEnv = process.env.NODE_ENV === 'production';\n\n  return getDefaultMiddleware(isProductionEnv ? prodConfig : devConfig);\n}\n\n// Configure the store\nexport default function configureAppStore() {\n  const reducerManager = createReducerManager(staticReducers);\n  store = configureStore({\n    reducer: reducerManager.reduce,\n    middleware: getCustomMiddleware(),\n  });\n\n  store.reducerManager = reducerManager;\n\n  return store;\n}\n","/**\n * Setup the global elements of the react app:\n *  - redux store\n *  - react router\n *  - main component: App\n */\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Auth0Provider } from '@auth0/auth0-react';\nimport { createCartoSlice } from '@carto/react-redux';\nimport { setDefaultCredentials } from '@deck.gl/carto';\nimport App from './App';\nimport { initialState } from 'store/initialStateSlice';\nimport configureAppStore from './store/store';\n\nconst store = configureAppStore();\n\nstore.reducerManager.add('carto', createCartoSlice(initialState));\n\nsetDefaultCredentials({ ...initialState.credentials });\n\nconst AppProvider = (\n  <OauthProvider>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </OauthProvider>\n);\n\nReactDOM.render(AppProvider, document.getElementById('root'));\n\nfunction OauthProvider({ children }) {\n  if (!initialState.oauth) {\n    return children;\n  }\n  const { domain, clientId, scopes, audience } = initialState.oauth;\n\n  if (!clientId) {\n    alert('Need to define a clientId. Please check the file store/initalStateSlice.js');\n  }\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n      scopes={scopes.join(' ')}\n      audience={audience}\n      cacheLocation='localstorage'\n    >\n      {children}\n    </Auth0Provider>\n  );\n}\n"],"sourceRoot":""}