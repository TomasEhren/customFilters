{"version":3,"sources":["utils/formatter.js","utils/htmlForFeature.js","components/layers/PopAggLayer.js","components/layers/PopulationLayer.js","components/layers/CountiesLayer.js","../node_modules/@material-ui/icons/RemoveOutlined.js","../node_modules/@material-ui/icons/AddOutlined.js","components/common/ZoomControl.js","assets/img/carto-logo-map.svg","components/views/main/MapContainer.js","components/layers/index.js"],"names":["DEFAULT_LOCALE","currencyFormatter","value","_value","parseLogicalOperation","prefix","operation","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","notation","compactDisplay","format","numberFormatter","isNaN","match","RegExp","exec","Number","Error","FORMATTER_TYPES","Object","freeze","CURRENCY","NUMBER","formatterFunctions","formatted","DEFAULT_FORMATTER","type","columns","htmlForFeature","title","feature","formatter","includeColumns","showColumnName","propertyNames","keys","properties","supportedTypes","values","includes","length","isArrayOfStrings","column","available","join","isFormatterValid","includedColumnsAreValid","html","name","generateHtml","propertyName","formatterFunction","v","concat","Array","isArray","every","String","POP_AGG_LAYER_ID","PopAggLayer","popAggLayer","useSelector","state","carto","layers","source","selectSourceById","cartoLayerProps","useCartoLayerProps","CartoLayer","id","getFillColor","pointRadiusMinPixels","getLineColor","lineWidthMinPixels","pickable","visible","onHover","info","object","style","POPULATION_LAYER_ID","layerConfig","legend","PopulationLayer","populationLayer","dispatch","useDispatch","parameters","blendFunc","GL","SRC_ALPHA","DST_ALPHA","blendEquation","FUNC_ADD","onDataLoad","data","updateLayer","layerAttributes","COUNTIES_LAYER_ID","CountiesLayer","countiesLayer","_interopRequireDefault","require","_interopRequireWildcard","defineProperty","exports","default","React","_default","createElement","d","useStyles","makeStyles","theme","zoomControl","backgroundColor","palette","background","paper","width","ZoomControl","className","showCurrentZoom","zoomLevel","Math","floor","viewState","zoom","classes","increaseZoom","useCallback","setViewState","decreaseZoom","Grid","container","direction","alignItems","IconButton","onClick","Divider","orientation","flexItem","Box","px","minWidth","Typography","display","align","color","variant","_defs","_g","_excluded","_extends","assign","target","i","arguments","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCartoLogoMap","_ref","svgRef","titleId","props","height","viewBox","xmlns","xmlnsXlink","ref","undefined","in","stroke","strokeWidth","fill","fillRule","filter","fillOpacity","ForwardRef","Map","lazy","mapWrapper","position","flex","overflow","zIndex","bottom","spacing","left","breakpoints","down","cartoLogoMap","transform","gmaps","top","right","MapContainer","isGmaps","BASEMAPS","basemap","item","Hidden","xsDown"],"mappings":"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","file":"static/js/map-container.3e8bece1.chunk.js","sourcesContent":["// int-numberformat dependencies (support for ios v13)\nimport '@formatjs/intl-locale/polyfill';\nimport '@formatjs/intl-getcanonicallocales/polyfill';\n\n// int-pluralrules dependencies (support for ios v12)\nimport '@formatjs/intl-pluralrules/polyfill';\nimport '@formatjs/intl-pluralrules/locale-data/en';\n\n/*\n  Note: `notation` & `compactDisplay` properties are not supported yet by Safari.\n  Those require the use of a polyfill: https://www.npmjs.com/package/@formatjs/intl-numberformat\n*/\nimport '@formatjs/intl-numberformat/polyfill';\nimport '@formatjs/intl-numberformat/locale-data/en';\n\nconst DEFAULT_LOCALE = 'en-US';\nconst CIRCLE_SVG = `<svg width=\"10px\" height=\"10px\" fill=\"#47db99\" viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"5\" cy=\"5\" r=\"5\"/>\n</svg>`;\n\nexport const currencyFormatter = (value) => {\n  const _value = parseLogicalOperation(value);\n  return {\n    prefix: `${_value.operation} $`,\n    value: Intl.NumberFormat(DEFAULT_LOCALE, {\n      maximumFractionDigits: 2,\n      minimumFractionDigits: 2,\n      notation: 'compact',\n      compactDisplay: 'short',\n    }).format(_value.value),\n  };\n};\n\nexport const numberFormatter = (value) => {\n  const _value = parseLogicalOperation(value);\n  return (\n    _value.operation +\n    Intl.NumberFormat(DEFAULT_LOCALE, {\n      maximumFractionDigits: 1,\n      minimumFractionDigits: 0,\n      notation: 'compact',\n      compactDisplay: 'short',\n    }).format(_value.value)\n  );\n};\n\nexport const intervalsFormatter = (value, dataIndex, ticks) => {\n  const _value = numberFormatter(value);\n  if (!ticks || dataIndex === undefined) return _value;\n  const intervals = moneyInterval(dataIndex, ticks);\n  return `${intervals} <br/> ${CIRCLE_SVG} ${_value}`;\n};\n\nconst parseLogicalOperation = (value) => {\n  if (!isNaN(value)) return { value, operation: '' };\n\n  try {\n    // To allow formatting even values after a comparison operator\n    const numberWithComparisonOperators = /([<>]=?)[^$]?(\\d+)/gm; // eg. < 2, <2, >= 3\n    const regExp = new RegExp(numberWithComparisonOperators);\n    const match = regExp.exec(value);\n\n    let operation;\n    if (match) {\n      operation = match[1];\n      value = Number(match[2]);\n    }\n\n    return isNaN(value) ? { value: 0, operation: '' } : { value, operation };\n  } catch {\n    throw new Error(`You are using a numberFormatter on a not valid value: ${value}`);\n  }\n};\n\nconst moneyInterval = (dataIndex, ticks) => {\n  const isFirst = dataIndex === 0;\n  try {\n    if (isFirst || dataIndex === ticks.length) {\n      const comparison = isFirst ? '<' : '≥';\n      const formattedValue = isFirst\n        ? currencyFormatter(ticks[dataIndex])\n        : currencyFormatter(ticks[dataIndex - 1]);\n      return `${comparison} ${formattedValue.prefix}${formattedValue.value}`;\n    } else {\n      dataIndex = dataIndex - 1;\n      const prevTick = currencyFormatter(ticks[dataIndex]);\n      const nextTick = currencyFormatter(ticks[dataIndex + 1]);\n      return `${prevTick.prefix}${prevTick.value} — ${nextTick.prefix}${nextTick.value}`;\n    }\n  } catch {\n    throw new Error(\n      `You are using an \"intervalsFormatter\" on a not valid index: ${dataIndex} & for the ticks ${ticks}`\n    );\n  }\n};\n","import { currencyFormatter, numberFormatter } from 'utils/formatter';\n\nconst FORMATTER_TYPES = Object.freeze({\n  CURRENCY: 'currency',\n  NUMBER: 'number',\n});\n\nconst formatterFunctions = {\n  [FORMATTER_TYPES.CURRENCY](value) {\n    const formatted = currencyFormatter(value);\n    return `${formatted.prefix}${formatted.value}`;\n  },\n  [FORMATTER_TYPES.NUMBER](value) {\n    return numberFormatter(value);\n  },\n};\n\nconst DEFAULT_FORMATTER = {\n  type: '',\n  columns: [],\n};\n\nexport default function htmlForFeature({\n  title,\n  feature,\n  formatter = DEFAULT_FORMATTER,\n  includeColumns = '*',\n  showColumnName = true,\n}) {\n  if (!feature) {\n    throw new Error(`htmlForFeature needs \"info.object\" information`);\n  }\n\n  const propertyNames = Object.keys(feature.properties);\n\n  if (\n    formatter?.type &&\n    formatter?.columns &&\n    !isFormatterValid(propertyNames, formatter)\n  ) {\n    return;\n  }\n\n  if (!includedColumnsAreValid(propertyNames, includeColumns)) {\n    return;\n  }\n\n  let html = '';\n\n  if (title) {\n    html = `<h3 style=\"margin: 0\"><strong>${title}</strong></h3>`;\n  }\n\n  for (const name of propertyNames) {\n    if (\n      name !== 'layerName' &&\n      (includeColumns.includes(name) || includeColumns === '*')\n    ) {\n      if (formatter?.columns.includes(name)) {\n        const formatterFunction = formatterFunctions[formatter.type];\n        html = generateHtml(feature, name, showColumnName, html, formatterFunction);\n      } else {\n        html = generateHtml(feature, name, showColumnName, html);\n      }\n    }\n  }\n\n  return html;\n}\n\nfunction generateHtml(\n  feature,\n  propertyName,\n  showColumnName,\n  html,\n  formatterFunction = (v) => v\n) {\n  return html.concat(\n    `${showColumnName ? `<strong>${propertyName}</strong>: ` : ''}${formatterFunction(\n      feature.properties[propertyName]\n    )}<br/>`\n  );\n}\n\nfunction isFormatterValid(properties, formatter) {\n  const supportedTypes = Object.values(FORMATTER_TYPES);\n\n  if (!supportedTypes.includes(formatter.type)) {\n    throw new Error(\n      `\"${formatter.type}\" is not supported as formatter, use one of \"${supportedTypes}\"`\n    );\n  }\n\n  if (!formatter.columns || formatter.columns.length === 0) return true;\n\n  if (!isArrayOfStrings(formatter.columns)) {\n    throw new Error(`\"formatter.columns\" property needs to be an array of strings`);\n  }\n\n  for (const column of formatter.columns) {\n    if (!properties.includes(column)) {\n      const available = properties.join(', ');\n      throw new Error(\n        `\"formatted.columns\" includes '${column}' but it was not found!. Available cols are [${available}]`\n      );\n    }\n  }\n\n  return true;\n}\n\nfunction includedColumnsAreValid(properties, includeColumns) {\n  if (includeColumns === '*') {\n    return true;\n  }\n\n  if (!isArrayOfStrings(includeColumns)) {\n    throw new Error(\n      `\"includeColumns\" property needs to be an array of existing feature columns or \"*\"`\n    );\n  }\n\n  if (isArrayOfStrings(includeColumns)) {\n    for (const column of includeColumns) {\n      if (!properties.includes(column)) {\n        throw new Error('colums set in \"includeColumns\" should exist in picked feature');\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction isArrayOfStrings(value) {\n  return Array.isArray(value) && value.length && value.every(String);\n}\n","import { useSelector } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\n\nexport const POP_AGG_LAYER_ID = 'popAggLayer';\n\nexport default function PopAggLayer() {\n  const { popAggLayer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, popAggLayer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n\n  if (popAggLayer && source) {\n    return new CartoLayer({\n      ...cartoLayerProps,\n      id: POP_AGG_LAYER_ID,\n      getFillColor: [241, 109, 122],\n      pointRadiusMinPixels: 2,\n      getLineColor: [255, 0, 0],\n      lineWidthMinPixels: 1,\n      pickable: true,\n      visible: false,\n      onHover: (info) => {\n        if (info?.object) {\n          info.object = {\n            html: htmlForFeature({ feature: info.object }),\n            style: {},\n          };\n        }\n      },\n    });\n  }\n}\n","import { useSelector, useDispatch } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById, updateLayer } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\nimport GL from '@luma.gl/constants';\n\nexport const POPULATION_LAYER_ID = 'populationLayer';\nconst layerConfig = {\n  title: 'Population',\n  visible: true,\n  legend: {},\n};\n\nexport default function PopulationLayer() {\n  const { populationLayer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, populationLayer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n  const dispatch = useDispatch();\n\n  if (populationLayer && source) {\n    return new CartoLayer({\n      ...cartoLayerProps,\n      id: POPULATION_LAYER_ID,\n      getFillColor: [217, 219, 94],\n      pointRadiusMinPixels: 0.8,\n      getLineColor: [0, 0, 0],\n      lineWidthMinPixels: 1,\n      pickable: true,\n      parameters: {\n        blendFunc: [GL.SRC_ALPHA, GL.DST_ALPHA],\n        blendEquation: GL.FUNC_ADD,\n      },\n      visible: populationLayer.visible,\n      onDataLoad: (data) => {\n        dispatch(\n          updateLayer({\n            id: POPULATION_LAYER_ID,\n            layerAttributes: { ...layerConfig },\n          })\n        );\n        cartoLayerProps.onDataLoad(data);\n      },\n      onHover: (info) => {\n        if (info?.object) {\n          info.object = {\n            html: htmlForFeature({ feature: info.object }),\n            style: {},\n          };\n        }\n      },\n    });\n  }\n}\n","import { useSelector, useDispatch } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById, updateLayer } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\n\nexport const COUNTIES_LAYER_ID = 'countiesLayer';\n\nconst layerConfig = {\n  title: 'Counties',\n  visible: true,\n  legend: {},\n};\n\nexport default function CountiesLayer() {\n  const { countiesLayer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, countiesLayer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n  const dispatch = useDispatch();\n\n  if (countiesLayer && source) {\n    return new CartoLayer({\n      ...cartoLayerProps,\n      id: COUNTIES_LAYER_ID,\n      getFillColor: [195, 199, 198, 0],\n      pointRadiusMinPixels: 1,\n      getLineColor: [195, 199, 198],\n      lineWidthMinPixels: 0.3,\n      pickable: true,\n      visible: countiesLayer.visible,\n      onDataLoad: (data) => {\n        dispatch(\n          updateLayer({\n            id: COUNTIES_LAYER_ID,\n            layerAttributes: { ...layerConfig },\n          })\n        );\n        cartoLayerProps.onDataLoad(data);\n      },\n      onHover: (info) => {\n        if (info?.object) {\n          info.object = {\n            html: htmlForFeature({ feature: info.object }),\n            style: {},\n          };\n        }\n      },\n    });\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'RemoveOutlined');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'AddOutlined');\n\nexports.default = _default;","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Box,\n  Divider,\n  Grid,\n  IconButton,\n  makeStyles,\n  Typography,\n} from '@material-ui/core';\nimport AddOutlinedIcon from '@material-ui/icons/AddOutlined';\nimport RemoveOutlinedIcon from '@material-ui/icons/RemoveOutlined';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  zoomControl: {\n    backgroundColor: theme.palette.background.paper,\n    width: 'auto',\n  },\n}));\n\nexport default function ZoomControl({ className, showCurrentZoom }) {\n  const dispatch = useDispatch();\n  const zoomLevel = useSelector((state) => Math.floor(state.carto.viewState.zoom));\n  const classes = useStyles();\n\n  const increaseZoom = useCallback(() => {\n    dispatch(setViewState({ zoom: zoomLevel + 1 }));\n  }, [dispatch, zoomLevel]);\n\n  const decreaseZoom = useCallback(() => {\n    dispatch(setViewState({ zoom: zoomLevel - 1 }));\n  }, [dispatch, zoomLevel]);\n\n  return (\n    <Grid\n      container\n      direction='row'\n      alignItems='center'\n      className={`${className} ${classes.zoomControl}`}\n    >\n      <IconButton onClick={decreaseZoom} aria-label='Decrease zoom'>\n        <RemoveOutlinedIcon />\n      </IconButton>\n      <Divider orientation='vertical' flexItem />\n      {showCurrentZoom && (\n        <Box px={1} minWidth={36}>\n          <Typography\n            display='block'\n            align='center'\n            color='textSecondary'\n            variant='overline'\n          >\n            {zoomLevel}\n          </Typography>\n        </Box>\n      )}\n      <Divider orientation='vertical' flexItem />\n      <IconButton onClick={increaseZoom} aria-label='Increase zoom'>\n        <AddOutlinedIcon />\n      </IconButton>\n    </Grid>\n  );\n}\n","var _defs, _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCartoLogoMap(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"62px\",\n    height: \"24px\",\n    viewBox: \"0 0 62 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"CARTO Components/Logo/Positive/Logo\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n    id: \"filter-1\"\n  }, /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n    in: \"SourceGraphic\",\n    type: \"matrix\",\n    values: \"0 0 0 0 0.172549 0 0 0 0 0.188235 0 0 0 0 0.196078 0 0 0 0.600000 0\"\n  })))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"CARTO-Components/Logo/Positive/Logo\",\n    filter: \"url(#filter-1)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Logo\",\n    fill: \"#162945\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.226087,24 C55.8390965,24 61.2,18.627417 61.2,12 C61.2,5.372583 55.8390965,0 49.226087,0 C42.6130774,0 37.2521739,5.372583 37.2521739,12 C37.2521739,18.627417 42.6130774,24 49.226087,24 Z\",\n    id: \"Halo\",\n    fillOpacity: 0.1\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.15947729,15.9877346 C5.83227729,15.9877346 6.79902534,15.2552013 7.51593962,14.260268 L5.93003832,13.1232013 C5.47382014,13.6808013 5.00673962,14.0525346 4.21378897,14.0525346 C3.14927988,14.0525346 2.39977858,13.1560013 2.39977858,12.0080013 L2.39977858,11.9861346 C2.39977858,10.8709346 3.14927988,9.95253464 4.21378897,9.95253464 C4.9415656,9.95253464 5.44123313,10.3133346 5.87572664,10.849068 L7.46162793,9.6136013 C6.788163,8.68426797 5.78882793,8.02826797 4.23551365,8.02826797 C1.93269806,8.02826797 0.238173389,9.7776013 0.238173389,12.0080013 L0.238173389,12.029868 C0.238173389,14.3149346 1.98700975,15.9877346 4.15947729,15.9877346 L4.15947729,15.9877346 Z M11.1304487,15.834668 L13.3355032,15.834668 L13.8786201,14.457068 L16.8223136,14.457068 L17.3654305,15.834668 L19.6247967,15.834668 L16.3878201,8.12666797 L14.3565629,8.12666797 L11.1304487,15.834668 Z M14.4977733,12.8061346 L15.355898,10.6413346 L16.2031604,12.8061346 L14.4977733,12.8061346 Z M23.728111,15.834668 L25.8354045,15.834668 L25.8354045,13.5168013 L26.7695655,13.5168013 L28.3011551,15.834668 L30.7234564,15.834668 L28.909446,13.1669346 C29.8544694,12.7624013 30.4736226,11.9861346 30.4736226,10.8053346 L30.4736226,10.783468 C30.4736226,10.029068 30.2455135,9.4496013 29.8001577,9.00133464 C29.2896278,8.48746797 28.4858148,8.18133464 27.3235447,8.18133464 L23.728111,8.18133464 L23.728111,15.834668 Z M25.8354045,11.8549346 L25.8354045,10.0072013 L27.2257837,10.0072013 C27.9209733,10.0072013 28.3663291,10.3133346 28.3663291,10.9256013 L28.3663291,10.947468 C28.3663291,11.505068 27.942698,11.8549346 27.236646,11.8549346 L25.8354045,11.8549346 Z M49.226087,8 C51.4304235,8 53.2173913,9.790861 53.2173913,12 C53.2173913,14.209139 51.4304235,16 49.226087,16 C47.0217504,16 45.2347826,14.209139 45.2347826,12 C45.2347826,9.790861 47.0217504,8 49.226087,8 Z M41.1486512,8.18133464 L41.1486512,10.0400013 L38.8675603,10.0400013 L38.8675603,15.834668 L36.7602667,15.834668 L36.7602667,10.0400013 L34.4900382,10.0400013 L34.4900382,8.18133464 L41.1486512,8.18133464 Z\"\n  }))))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCartoLogoMap);\nexport default __webpack_public_path__ + \"static/media/carto-logo-map.5c7c203f.svg\";\nexport { ForwardRef as ReactComponent };","import { lazy } from 'react';\nimport { BASEMAPS } from '@carto/react-basemaps';\nimport ZoomControl from 'components/common/ZoomControl';\nimport { getLayers } from 'components/layers';\nimport { ReactComponent as CartoLogoMap } from 'assets/img/carto-logo-map.svg';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { Grid, Hidden } from '@material-ui/core';\nimport { LegendWidget } from '@carto/react-widgets';\nconst Map = lazy(() => import(/* webpackChunkName: 'map' */ 'components/common/map/Map'));\n\nconst useStyles = makeStyles((theme) => ({\n  mapWrapper: {\n    position: 'relative',\n    display: 'flex',\n    flex: '1 1 auto',\n    overflow: 'hidden',\n\n    // [theme.breakpoints.down('xs')]: {\n    //   height: `calc(100% - ${theme.spacing(12) - 1}px)`, // Minus 1 to fix that weirdly sometimes the bottom sheet is 1px lower than needed\n    // },\n\n    // Fix Mapbox attribution button not clickable\n    '& #deckgl-wrapper': {\n      '& #deckgl-overlay': {\n        zIndex: 1,\n      },\n      '& #view-default-view > div': {\n        zIndex: 'auto !important',\n      },\n    },\n  },\n  zoomControl: {\n    position: 'absolute',\n    bottom: theme.spacing(4),\n    left: theme.spacing(4),\n    zIndex: 1,\n\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  cartoLogoMap: {\n    position: 'absolute',\n    bottom: theme.spacing(4),\n    left: '50%',\n    transform: 'translateX(-50%)',\n  },\n  gmaps: {\n    '& $zoomControl': {\n      left: theme.spacing(4),\n      bottom: theme.spacing(5),\n    },\n  },\n  legend: {\n    position: 'absolute',\n    top: theme.spacing(3),\n    right: theme.spacing(2),\n    zIndex: 1,\n  },\n}));\n\nexport default function MapContainer() {\n  const isGmaps = useSelector((state) => BASEMAPS[state.carto.basemap].type === 'gmaps');\n  const classes = useStyles();\n\n  const layers = getLayers();\n\n  return (\n    <Grid item className={`${classes.mapWrapper} ${isGmaps ? classes.gmaps : ''}`}>\n      <LegendWidget className={classes.legend} />\n      <Map layers={layers} />\n      <Hidden xsDown>\n        <ZoomControl className={classes.zoomControl} showCurrentZoom />\n      </Hidden>\n      {!isGmaps && <CartoLogoMap className={classes.cartoLogoMap} />}\n    </Grid>\n  );\n}\n","import CountiesLayer from './CountiesLayer';\nimport PopulationLayer from './PopulationLayer';\nimport PopAggLayer from './PopAggLayer';\n// [hygen] Import layers\n\nexport const getLayers = () => {\n  return [\n    CountiesLayer(),\n    PopulationLayer(),\n    PopAggLayer(),\n    // [hygen] Add layer\n  ];\n};\n"],"sourceRoot":""}