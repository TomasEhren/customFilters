[{"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/index.js":"1","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/App.js":"2","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/store.js":"3","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/initialStateSlice.js":"4","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/theme.js":"5","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/routes.js":"6","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/appSlice.js":"7","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/hooks/Auth0.js":"8","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/noop.js":"9","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/LazyLoadRoute.js":"10","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/DefaultView.js":"11","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ProtectedRoute.js":"12","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/NotFound.js":"13","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Login.js":"14","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/Main.js":"15","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/TopLoading.js":"16","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/Header.js":"17","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/Sidebar.js":"18","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/LazyLoadComponent.js":"19","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ErrorSnackbar.js":"20","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/MapContainer.js":"21","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ZoomControl.js":"22","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/Map.js":"23","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/index.js":"24","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/GoogleMapsComponent.js":"25","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/DeckGLComponent.js":"26","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js":"27","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Filters.js":"28","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/CountiesLayer.js":"29","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/countiesSource.js":"30","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/htmlForFeature.js":"31","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/formatter.js":"32","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/PopulationLayer.js":"33","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/populationSource.js":"34","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/widgets/CustomCategoryWidget.js":"35","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/widgets/useWidgetFilterValues.js":"36","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/PopAggLayer.js":"37","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/popAggSource.js":"38"},{"size":1469,"mtime":1652107042355,"results":"39","hashOfConfig":"40"},{"size":729,"mtime":1652107042346,"results":"41","hashOfConfig":"40"},{"size":2722,"mtime":1652107042357,"results":"42","hashOfConfig":"40"},{"size":1250,"mtime":1652200162170,"results":"43","hashOfConfig":"40"},{"size":256,"mtime":1652107042357,"results":"44","hashOfConfig":"40"},{"size":1219,"mtime":1652178750298,"results":"45","hashOfConfig":"40"},{"size":564,"mtime":1652107042356,"results":"46","hashOfConfig":"40"},{"size":626,"mtime":1652107042354,"results":"47","hashOfConfig":"40"},{"size":34,"mtime":1652107042358,"results":"48","hashOfConfig":"40"},{"size":219,"mtime":1652107042349,"results":"49","hashOfConfig":"40"},{"size":167,"mtime":1652107042348,"results":"50","hashOfConfig":"40"},{"size":670,"mtime":1652107042350,"results":"51","hashOfConfig":"40"},{"size":1756,"mtime":1652107042352,"results":"52","hashOfConfig":"40"},{"size":3989,"mtime":1652107042352,"results":"53","hashOfConfig":"40"},{"size":1033,"mtime":1652107042353,"results":"54","hashOfConfig":"40"},{"size":407,"mtime":1652107042350,"results":"55","hashOfConfig":"40"},{"size":7147,"mtime":1652178632538,"results":"56","hashOfConfig":"40"},{"size":4048,"mtime":1652107042353,"results":"57","hashOfConfig":"40"},{"size":172,"mtime":1652107042349,"results":"58","hashOfConfig":"40"},{"size":520,"mtime":1652107042349,"results":"59","hashOfConfig":"40"},{"size":2252,"mtime":1652256173352,"results":"60","hashOfConfig":"40"},{"size":1787,"mtime":1652107042350,"results":"61","hashOfConfig":"40"},{"size":1975,"mtime":1652107042351,"results":"62","hashOfConfig":"40"},{"size":301,"mtime":1652199272823,"results":"63","hashOfConfig":"40"},{"size":906,"mtime":1652107042351,"results":"64","hashOfConfig":"40"},{"size":1131,"mtime":1652107042351,"results":"65","hashOfConfig":"40"},{"size":1895,"mtime":1652107042351,"results":"66","hashOfConfig":"40"},{"size":3485,"mtime":1652199746616,"results":"67","hashOfConfig":"40"},{"size":1457,"mtime":1652256345946,"results":"68","hashOfConfig":"40"},{"size":794,"mtime":1652177405577,"results":"69","hashOfConfig":"40"},{"size":3270,"mtime":1652107042357,"results":"70","hashOfConfig":"40"},{"size":3201,"mtime":1652107042357,"results":"71","hashOfConfig":"40"},{"size":1617,"mtime":1652256457426,"results":"72","hashOfConfig":"40"},{"size":953,"mtime":1652193407185,"results":"73","hashOfConfig":"40"},{"size":6017,"mtime":1652256649156,"results":"74","hashOfConfig":"40"},{"size":837,"mtime":1652123063787,"results":"75","hashOfConfig":"40"},{"size":1051,"mtime":1652199577186,"results":"76","hashOfConfig":"40"},{"size":1257,"mtime":1652200541488,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"78shi8",{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"80"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"98","messages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"112","messages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"114","messages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"120","messages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"134","messages":"135","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"80"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"145","messages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"149","messages":"150","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"151"},{"filePath":"152","messages":"153","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"154","messages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"156","messages":"157","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/index.js",[],["158","159"],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/App.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/store.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/initialStateSlice.js",["160"],"import { VOYAGER, DARK_MATTER } from '@carto/react-basemaps';\nimport { API_VERSIONS } from '@deck.gl/carto';\n\nexport const initialState = {\n  viewState: {\n    latitude: 31.802892,\n    longitude: -103.007813,\n    zoom: 3,\n    pitch: 0,\n    bearing: 0,\n    dragRotate: false,\n    maxZoom: 9,\n    minZoom: 3,\n  },\n  basemap: DARK_MATTER,\n  credentials: {\n    apiVersion: API_VERSIONS.V3,\n    apiBaseUrl: 'https://gcp-us-east1.api.carto.com',\n    accessToken:\n      'eyJhbGciOiJIUzI1NiJ9.eyJhIjoiYWNfN3hoZnd5bWwiLCJqdGkiOiIyNjdhMTI3OCJ9.4cplM6xOocCl1GFKoiKCcEDf2Q9hRRmRWhsMOTCSNBg',\n  },\n  googleApiKey: '', // only required when using a Google Basemap\n  googleMapId: '', // only required when using a Google Custom Basemap\n  /*\n  oauth: {\n    domain: 'auth.carto.com',\n    // Type here your application client id\n    clientId: 'gXLeOO8d39yCQNaN6Bh7DR6bOJb6kExy',\n    scopes: [\n      'read:current_user',\n      'update:current_user',\n      'read:connections',\n      'write:connections',\n      'read:maps',\n      'write:maps',\n      'read:account',\n      'admin:account',\n    ],\n    audience: 'carto-cloud-native-api',\n    authorizeEndPoint: 'https://carto.com/oauth2/authorize', // only valid if keeping https://localhost:3000/oauthCallback\n  },\n  */\n};\n","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/theme.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/routes.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/store/appSlice.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/hooks/Auth0.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/noop.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/LazyLoadRoute.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/DefaultView.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ProtectedRoute.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/NotFound.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Login.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/Main.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/TopLoading.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/Header.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/Sidebar.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/LazyLoadComponent.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ErrorSnackbar.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/main/MapContainer.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ZoomControl.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/Map.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/index.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/GoogleMapsComponent.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/DeckGLComponent.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Filters.js",["161","162","163"],"import { useEffect } from 'react';\nimport popAggSource from 'data/sources/popAggSource';\nimport { POP_AGG_LAYER_ID } from 'components/layers/PopAggLayer';\nimport populationSource from 'data/sources/populationSource';\nimport { POPULATION_LAYER_ID } from 'components/layers/PopulationLayer';\nimport countiesSource from 'data/sources/countiesSource';\nimport { COUNTIES_LAYER_ID } from 'components/layers/CountiesLayer';\nimport { useDispatch } from 'react-redux';\nimport { addLayer, removeLayer, addSource, removeSource } from '@carto/react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\n\n//import { CategoryWidget } from '@carto/react-widgets';\nimport { AggregationTypes } from '@carto/react-core';\n\nimport CustomCategoryWidget from 'components/widgets/CustomCategoryWidget';\nimport { FormulaWidget } from '@carto/react-widgets';\n\nconst useStyles = makeStyles(() => ({\n  filters: {},\n}));\n\nexport default function Filters() {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  useEffect(() => {\n    dispatch(addSource(populationSource));\n\n    dispatch(\n      addLayer({\n        id: POPULATION_LAYER_ID,\n        source: populationSource.id,\n      })\n    );\n\n    return () => {\n      dispatch(removeLayer(POPULATION_LAYER_ID));\n      dispatch(removeSource(populationSource.id));\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(addSource(countiesSource));\n\n    dispatch(\n      addLayer({\n        id: COUNTIES_LAYER_ID,\n        source: countiesSource.id,\n      })\n    );\n\n    return () => {\n      dispatch(removeLayer(COUNTIES_LAYER_ID));\n      dispatch(removeSource(countiesSource.id));\n    };\n  }, [dispatch]);\n\n  useEffect(() => {\n    dispatch(addSource(popAggSource));\n\n    dispatch(\n      addLayer({\n        id: POP_AGG_LAYER_ID,\n        source: popAggSource.id,\n      })\n    );\n\n    return () => {\n      dispatch(removeLayer(POP_AGG_LAYER_ID));\n      dispatch(removeSource(popAggSource.id));\n    };\n  }, [dispatch]);\n\n  // [hygen] Add useEffect\n  const CustomFormatter = (value) => {\n    const formatted =\n      value > 1e6\n        ? `${Math.round(value / 1e6, 2)} M`\n        : value > 1e3\n        ? `${Math.round(value / 1e3, 2)} k`\n        : `${value}`;\n    return formatted;\n  };\n  return (\n    <Grid container direction='column' className={classes.filters}>\n      <Grid item>\n        <FormulaWidget\n          id='totPop'\n          title='Total Population'\n          dataSource={popAggSource.id}\n          column='aggregated_total'\n          operation={AggregationTypes.SUM}\n          formatter={(v) => CustomFormatter(v)}\n          onError={console.error}\n        />\n        <CustomCategoryWidget\n          id='stateCategory'\n          title='State Name'\n          dataSource={countiesSource.id}\n          column='state'\n          operation={AggregationTypes.COUNT}\n          onError={console.error}\n          otherSources={[\n            { id: populationSource.id, column: 'state' },\n            { id: popAggSource.id, column: 'state' },\n          ]}\n        />\n        <CustomCategoryWidget\n          id='countyCategory'\n          title='County Name'\n          dataSource={countiesSource.id}\n          column='county'\n          operation={AggregationTypes.COUNT}\n          onError={console.error}\n          otherSources={[\n            { id: populationSource.id, column: 'county' },\n            { id: popAggSource.id, column: 'county' },\n          ]}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/CountiesLayer.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/countiesSource.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/htmlForFeature.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/utils/formatter.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/PopulationLayer.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/populationSource.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/widgets/CustomCategoryWidget.js",["164"],"import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, CategoryWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '@carto/react-widgets';\nimport { useSourceFilters } from '@carto/react-widgets';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux/';\nimport { useWidgetFilterValues } from './useWidgetFilterValues';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <CustomCategoryWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format each value returned.\n * @param  {Object} [props.labels] - Overwrite category labels.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.searchable] - Enable/disable widget searching capabilities. Enabled by default.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param {Array} [props.otherSources] - Extra sources to filter based on the main source.\n */\nfunction CustomCategoryWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    column,\n    operationColumn,\n    operation,\n    formatter,\n    labels,\n    animation,\n    filterable,\n    searchable,\n    onError,\n    wrapperProps,\n    noDataAlertProps,\n    otherSources,\n  } = props;\n  const dispatch = useDispatch();\n  const isSourceReady = useSelector((state) => {\n    const sources = [...otherSources.map((e) => e.id), dataSource];\n    const areSourcesReady = sources.map((e) => selectAreFeaturesReadyForSource(state, e));\n    return areSourcesReady.every((v) => v === true);\n  });\n\n  const [categoryData, setCategoryData] = useState([]);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const filters = useSourceFilters({ dataSource, id });\n  const selectedCategories =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getCategories({\n        column,\n        operationColumn,\n        operation,\n        filters,\n        dataSource,\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setCategoryData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    column,\n    operationColumn,\n    operation,\n    filters,\n    dataSource,\n    setIsLoading,\n    onError,\n    isSourceReady,\n  ]);\n\n  const handleSelectedCategoriesChange = useCallback(\n    (categories) => {\n      if (categories && categories.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: categories,\n            owner: id,\n          })\n        );\n        otherSources.forEach((e) => {\n          dispatch(\n            addFilter({\n              id: e.id,\n              column: e.column,\n              type: FilterTypes.IN,\n              values: categories,\n              owner: id,\n            })\n          );\n        });\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column,\n          })\n        );\n        otherSources.forEach((e) => {\n          dispatch(\n            removeFilter({\n              id: e.id,\n              column: e.column,\n            })\n          );\n        });\n      }\n    },\n    [column, dataSource, id, dispatch]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      {categoryData.length || isLoading ? (\n        <CategoryWidgetUI\n          data={categoryData}\n          formatter={formatter}\n          labels={labels}\n          selectedCategories={selectedCategories}\n          onSelectedCategoriesChange={handleSelectedCategoriesChange}\n          animation={animation}\n          filterable={filterable}\n          searchable={searchable}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nCustomCategoryWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.string,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  labels: PropTypes.object,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n};\n\nCustomCategoryWidget.defaultProps = {\n  labels: {},\n  animation: true,\n  filterable: true,\n  searchable: true,\n  wrapperProps: {},\n  noDataAlertProps: {},\n};\n\nexport default CustomCategoryWidget;\n","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/widgets/useWidgetFilterValues.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/PopAggLayer.js",[],"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/data/sources/popAggSource.js",[],{"ruleId":"165","replacedBy":"166"},{"ruleId":"167","replacedBy":"168"},{"ruleId":"169","severity":1,"message":"170","line":1,"column":10,"nodeType":"171","messageId":"172","endLine":1,"endColumn":17},{"ruleId":"173","severity":1,"message":"174","line":96,"column":20,"nodeType":"175","messageId":"176","endLine":96,"endColumn":33},{"ruleId":"173","severity":1,"message":"174","line":104,"column":20,"nodeType":"175","messageId":"176","endLine":104,"endColumn":33},{"ruleId":"173","severity":1,"message":"174","line":116,"column":20,"nodeType":"175","messageId":"176","endLine":116,"endColumn":33},{"ruleId":"177","severity":1,"message":"178","line":141,"column":5,"nodeType":"179","endLine":141,"endColumn":39,"suggestions":"180"},"no-native-reassign",["181"],"no-negated-in-lhs",["182"],"no-unused-vars","'VOYAGER' is defined but never used.","Identifier","unusedVar","no-console","Unexpected console statement.","MemberExpression","unexpected","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'otherSources'. Either include it or remove the dependency array.","ArrayExpression",["183"],"no-global-assign","no-unsafe-negation",{"desc":"184","fix":"185"},"Update the dependencies array to be: [dispatch, dataSource, column, id, otherSources]",{"range":"186","text":"187"},[4656,4690],"[dispatch, dataSource, column, id, otherSources]"]