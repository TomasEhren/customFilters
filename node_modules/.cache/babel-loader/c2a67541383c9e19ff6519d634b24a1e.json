{"ast":null,"code":"import { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { setViewState } from '@carto/react-redux';\nconst useStyles = makeStyles(theme => ({\n  tooltip: {\n    '& .content': { ...theme.typography.caption,\n      position: 'relative',\n      padding: theme.spacing(1, 1.5),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[900],\n      color: 'rgba(255, 255, 255, 0.75)',\n      transform: `translate(-50%, calc(-100% - ${theme.spacing(2.5)}px))`,\n      '& .arrow': {\n        display: 'block',\n        position: 'absolute',\n        top: 'calc(100% - 1px)',\n        left: '50%',\n        width: 0,\n        height: 0,\n        marginLeft: theme.spacing(-1),\n        borderLeft: `${theme.spacing(1)}px solid transparent`,\n        borderRight: `${theme.spacing(1)}px solid transparent`,\n        borderTop: `${theme.spacing(1)}px solid ${theme.palette.grey[900]}`\n      }\n    }\n  }\n}));\nexport function useMapHooks() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  let isHovering = false;\n\n  const handleViewStateChange = _ref => {\n    let {\n      viewState\n    } = _ref;\n    dispatch(setViewState(viewState));\n  };\n\n  const handleSizeChange = _ref2 => {\n    let {\n      width,\n      height\n    } = _ref2;\n    dispatch(setViewState({\n      width,\n      height\n    }));\n  };\n\n  const handleHover = _ref3 => {\n    let {\n      object\n    } = _ref3;\n    return isHovering = !!object;\n  };\n\n  const handleCursor = _ref4 => {\n    let {\n      isDragging\n    } = _ref4;\n    return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n  };\n\n  const handleTooltip = info => {\n    var _info$object;\n\n    if (info !== null && info !== void 0 && (_info$object = info.object) !== null && _info$object !== void 0 && _info$object.html) {\n      return {\n        html: `<div class='content'>${info.object.html}<div class='arrow'></div></div>`,\n        className: classes.tooltip,\n        style: {\n          padding: 0,\n          background: 'none'\n        }\n      };\n    }\n  };\n\n  return {\n    handleViewStateChange,\n    handleSizeChange,\n    handleHover,\n    handleCursor,\n    handleTooltip\n  };\n}","map":{"version":3,"names":["useDispatch","makeStyles","setViewState","useStyles","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","useMapHooks","classes","dispatch","isHovering","handleViewStateChange","viewState","handleSizeChange","handleHover","object","handleCursor","isDragging","handleTooltip","info","html","className","style","background"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  tooltip: {\n    '& .content': {\n      ...theme.typography.caption,\n      position: 'relative',\n      padding: theme.spacing(1, 1.5),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[900],\n      color: 'rgba(255, 255, 255, 0.75)',\n      transform: `translate(-50%, calc(-100% - ${theme.spacing(2.5)}px))`,\n\n      '& .arrow': {\n        display: 'block',\n        position: 'absolute',\n        top: 'calc(100% - 1px)',\n        left: '50%',\n        width: 0,\n        height: 0,\n        marginLeft: theme.spacing(-1),\n        borderLeft: `${theme.spacing(1)}px solid transparent`,\n        borderRight: `${theme.spacing(1)}px solid transparent`,\n        borderTop: `${theme.spacing(1)}px solid ${theme.palette.grey[900]}`,\n      },\n    },\n  },\n}));\n\nexport function useMapHooks() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  let isHovering = false;\n\n  const handleViewStateChange = ({ viewState }) => {\n    dispatch(setViewState(viewState));\n  };\n\n  const handleSizeChange = ({ width, height }) => {\n    dispatch(setViewState({ width, height }));\n  };\n\n  const handleHover = ({ object }) => (isHovering = !!object);\n  const handleCursor = ({ isDragging }) =>\n    isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n\n  const handleTooltip = (info) => {\n    if (info?.object?.html) {\n      return {\n        html: `<div class='content'>${info.object.html}<div class='arrow'></div></div>`,\n        className: classes.tooltip,\n        style: {\n          padding: 0,\n          background: 'none',\n        },\n      };\n    }\n  };\n\n  return {\n    handleViewStateChange,\n    handleSizeChange,\n    handleHover,\n    handleCursor,\n    handleTooltip,\n  };\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,YAAT,QAA6B,oBAA7B;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;EACvCC,OAAO,EAAE;IACP,cAAc,EACZ,GAAGD,KAAK,CAACE,UAAN,CAAiBC,OADR;MAEZC,QAAQ,EAAE,UAFE;MAGZC,OAAO,EAAEL,KAAK,CAACM,OAAN,CAAc,CAAd,EAAiB,GAAjB,CAHG;MAIZC,YAAY,EAAEP,KAAK,CAACQ,KAAN,CAAYD,YAJd;MAKZE,eAAe,EAAET,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CALL;MAMZC,KAAK,EAAE,2BANK;MAOZC,SAAS,EAAG,gCAA+Bb,KAAK,CAACM,OAAN,CAAc,GAAd,CAAmB,MAPlD;MASZ,YAAY;QACVQ,OAAO,EAAE,OADC;QAEVV,QAAQ,EAAE,UAFA;QAGVW,GAAG,EAAE,kBAHK;QAIVC,IAAI,EAAE,KAJI;QAKVC,KAAK,EAAE,CALG;QAMVC,MAAM,EAAE,CANE;QAOVC,UAAU,EAAEnB,KAAK,CAACM,OAAN,CAAc,CAAC,CAAf,CAPF;QAQVc,UAAU,EAAG,GAAEpB,KAAK,CAACM,OAAN,CAAc,CAAd,CAAiB,sBARtB;QASVe,WAAW,EAAG,GAAErB,KAAK,CAACM,OAAN,CAAc,CAAd,CAAiB,sBATvB;QAUVgB,SAAS,EAAG,GAAEtB,KAAK,CAACM,OAAN,CAAc,CAAd,CAAiB,YAAWN,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAAwB;MAVxD;IATA;EADP;AAD8B,CAAZ,CAAD,CAA5B;AA2BA,OAAO,SAASY,WAAT,GAAuB;EAC5B,MAAMC,OAAO,GAAGzB,SAAS,EAAzB;EACA,MAAM0B,QAAQ,GAAG7B,WAAW,EAA5B;EAEA,IAAI8B,UAAU,GAAG,KAAjB;;EAEA,MAAMC,qBAAqB,GAAG,QAAmB;IAAA,IAAlB;MAAEC;IAAF,CAAkB;IAC/CH,QAAQ,CAAC3B,YAAY,CAAC8B,SAAD,CAAb,CAAR;EACD,CAFD;;EAIA,MAAMC,gBAAgB,GAAG,SAAuB;IAAA,IAAtB;MAAEZ,KAAF;MAASC;IAAT,CAAsB;IAC9CO,QAAQ,CAAC3B,YAAY,CAAC;MAAEmB,KAAF;MAASC;IAAT,CAAD,CAAb,CAAR;EACD,CAFD;;EAIA,MAAMY,WAAW,GAAG;IAAA,IAAC;MAAEC;IAAF,CAAD;IAAA,OAAiBL,UAAU,GAAG,CAAC,CAACK,MAAhC;EAAA,CAApB;;EACA,MAAMC,YAAY,GAAG;IAAA,IAAC;MAAEC;IAAF,CAAD;IAAA,OACnBA,UAAU,GAAG,UAAH,GAAgBP,UAAU,GAAG,SAAH,GAAe,MADhC;EAAA,CAArB;;EAGA,MAAMQ,aAAa,GAAIC,IAAD,IAAU;IAAA;;IAC9B,IAAIA,IAAJ,aAAIA,IAAJ,+BAAIA,IAAI,CAAEJ,MAAV,yCAAI,aAAcK,IAAlB,EAAwB;MACtB,OAAO;QACLA,IAAI,EAAG,wBAAuBD,IAAI,CAACJ,MAAL,CAAYK,IAAK,iCAD1C;QAELC,SAAS,EAAEb,OAAO,CAACvB,OAFd;QAGLqC,KAAK,EAAE;UACLjC,OAAO,EAAE,CADJ;UAELkC,UAAU,EAAE;QAFP;MAHF,CAAP;IAQD;EACF,CAXD;;EAaA,OAAO;IACLZ,qBADK;IAELE,gBAFK;IAGLC,WAHK;IAILE,YAJK;IAKLE;EALK,CAAP;AAOD"},"metadata":{},"sourceType":"module"}