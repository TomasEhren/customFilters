{"ast":null,"code":"import _objectSpread from\"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useDispatch}from'react-redux';import{makeStyles}from'@material-ui/core';import{setViewState}from'@carto/react-redux';var useStyles=makeStyles(function(theme){return{tooltip:{'& .content':_objectSpread(_objectSpread({},theme.typography.caption),{},{position:'relative',padding:theme.spacing(1,1.5),borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[900],color:'rgba(255, 255, 255, 0.75)',transform:\"translate(-50%, calc(-100% - \".concat(theme.spacing(2.5),\"px))\"),'& .arrow':{display:'block',position:'absolute',top:'calc(100% - 1px)',left:'50%',width:0,height:0,marginLeft:theme.spacing(-1),borderLeft:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderRight:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderTop:\"\".concat(theme.spacing(1),\"px solid \").concat(theme.palette.grey[900])}})}};});export function useMapHooks(){var classes=useStyles();var dispatch=useDispatch();var isHovering=false;var handleViewStateChange=function handleViewStateChange(_ref){var viewState=_ref.viewState;dispatch(setViewState(viewState));};var handleSizeChange=function handleSizeChange(_ref2){var width=_ref2.width,height=_ref2.height;dispatch(setViewState({width:width,height:height}));};var handleHover=function handleHover(_ref3){var object=_ref3.object;return isHovering=!!object;};var handleCursor=function handleCursor(_ref4){var isDragging=_ref4.isDragging;return isDragging?'grabbing':isHovering?'pointer':'grab';};var handleTooltip=function handleTooltip(info){var _info$object;if(info!==null&&info!==void 0&&(_info$object=info.object)!==null&&_info$object!==void 0&&_info$object.html){return{html:\"<div class='content'>\".concat(info.object.html,\"<div class='arrow'></div></div>\"),className:classes.tooltip,style:{padding:0,background:'none'}};}};return{handleViewStateChange:handleViewStateChange,handleSizeChange:handleSizeChange,handleHover:handleHover,handleCursor:handleCursor,handleTooltip:handleTooltip};}","map":{"version":3,"names":["useDispatch","makeStyles","setViewState","useStyles","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","useMapHooks","classes","dispatch","isHovering","handleViewStateChange","viewState","handleSizeChange","handleHover","object","handleCursor","isDragging","handleTooltip","info","html","className","style","background"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  tooltip: {\n    '& .content': {\n      ...theme.typography.caption,\n      position: 'relative',\n      padding: theme.spacing(1, 1.5),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[900],\n      color: 'rgba(255, 255, 255, 0.75)',\n      transform: `translate(-50%, calc(-100% - ${theme.spacing(2.5)}px))`,\n\n      '& .arrow': {\n        display: 'block',\n        position: 'absolute',\n        top: 'calc(100% - 1px)',\n        left: '50%',\n        width: 0,\n        height: 0,\n        marginLeft: theme.spacing(-1),\n        borderLeft: `${theme.spacing(1)}px solid transparent`,\n        borderRight: `${theme.spacing(1)}px solid transparent`,\n        borderTop: `${theme.spacing(1)}px solid ${theme.palette.grey[900]}`,\n      },\n    },\n  },\n}));\n\nexport function useMapHooks() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  let isHovering = false;\n\n  const handleViewStateChange = ({ viewState }) => {\n    dispatch(setViewState(viewState));\n  };\n\n  const handleSizeChange = ({ width, height }) => {\n    dispatch(setViewState({ width, height }));\n  };\n\n  const handleHover = ({ object }) => (isHovering = !!object);\n  const handleCursor = ({ isDragging }) =>\n    isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n\n  const handleTooltip = (info) => {\n    if (info?.object?.html) {\n      return {\n        html: `<div class='content'>${info.object.html}<div class='arrow'></div></div>`,\n        className: classes.tooltip,\n        style: {\n          padding: 0,\n          background: 'none',\n        },\n      };\n    }\n  };\n\n  return {\n    handleViewStateChange,\n    handleSizeChange,\n    handleHover,\n    handleCursor,\n    handleTooltip,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}