{"ast":null,"code":"import _classCallCheck from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { PointLight } from './point-light';\nimport { getUniformsFromViewport } from '../../shaderlib/project/viewport-uniforms';\n\nvar CameraLight = /*#__PURE__*/function (_PointLight) {\n  _inherits(CameraLight, _PointLight);\n\n  var _super = _createSuper(CameraLight);\n\n  function CameraLight() {\n    _classCallCheck(this, CameraLight);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CameraLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight(_ref) {\n      var layer = _ref.layer;\n      var projectedLight = this.projectedLight;\n      var viewport = layer.context.viewport;\n      var _layer$props = layer.props,\n          coordinateSystem = _layer$props.coordinateSystem,\n          coordinateOrigin = _layer$props.coordinateOrigin,\n          modelMatrix = _layer$props.modelMatrix;\n\n      var _getUniformsFromViewp = getUniformsFromViewport({\n        viewport: viewport,\n        modelMatrix: modelMatrix,\n        coordinateSystem: coordinateSystem,\n        coordinateOrigin: coordinateOrigin\n      }),\n          project_uCameraPosition = _getUniformsFromViewp.project_uCameraPosition;\n\n      projectedLight.color = this.color;\n      projectedLight.intensity = this.intensity;\n      projectedLight.position = project_uCameraPosition;\n      return projectedLight;\n    }\n  }]);\n\n  return CameraLight;\n}(PointLight);\n\nexport { CameraLight as default };","map":{"version":3,"mappings":";;;;AAAA,SAAQA,UAAR,QAAyB,eAAzB;AACA,SAAQC,uBAAR,QAAsC,2CAAtC;;IAEqBC,W;;;;;;;;;;;;;WACnBC,iCAA2B;MAAA,IAARC,KAAQ,QAARA,KAAQ;MACzB,IAAOC,cAAP,GAAyB,IAAzB,CAAOA,cAAP;MACA,IAAMC,QAAQ,GAAGF,KAAK,CAACG,OAANH,CAAcE,QAA/B;MACA,mBAA0DF,KAAK,CAACI,KAAhE;MAAA,IAAOC,gBAAP,gBAAOA,gBAAP;MAAA,IAAyBC,gBAAzB,gBAAyBA,gBAAzB;MAAA,IAA2CC,WAA3C,gBAA2CA,WAA3C;;MAEA,4BAAkCV,uBAAuB,CAAC;QACxDK,QADwD,EACxDA,QADwD;QAExDK,WAFwD,EAExDA,WAFwD;QAGxDF,gBAHwD,EAGxDA,gBAHwD;QAIxDC;MAJwD,CAAD,CAAzD;MAAA,IAAOE,uBAAP,yBAAOA,uBAAP;;MAMAP,cAAc,CAACQ,KAAfR,GAAuB,KAAKQ,KAA5BR;MACAA,cAAc,CAACS,SAAfT,GAA2B,KAAKS,SAAhCT;MACAA,cAAc,CAACU,QAAfV,GAA0BO,uBAA1BP;MACA,OAAOA,cAAP;IACD;;;;EAhBsCL,U;;SAApBE,W","names":["PointLight","getUniformsFromViewport","CameraLight","getProjectedLight","layer","projectedLight","viewport","context","props","coordinateSystem","coordinateOrigin","modelMatrix","project_uCameraPosition","color","intensity","position"],"sources":["../../../../src/effects/lighting/camera-light.js"],"sourcesContent":["import {PointLight} from './point-light';\nimport {getUniformsFromViewport} from '../../shaderlib/project/viewport-uniforms';\n\nexport default class CameraLight extends PointLight {\n  getProjectedLight({layer}) {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin, modelMatrix} = layer.props;\n    // @ts-expect-error\n    const {project_uCameraPosition} = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}