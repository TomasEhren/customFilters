{"ast":null,"code":"import _asyncToGenerator from\"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/regenerator/index.js\";import{useDispatch}from'react-redux';import{useEffect}from'react';import{useAuth0}from'@auth0/auth0-react';import{setCredentials}from'@carto/react-redux';export default function useAuth(){var _useAuth=useAuth0(),isAuthenticated=_useAuth.isAuthenticated,getAccessTokenSilently=_useAuth.getAccessTokenSilently;var dispatch=useDispatch();useEffect(function(){if(isAuthenticated){var getAccessToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var accessToken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getAccessTokenSilently();case 2:accessToken=_context.sent;dispatch(setCredentials({accessToken:accessToken}));case 4:case\"end\":return _context.stop();}}},_callee);}));return function getAccessToken(){return _ref.apply(this,arguments);};}();getAccessToken();}},[getAccessTokenSilently,isAuthenticated,dispatch]);return;}","map":{"version":3,"names":["useDispatch","useEffect","useAuth0","setCredentials","useAuth","isAuthenticated","getAccessTokenSilently","dispatch","getAccessToken","accessToken"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/hooks/Auth0.js"],"sourcesContent":["import { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { setCredentials } from '@carto/react-redux';\n\nexport default function useAuth() {\n  const { isAuthenticated, getAccessTokenSilently } = useAuth0();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      const getAccessToken = async () => {\n        let accessToken = await getAccessTokenSilently();\n        dispatch(setCredentials({ accessToken }));\n      };\n      getAccessToken();\n    }\n  }, [getAccessTokenSilently, isAuthenticated, dispatch]);\n\n  return;\n}\n"],"mappings":"mTAAA,OAASA,WAAT,KAA4B,aAA5B,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,cAAT,KAA+B,oBAA/B,CAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,CAChC,aAAoDF,QAAQ,EAA5D,CAAQG,eAAR,UAAQA,eAAR,CAAyBC,sBAAzB,UAAyBA,sBAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAC,SAAS,CAAC,UAAM,CACd,GAAII,eAAJ,CAAqB,CACnB,GAAMG,CAAAA,cAAc,0FAAG,yKACGF,CAAAA,sBAAsB,EADzB,QACjBG,WADiB,eAErBF,QAAQ,CAACJ,cAAc,CAAC,CAAEM,WAAW,CAAXA,WAAF,CAAD,CAAf,CAAR,CAFqB,sDAAH,kBAAdD,CAAAA,cAAc,0CAApB,CAIAA,cAAc,GACf,CACF,CARQ,CAQN,CAACF,sBAAD,CAAyBD,eAAzB,CAA0CE,QAA1C,CARM,CAAT,CAUA,OACD"},"metadata":{},"sourceType":"module"}