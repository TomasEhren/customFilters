{"ast":null,"code":"import _objectSpread from\"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useSelector,useDispatch}from'react-redux';import{CartoLayer}from'@deck.gl/carto';import{selectSourceById,updateLayer}from'@carto/react-redux';import{useCartoLayerProps}from'@carto/react-api';import htmlForFeature from'utils/htmlForFeature';export var COUNTIES_LAYER_ID='countiesLayer';var layerConfig={title:'Counties',visible:true,legend:{}};export default function CountiesLayer(){var _useSelector=useSelector(function(state){return state.carto.layers;}),countiesLayer=_useSelector.countiesLayer;var source=useSelector(function(state){return selectSourceById(state,countiesLayer===null||countiesLayer===void 0?void 0:countiesLayer.source);});var cartoLayerProps=useCartoLayerProps({source:source});var dispatch=useDispatch();if(countiesLayer&&source){return new CartoLayer(_objectSpread(_objectSpread({},cartoLayerProps),{},{id:COUNTIES_LAYER_ID,getFillColor:[195,199,198,0],pointRadiusMinPixels:1,getLineColor:[195,199,198],lineWidthMinPixels:0.3,pickable:true,visible:countiesLayer.visible,onDataLoad:function onDataLoad(data){dispatch(updateLayer({id:COUNTIES_LAYER_ID,layerAttributes:_objectSpread({},layerConfig)}));cartoLayerProps.onDataLoad(data);},onHover:function onHover(info){if(info!==null&&info!==void 0&&info.object){info.object={html:htmlForFeature({feature:info.object}),style:{}};}}}));}}","map":{"version":3,"names":["useSelector","useDispatch","CartoLayer","selectSourceById","updateLayer","useCartoLayerProps","htmlForFeature","COUNTIES_LAYER_ID","layerConfig","title","visible","legend","CountiesLayer","state","carto","layers","countiesLayer","source","cartoLayerProps","dispatch","id","getFillColor","pointRadiusMinPixels","getLineColor","lineWidthMinPixels","pickable","onDataLoad","data","layerAttributes","onHover","info","object","html","feature","style"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/CountiesLayer.js"],"sourcesContent":["import { useSelector, useDispatch } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById, updateLayer } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\n\nexport const COUNTIES_LAYER_ID = 'countiesLayer';\n\nconst layerConfig = {\n  title: 'Counties',\n  visible: true,\n  legend: {},\n};\n\nexport default function CountiesLayer() {\n  const { countiesLayer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, countiesLayer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n  const dispatch = useDispatch();\n\n  if (countiesLayer && source) {\n    return new CartoLayer({\n      ...cartoLayerProps,\n      id: COUNTIES_LAYER_ID,\n      getFillColor: [195, 199, 198, 0],\n      pointRadiusMinPixels: 1,\n      getLineColor: [195, 199, 198],\n      lineWidthMinPixels: 0.3,\n      pickable: true,\n      visible: countiesLayer.visible,\n      onDataLoad: (data) => {\n        dispatch(\n          updateLayer({\n            id: COUNTIES_LAYER_ID,\n            layerAttributes: { ...layerConfig },\n          })\n        );\n        cartoLayerProps.onDataLoad(data);\n      },\n      onHover: (info) => {\n        if (info?.object) {\n          info.object = {\n            html: htmlForFeature({ feature: info.object }),\n            style: {},\n          };\n        }\n      },\n    });\n  }\n}\n"],"mappings":"uJAAA,OAASA,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,gBAA3B,CACA,OAASC,gBAAT,CAA2BC,WAA3B,KAA8C,oBAA9C,CACA,OAASC,kBAAT,KAAmC,kBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,sBAA3B,CAEA,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,eAA1B,CAEP,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,CAAE,UADW,CAElBC,OAAO,CAAE,IAFS,CAGlBC,MAAM,CAAE,EAHU,CAApB,CAMA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACtC,iBAA0BZ,WAAW,CAAC,SAACa,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,CAAYC,MAAvB,EAAD,CAArC,CAAQC,aAAR,cAAQA,aAAR,CACA,GAAMC,CAAAA,MAAM,CAAGjB,WAAW,CAAC,SAACa,KAAD,QAAWV,CAAAA,gBAAgB,CAACU,KAAD,CAAQG,aAAR,SAAQA,aAAR,iBAAQA,aAAa,CAAEC,MAAvB,CAA3B,EAAD,CAA1B,CACA,GAAMC,CAAAA,eAAe,CAAGb,kBAAkB,CAAC,CAAEY,MAAM,CAANA,MAAF,CAAD,CAA1C,CACA,GAAME,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CAEA,GAAIe,aAAa,EAAIC,MAArB,CAA6B,CAC3B,MAAO,IAAIf,CAAAA,UAAJ,gCACFgB,eADE,MAELE,EAAE,CAAEb,iBAFC,CAGLc,YAAY,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CAAgB,CAAhB,CAHT,CAILC,oBAAoB,CAAE,CAJjB,CAKLC,YAAY,CAAE,CAAC,GAAD,CAAM,GAAN,CAAW,GAAX,CALT,CAMLC,kBAAkB,CAAE,GANf,CAOLC,QAAQ,CAAE,IAPL,CAQLf,OAAO,CAAEM,aAAa,CAACN,OARlB,CASLgB,UAAU,CAAE,oBAACC,IAAD,CAAU,CACpBR,QAAQ,CACNf,WAAW,CAAC,CACVgB,EAAE,CAAEb,iBADM,CAEVqB,eAAe,kBAAOpB,WAAP,CAFL,CAAD,CADL,CAAR,CAMAU,eAAe,CAACQ,UAAhB,CAA2BC,IAA3B,EACD,CAjBI,CAkBLE,OAAO,CAAE,iBAACC,IAAD,CAAU,CACjB,GAAIA,IAAJ,SAAIA,IAAJ,WAAIA,IAAI,CAAEC,MAAV,CAAkB,CAChBD,IAAI,CAACC,MAAL,CAAc,CACZC,IAAI,CAAE1B,cAAc,CAAC,CAAE2B,OAAO,CAAEH,IAAI,CAACC,MAAhB,CAAD,CADR,CAEZG,KAAK,CAAE,EAFK,CAAd,CAID,CACF,CAzBI,GAAP,CA2BD,CACF"},"metadata":{},"sourceType":"module"}