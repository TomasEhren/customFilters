{"ast":null,"code":"var _jsxFileName = \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Filters.js\";\nimport { useEffect } from 'react';\nimport countiesSource from 'data/sources/countiesSource';\nimport { COUNTIES_LAYER_ID } from 'components/layers/CountiesLayer';\nimport { useDispatch } from 'react-redux';\nimport { addLayer, removeLayer, addSource, removeSource } from '@carto/react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { CategoryWidget } from '@carto/react-widgets';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  filters: {}\n}));\nexport default function Filters() {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n  useEffect(() => {\n    dispatch(addSource(countiesSource));\n    dispatch(addLayer({\n      id: COUNTIES_LAYER_ID,\n      source: countiesSource.id\n    }));\n    return () => {\n      dispatch(removeLayer(COUNTIES_LAYER_ID));\n      dispatch(removeSource(countiesSource.id));\n    };\n  }, [dispatch]); // [hygen] Add useEffect\n\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    direction: \"column\",\n    className: classes.filters,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      children: /*#__PURE__*/_jsxDEV(CategoryWidget, {\n        id: \"populationByContinent\",\n        title: \"Population by continent\",\n        dataSource: \"countriesSourceId\",\n        column: \"continent\",\n        operationColumn: \"population\",\n        operation: AggregationTypes.SUM,\n        formatter: customFormatter,\n        onError: console.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["useEffect","countiesSource","COUNTIES_LAYER_ID","useDispatch","addLayer","removeLayer","addSource","removeSource","makeStyles","Grid","CategoryWidget","useStyles","filters","Filters","dispatch","classes","id","source","AggregationTypes","SUM","customFormatter","console","error"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/views/Filters.js"],"sourcesContent":["import { useEffect } from 'react';\nimport countiesSource from 'data/sources/countiesSource';\nimport { COUNTIES_LAYER_ID } from 'components/layers/CountiesLayer';\nimport { useDispatch } from 'react-redux';\nimport { addLayer, removeLayer, addSource, removeSource } from '@carto/react-redux';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\n\nimport { CategoryWidget } from '@carto/react-widgets';\n\nconst useStyles = makeStyles(() => ({\n  filters: {},\n}));\n\nexport default function Filters() {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  useEffect(() => {\n    dispatch(addSource(countiesSource));\n\n    dispatch(\n      addLayer({\n        id: COUNTIES_LAYER_ID,\n        source: countiesSource.id,\n      })\n    );\n\n    return () => {\n      dispatch(removeLayer(COUNTIES_LAYER_ID));\n      dispatch(removeSource(countiesSource.id));\n    };\n  }, [dispatch]);\n\n  // [hygen] Add useEffect\n\n  return (\n    <Grid container direction='column' className={classes.filters}>\n      <Grid item>\n        <CategoryWidget\n          id='populationByContinent'\n          title='Population by continent'\n          dataSource='countriesSourceId'\n          column='continent'\n          operationColumn='population'\n          operation={AggregationTypes.SUM}\n          formatter={customFormatter}\n          onError={console.error}\n        />\n      </Grid>\n    </Grid>\n  );\n}\n"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,SAASC,iBAAT,QAAkC,iCAAlC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,EAA2CC,YAA3C,QAA+D,oBAA/D;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,IAAT,QAAqB,mBAArB;AAEA,SAASC,cAAT,QAA+B,sBAA/B;;AAEA,MAAMC,SAAS,GAAGH,UAAU,CAAC,OAAO;EAClCI,OAAO,EAAE;AADyB,CAAP,CAAD,CAA5B;AAIA,eAAe,SAASC,OAAT,GAAmB;EAChC,MAAMC,QAAQ,GAAGX,WAAW,EAA5B;EACA,MAAMY,OAAO,GAAGJ,SAAS,EAAzB;EAEAX,SAAS,CAAC,MAAM;IACdc,QAAQ,CAACR,SAAS,CAACL,cAAD,CAAV,CAAR;IAEAa,QAAQ,CACNV,QAAQ,CAAC;MACPY,EAAE,EAAEd,iBADG;MAEPe,MAAM,EAAEhB,cAAc,CAACe;IAFhB,CAAD,CADF,CAAR;IAOA,OAAO,MAAM;MACXF,QAAQ,CAACT,WAAW,CAACH,iBAAD,CAAZ,CAAR;MACAY,QAAQ,CAACP,YAAY,CAACN,cAAc,CAACe,EAAhB,CAAb,CAAR;IACD,CAHD;EAID,CAdQ,EAcN,CAACF,QAAD,CAdM,CAAT,CAJgC,CAoBhC;;EAEA,oBACE,QAAC,IAAD;IAAM,SAAS,MAAf;IAAgB,SAAS,EAAC,QAA1B;IAAmC,SAAS,EAAEC,OAAO,CAACH,OAAtD;IAAA,uBACE,QAAC,IAAD;MAAM,IAAI,MAAV;MAAA,uBACE,QAAC,cAAD;QACE,EAAE,EAAC,uBADL;QAEE,KAAK,EAAC,yBAFR;QAGE,UAAU,EAAC,mBAHb;QAIE,MAAM,EAAC,WAJT;QAKE,eAAe,EAAC,YALlB;QAME,SAAS,EAAEM,gBAAgB,CAACC,GAN9B;QAOE,SAAS,EAAEC,eAPb;QAQE,OAAO,EAAEC,OAAO,CAACC;MARnB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAgBD"},"metadata":{},"sourceType":"module"}