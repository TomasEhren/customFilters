{"ast":null,"code":"import _objectSpread from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"apiVersion\"];\nimport { API_VERSIONS } from './api/maps-api-common';\nexport var defaultClassicCredentials = {\n  apiKey: 'default_public',\n  region: 'us',\n  username: 'public'\n};\nexport var defaultCloudNativeCredentials = {\n  apiBaseUrl: 'https://gcp-us-east1.api.carto.com'\n};\nvar credentials = {};\nsetDefaultCredentials({});\nexport function setDefaultCredentials(_ref) {\n  var apiVersion = _ref.apiVersion,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  apiVersion = apiVersion || API_VERSIONS.V3;\n\n  switch (apiVersion) {\n    case API_VERSIONS.V1:\n    case API_VERSIONS.V2:\n      credentials = _objectSpread(_objectSpread({\n        apiVersion: apiVersion\n      }, defaultClassicCredentials), rest);\n      break;\n\n    case API_VERSIONS.V3:\n      credentials = _objectSpread(_objectSpread({\n        apiVersion: apiVersion\n      }, defaultCloudNativeCredentials), rest);\n      break;\n\n    default:\n      throw new Error(\"Invalid API version \".concat(apiVersion, \". Use API_VERSIONS enum.\"));\n  }\n}\nexport function getDefaultCredentials() {\n  return credentials;\n}\nexport function buildMapsUrlFromBase(apiBaseUrl) {\n  var suffix = '/v3/maps';\n\n  if (apiBaseUrl.endsWith('/')) {\n    suffix = suffix.substring(1);\n  }\n\n  return \"\".concat(apiBaseUrl).concat(suffix);\n}","map":{"version":3,"mappings":";;;AAAA,SAAQA,YAAR,QAA2B,uBAA3B;AAEA,OAAO,IAAMC,yBAAyB,GAAG;EACvCC,MAAM,EAAE,gBAD+B;EAEvCC,MAAM,EAAE,IAF+B;EAGvCC,QAAQ,EAAE;AAH6B,CAAlC;AAMP,OAAO,IAAMC,6BAA6B,GAAG;EAC3CC,UAAU,EAAE;AAD+B,CAAtC;AAoBP,IAAIC,WAAwB,GAAG,EAA/B;AAEAC,qBAAqB,CAAC,EAAD,CAArBA;AAEA,OAAO,SAASA,qBAAT,OAA4E;EAAA,IAA5CC,UAA4C,QAA5CA,UAA4C;EAAA,IAA7BC,IAA6B;;EACjFD,UAAU,GAAGA,UAAU,IAAIT,YAAY,CAACW,EAAxCF;;EAEA,QAAQA,UAAR;IACE,KAAKT,YAAY,CAACY,EAAlB;IACA,KAAKZ,YAAY,CAACa,EAAlB;MACEN,WAAW;QAAIE,UAAD,EAACA;MAAJ,GAAmBR,yBAAnB,GAAiDS,IAAjD,CAAXH;MACA;;IACF,KAAKP,YAAY,CAACW,EAAlB;MACEJ,WAAW;QAAIE,UAAD,EAACA;MAAJ,GAAmBJ,6BAAnB,GAAqDK,IAArD,CAAXH;MACA;;IACF;MACE,MAAM,IAAIO,KAAJ,+BAAiCL,UAAjC,8BAAN;EATJ;AAWD;AAED,OAAO,SAASM,qBAAT,GAA8C;EACnD,OAAOR,WAAP;AACD;AAED,OAAO,SAASS,oBAAT,CAA8BV,UAA9B,EAA0D;EAC/D,IAAIW,MAAM,GAAG,UAAb;;EACA,IAAIX,UAAU,CAACY,QAAXZ,CAAoB,GAApBA,CAAJ,EAA8B;IAC5BW,MAAM,GAAGA,MAAM,CAACE,SAAPF,CAAiB,CAAjBA,CAATA;EACD;;EAED,iBAAUX,UAAV,SAAuBW,MAAvB;AACD","names":["API_VERSIONS","defaultClassicCredentials","apiKey","region","username","defaultCloudNativeCredentials","apiBaseUrl","credentials","setDefaultCredentials","apiVersion","rest","V3","V1","V2","Error","getDefaultCredentials","buildMapsUrlFromBase","suffix","endsWith","substring"],"sources":["../../src/config.ts"],"sourcesContent":["import {API_VERSIONS} from './api/maps-api-common';\n\nexport const defaultClassicCredentials = {\n  apiKey: 'default_public',\n  region: 'us',\n  username: 'public'\n} as const;\n\nexport const defaultCloudNativeCredentials = {\n  apiBaseUrl: 'https://gcp-us-east1.api.carto.com'\n} as const;\n\nexport interface ClassicCredentials {\n  apiVersion: 'v1' | 'v2';\n  apiKey: string;\n  region: string;\n  username: string;\n  mapsUrl?: string;\n}\n\nexport interface CloudNativeCredentials {\n  apiVersion: 'v3';\n  apiBaseUrl: string;\n  accessToken?: string;\n  mapsUrl?: string;\n}\n\nexport type Credentials = ClassicCredentials | CloudNativeCredentials;\nlet credentials: Credentials = {} as Credentials;\n\nsetDefaultCredentials({});\n\nexport function setDefaultCredentials({apiVersion, ...rest}: Partial<Credentials>) {\n  apiVersion = apiVersion || API_VERSIONS.V3;\n\n  switch (apiVersion) {\n    case API_VERSIONS.V1:\n    case API_VERSIONS.V2:\n      credentials = {apiVersion, ...defaultClassicCredentials, ...rest};\n      break;\n    case API_VERSIONS.V3:\n      credentials = {apiVersion, ...defaultCloudNativeCredentials, ...rest};\n      break;\n    default:\n      throw new Error(`Invalid API version ${apiVersion}. Use API_VERSIONS enum.`);\n  }\n}\n\nexport function getDefaultCredentials(): Credentials {\n  return credentials;\n}\n\nexport function buildMapsUrlFromBase(apiBaseUrl: string): string {\n  let suffix = '/v3/maps';\n  if (apiBaseUrl.endsWith('/')) {\n    suffix = suffix.substring(1);\n  }\n\n  return `${apiBaseUrl}${suffix}`;\n}\n"]},"metadata":{},"sourceType":"module"}