{"ast":null,"code":"const DATA_URL_PATTERN = /^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/;\nconst MIME_TYPE_PATTERN = /^([-\\w.]+\\/[-\\w.+]+)/;\nexport function parseMIMEType(mimeString) {\n  const matches = MIME_TYPE_PATTERN.exec(mimeString);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return mimeString;\n}\nexport function parseMIMETypeFromURL(url) {\n  const matches = DATA_URL_PATTERN.exec(url);\n\n  if (matches) {\n    return matches[1];\n  }\n\n  return '';\n}","map":{"version":3,"mappings":"AAGA,MAAMA,gBAAgB,GAAG,gCAAzB;AACA,MAAMC,iBAAiB,GAAG,sBAA1B;AAUA,OAAO,SAASC,aAAT,CAAuBC,UAAvB,EAAmD;EAExD,MAAMC,OAAO,GAAGH,iBAAiB,CAACI,IAAlBJ,CAAuBE,UAAvBF,CAAhB;;EACA,IAAIG,OAAJ,EAAa;IACX,OAAOA,OAAO,CAAC,CAAD,CAAd;EACD;;EACD,OAAOD,UAAP;AACD;AAWD,OAAO,SAASG,oBAAT,CAA8BC,GAA9B,EAAmD;EAExD,MAAMH,OAAO,GAAGJ,gBAAgB,CAACK,IAAjBL,CAAsBO,GAAtBP,CAAhB;;EACA,IAAII,OAAJ,EAAa;IACX,OAAOA,OAAO,CAAC,CAAD,CAAd;EACD;;EACD,OAAO,EAAP;AACD","names":["DATA_URL_PATTERN","MIME_TYPE_PATTERN","parseMIMEType","mimeString","matches","exec","parseMIMETypeFromURL","url"],"sources":["../../../../src/lib/utils/mime-type-utils.ts"],"sourcesContent":["// TODO - build/integrate proper MIME type parsing\n// https://mimesniff.spec.whatwg.org/\n\nconst DATA_URL_PATTERN = /^data:([-\\w.]+\\/[-\\w.+]+)(;|,)/;\nconst MIME_TYPE_PATTERN = /^([-\\w.]+\\/[-\\w.+]+)/;\n\n/**\n * Remove extra data like `charset` from MIME types\n * @param mimeString\n * @returns A clean MIME type, or an empty string\n *\n * @todo - handle more advanced MIMETYpes, multiple types\n * @todo - extract charset etc\n */\nexport function parseMIMEType(mimeString: string): string {\n  // If resource is a data url, extract any embedded mime type\n  const matches = MIME_TYPE_PATTERN.exec(mimeString);\n  if (matches) {\n    return matches[1];\n  }\n  return mimeString;\n}\n\n/**\n * Extract MIME type from data URL\n *\n * @param mimeString\n * @returns A clean MIME type, or an empty string\n *\n * @todo - handle more advanced MIMETYpes, multiple types\n * @todo - extract charset etc\n */\nexport function parseMIMETypeFromURL(url: string): string {\n  // If resource is a data URL, extract any embedded mime type\n  const matches = DATA_URL_PATTERN.exec(url);\n  if (matches) {\n    return matches[1];\n  }\n  return '';\n}\n"]},"metadata":{},"sourceType":"module"}