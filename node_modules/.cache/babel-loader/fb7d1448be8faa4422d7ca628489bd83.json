{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport VectorTileLayer from './vector-tile-layer';\nexport default class VectorTile {\n  constructor(pbf, end) {\n    _defineProperty(this, \"layers\", void 0);\n\n    this.layers = pbf.readFields(readTile, {}, end);\n  }\n\n}\n\nfunction readTile(tag, layers, pbf) {\n  if (tag === 3) {\n    if (pbf) {\n      const layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n\n      if (layer.length && layers) {\n        layers[layer.name] = layer;\n      }\n    }\n  }\n}","map":{"version":3,"mappings":";AAEA,OAAOA,eAAP,MAA4B,qBAA5B;AAGA,eAAe,MAAMC,UAAN,CAAiB;EAE9BC,WAAW,CAACC,GAAD,EAAgBC,GAAhB,EAA8B;IAAAC;;IACvC,KAAKC,MAAL,GAAcH,GAAG,CAACI,UAAJJ,CAAeK,QAAfL,EAAyB,EAAzBA,EAA6BC,GAA7BD,CAAd;EACD;;AAJ6B;;AAahC,SAASK,QAAT,CAAkBC,GAAlB,EAA+BH,MAA/B,EAAwEH,GAAxE,EAA8F;EAC5F,IAAIM,GAAG,KAAK,CAAZ,EAAe;IACb,IAAIN,GAAJ,EAAS;MACP,MAAMO,KAAK,GAAG,IAAIV,eAAJ,CAAoBG,GAApB,EAAyBA,GAAG,CAACQ,UAAJR,KAAmBA,GAAG,CAACS,GAAhD,CAAd;;MACA,IAAIF,KAAK,CAACG,MAANH,IAAgBJ,MAApB,EAA4B;QAC1BA,MAAM,CAACI,KAAK,CAACI,IAAP,CAANR,GAAqBI,KAArBJ;MACD;IACF;EACF;AACF","names":["VectorTileLayer","VectorTile","constructor","pbf","end","_defineProperty","layers","readFields","readTile","tag","layer","readVarint","pos","length","name"],"sources":["../../../../src/lib/binary-vector-tile/vector-tile.ts"],"sourcesContent":["// This code is forked from https://github.com/mapbox/vector-tile-js under BSD 3-clause license.\n\nimport VectorTileLayer from './vector-tile-layer';\nimport Protobuf from 'pbf';\n\nexport default class VectorTile {\n  layers: {[x: string]: VectorTileLayer};\n  constructor(pbf: Protobuf, end?: number) {\n    this.layers = pbf.readFields(readTile, {}, end);\n  }\n}\n\n/**\n *\n * @param tag\n * @param layers\n * @param pbf\n */\nfunction readTile(tag: number, layers?: {[x: string]: VectorTileLayer}, pbf?: Protobuf): void {\n  if (tag === 3) {\n    if (pbf) {\n      const layer = new VectorTileLayer(pbf, pbf.readVarint() + pbf.pos);\n      if (layer.length && layers) {\n        layers[layer.name] = layer;\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}