{"ast":null,"code":"import { useSelector } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\nimport GL from '@luma.gl/constants';\nexport const POPULATION_LAYER_ID = 'populationLayer';\nexport default function PopulationLayer() {\n  const {\n    populationLayer\n  } = useSelector(state => state.carto.layers);\n  const source = useSelector(state => selectSourceById(state, populationLayer === null || populationLayer === void 0 ? void 0 : populationLayer.source));\n  const cartoLayerProps = useCartoLayerProps({\n    source\n  });\n\n  if (populationLayer && source) {\n    return new CartoLayer({ ...cartoLayerProps,\n      id: POPULATION_LAYER_ID,\n      getFillColor: [255, 0, 0],\n      pointRadiusMinPixels: 2,\n      getLineColor: [255, 0, 0],\n      lineWidthMinPixels: 1,\n      pickable: true,\n      parameters: {\n        blendFunc: [GL.SRC_ALPHA, GL.DST_ALPHA],\n        blendEquation: GL.FUNC_ADD\n      },\n      onHover: info => {\n        if (info !== null && info !== void 0 && info.object) {\n          info.object = {\n            html: htmlForFeature({\n              feature: info.object\n            }),\n            style: {}\n          };\n        }\n      }\n    });\n  }\n}","map":{"version":3,"names":["useSelector","CartoLayer","selectSourceById","useCartoLayerProps","htmlForFeature","GL","POPULATION_LAYER_ID","PopulationLayer","populationLayer","state","carto","layers","source","cartoLayerProps","id","getFillColor","pointRadiusMinPixels","getLineColor","lineWidthMinPixels","pickable","parameters","blendFunc","SRC_ALPHA","DST_ALPHA","blendEquation","FUNC_ADD","onHover","info","object","html","feature","style"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/layers/PopulationLayer.js"],"sourcesContent":["import { useSelector } from 'react-redux';\nimport { CartoLayer } from '@deck.gl/carto';\nimport { selectSourceById } from '@carto/react-redux';\nimport { useCartoLayerProps } from '@carto/react-api';\nimport htmlForFeature from 'utils/htmlForFeature';\nimport GL from '@luma.gl/constants';\n\nexport const POPULATION_LAYER_ID = 'populationLayer';\n\nexport default function PopulationLayer() {\n  const { populationLayer } = useSelector((state) => state.carto.layers);\n  const source = useSelector((state) => selectSourceById(state, populationLayer?.source));\n  const cartoLayerProps = useCartoLayerProps({ source });\n\n  if (populationLayer && source) {\n    return new CartoLayer({\n      ...cartoLayerProps,\n      id: POPULATION_LAYER_ID,\n      getFillColor: [255, 0, 0],\n      pointRadiusMinPixels: 2,\n      getLineColor: [255, 0, 0],\n      lineWidthMinPixels: 1,\n      pickable: true,\n      parameters: {\n        blendFunc: [GL.SRC_ALPHA, GL.DST_ALPHA],\n        blendEquation: GL.FUNC_ADD,\n      },\n      onHover: (info) => {\n        if (info?.object) {\n          info.object = {\n            html: htmlForFeature({ feature: info.object }),\n            style: {},\n          };\n        }\n      },\n    });\n  }\n}\n"],"mappings":"AAAA,SAASA,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,gBAA3B;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,OAAOC,EAAP,MAAe,oBAAf;AAEA,OAAO,MAAMC,mBAAmB,GAAG,iBAA5B;AAEP,eAAe,SAASC,eAAT,GAA2B;EACxC,MAAM;IAAEC;EAAF,IAAsBR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,KAAN,CAAYC,MAAxB,CAAvC;EACA,MAAMC,MAAM,GAAGZ,WAAW,CAAES,KAAD,IAAWP,gBAAgB,CAACO,KAAD,EAAQD,eAAR,aAAQA,eAAR,uBAAQA,eAAe,CAAEI,MAAzB,CAA5B,CAA1B;EACA,MAAMC,eAAe,GAAGV,kBAAkB,CAAC;IAAES;EAAF,CAAD,CAA1C;;EAEA,IAAIJ,eAAe,IAAII,MAAvB,EAA+B;IAC7B,OAAO,IAAIX,UAAJ,CAAe,EACpB,GAAGY,eADiB;MAEpBC,EAAE,EAAER,mBAFgB;MAGpBS,YAAY,EAAE,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CAHM;MAIpBC,oBAAoB,EAAE,CAJF;MAKpBC,YAAY,EAAE,CAAC,GAAD,EAAM,CAAN,EAAS,CAAT,CALM;MAMpBC,kBAAkB,EAAE,CANA;MAOpBC,QAAQ,EAAE,IAPU;MAQpBC,UAAU,EAAE;QACVC,SAAS,EAAE,CAAChB,EAAE,CAACiB,SAAJ,EAAejB,EAAE,CAACkB,SAAlB,CADD;QAEVC,aAAa,EAAEnB,EAAE,CAACoB;MAFR,CARQ;MAYpBC,OAAO,EAAGC,IAAD,IAAU;QACjB,IAAIA,IAAJ,aAAIA,IAAJ,eAAIA,IAAI,CAAEC,MAAV,EAAkB;UAChBD,IAAI,CAACC,MAAL,GAAc;YACZC,IAAI,EAAEzB,cAAc,CAAC;cAAE0B,OAAO,EAAEH,IAAI,CAACC;YAAhB,CAAD,CADR;YAEZG,KAAK,EAAE;UAFK,CAAd;QAID;MACF;IAnBmB,CAAf,CAAP;EAqBD;AACF"},"metadata":{},"sourceType":"module"}