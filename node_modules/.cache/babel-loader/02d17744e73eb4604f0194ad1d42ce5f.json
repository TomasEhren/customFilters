{"ast":null,"code":"import{Navigate}from'react-router-dom';import{useSelector}from'react-redux';import{useAuth0}from'@auth0/auth0-react';import{initialState}from'store/initialStateSlice';import{ROUTE_PATHS}from'routes';import{jsx as _jsx}from\"react/jsx-runtime\";export default function ProtectedRoute(_ref){var children=_ref.children;var _useAuth=useAuth0(),isAuthenticated=_useAuth.isAuthenticated,isLoading=_useAuth.isLoading;var accessToken=useSelector(function(state){return state.carto.credentials.accessToken;});if(!initialState.oauth){return children;}var notAuthenticated=!isLoading&&!isAuthenticated&&!accessToken;if(notAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:ROUTE_PATHS.LOGIN});}return!!accessToken&&children;}","map":{"version":3,"names":["Navigate","useSelector","useAuth0","initialState","ROUTE_PATHS","ProtectedRoute","children","isAuthenticated","isLoading","accessToken","state","carto","credentials","oauth","notAuthenticated","LOGIN"],"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/ProtectedRoute.js"],"sourcesContent":["import { Navigate } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { initialState } from 'store/initialStateSlice';\nimport { ROUTE_PATHS } from 'routes';\n\nexport default function ProtectedRoute({ children }) {\n  const { isAuthenticated, isLoading } = useAuth0();\n  const accessToken = useSelector((state) => state.carto.credentials.accessToken);\n\n  if (!initialState.oauth) {\n    return children;\n  }\n\n  const notAuthenticated = !isLoading && !isAuthenticated && !accessToken;\n\n  if (notAuthenticated) {\n    return <Navigate to={ROUTE_PATHS.LOGIN} />;\n  }\n\n  return !!accessToken && children;\n}\n"],"mappings":"AAAA,OAASA,QAAT,KAAyB,kBAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,QAAT,KAAyB,oBAAzB,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,OAASC,WAAT,KAA4B,QAA5B,C,2CAEA,cAAe,SAASC,CAAAA,cAAT,MAAsC,IAAZC,CAAAA,QAAY,MAAZA,QAAY,CACnD,aAAuCJ,QAAQ,EAA/C,CAAQK,eAAR,UAAQA,eAAR,CAAyBC,SAAzB,UAAyBA,SAAzB,CACA,GAAMC,CAAAA,WAAW,CAAGR,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACC,KAAN,CAAYC,WAAZ,CAAwBH,WAAnC,EAAD,CAA/B,CAEA,GAAI,CAACN,YAAY,CAACU,KAAlB,CAAyB,CACvB,MAAOP,CAAAA,QAAP,CACD,CAED,GAAMQ,CAAAA,gBAAgB,CAAG,CAACN,SAAD,EAAc,CAACD,eAAf,EAAkC,CAACE,WAA5D,CAEA,GAAIK,gBAAJ,CAAsB,CACpB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAEV,WAAW,CAACW,KAA1B,EAAP,CACD,CAED,MAAO,CAAC,CAACN,WAAF,EAAiBH,QAAxB,CACD"},"metadata":{},"sourceType":"module"}