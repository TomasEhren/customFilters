{"code":"(this.webpackJsonpcustom_filter=this.webpackJsonpcustom_filter||[]).push([[3],{706:function(t,e,a){\"use strict\";a.d(e,\"a\",(function(){return s}));var n=a(5),o=a(177),r=a(497),i=a(244),c=Object(r.a)((function(t){return{tooltip:{\"& .content\":Object(n.a)(Object(n.a)({},t.typography.caption),{},{position:\"relative\",padding:t.spacing(1,1.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[900],color:\"rgba(255, 255, 255, 0.75)\",transform:\"translate(-50%, calc(-100% - \".concat(t.spacing(2.5),\"px))\"),\"& .arrow\":{display:\"block\",position:\"absolute\",top:\"calc(100% - 1px)\",left:\"50%\",width:0,height:0,marginLeft:t.spacing(-1),borderLeft:\"\".concat(t.spacing(1),\"px solid transparent\"),borderRight:\"\".concat(t.spacing(1),\"px solid transparent\"),borderTop:\"\".concat(t.spacing(1),\"px solid \").concat(t.palette.grey[900])}})}}}));function s(){var t=c(),e=Object(o.useDispatch)(),a=!1;return{handleViewStateChange:function(t){var a=t.viewState;e(Object(i.setViewState)(a))},handleSizeChange:function(t){var a=t.width,n=t.height;e(Object(i.setViewState)({width:a,height:n}))},handleHover:function(t){var e=t.object;return a=!!e},handleCursor:function(t){return t.isDragging?\"grabbing\":a?\"pointer\":\"grab\"},handleTooltip:function(e){var a;if(null!==e&&void 0!==e&&null!==(a=e.object)&&void 0!==a&&a.html)return{html:\"<div class='content'>\".concat(e.object.html,\"<div class='arrow'></div></div>\"),className:t.tooltip,style:{padding:0,background:\"none\"}}}}}},829:function(t,e,a){\"use strict\";a.r(e),a.d(e,\"default\",(function(){return s}));var n=a(5),o=a(177),r=(a(736),a(367)),i=a(706),c=a(24);function s(t){var e=t.layers,a=Object(o.useSelector)((function(t){return t.carto.viewState})),s=Object(o.useSelector)((function(t){return r.BASEMAPS[t.carto.basemap]})),l=Object(o.useSelector)((function(t){return t.carto.googleApiKey})),u=Object(o.useSelector)((function(t){return t.carto.googleMapId})),p=Object(i.a)(),d=p.handleSizeChange,g=p.handleTooltip,b=p.handleViewStateChange;return Object(c.jsx)(r.GoogleMap,{basemap:s,apiKey:l,mapId:u,viewState:Object(n.a)({},a),layers:e,onViewStateChange:b,onResize:d,getTooltip:g})}}}]);","name":"static/js/google-map.f416db1c.chunk.js","map":{"version":3,"sources":["static/js/google-map.f416db1c.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","useMapHooks","_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__","useStyles","Object","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","concat","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","classes","dispatch","isHovering","handleViewStateChange","_ref","viewState","handleSizeChange","_ref2","handleHover","_ref3","object","handleCursor","_ref4","isDragging","handleTooltip","info","_info$object","html","className","style","background","r","GoogleMapsComponent","_carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3__","_useMapHooks__WEBPACK_IMPORTED_MODULE_4__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","layers","state","carto","basemap","googleApiKey","googleMapId","_useMapHooks","apiKey","mapId","onViewStateChange","onResize","getTooltip"],"mappings":"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"},"input":"(this[\"webpackJsonpcustom_filter\"] = this[\"webpackJsonpcustom_filter\"] || []).push([[3],{\n\n/***/ 706:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useMapHooks; });\n/* harmony import */ var _Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(177);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(497);\n/* harmony import */ var _carto_react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(244);\n/* harmony import */ var _carto_react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__);\nvar useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(function(theme){return{tooltip:{'& .content':Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},theme.typography.caption),{},{position:'relative',padding:theme.spacing(1,1.5),borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[900],color:'rgba(255, 255, 255, 0.75)',transform:\"translate(-50%, calc(-100% - \".concat(theme.spacing(2.5),\"px))\"),'& .arrow':{display:'block',position:'absolute',top:'calc(100% - 1px)',left:'50%',width:0,height:0,marginLeft:theme.spacing(-1),borderLeft:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderRight:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderTop:\"\".concat(theme.spacing(1),\"px solid \").concat(theme.palette.grey[900])}})}};});function useMapHooks(){var classes=useStyles();var dispatch=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useDispatch\"])();var isHovering=false;var handleViewStateChange=function handleViewStateChange(_ref){var viewState=_ref.viewState;dispatch(Object(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__[\"setViewState\"])(viewState));};var handleSizeChange=function handleSizeChange(_ref2){var width=_ref2.width,height=_ref2.height;dispatch(Object(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__[\"setViewState\"])({width:width,height:height}));};var handleHover=function handleHover(_ref3){var object=_ref3.object;return isHovering=!!object;};var handleCursor=function handleCursor(_ref4){var isDragging=_ref4.isDragging;return isDragging?'grabbing':isHovering?'pointer':'grab';};var handleTooltip=function handleTooltip(info){var _info$object;if(info!==null&&info!==void 0&&(_info$object=info.object)!==null&&_info$object!==void 0&&_info$object.html){return{html:\"<div class='content'>\".concat(info.object.html,\"<div class='arrow'></div></div>\"),className:classes.tooltip,style:{padding:0,background:'none'}};}};return{handleViewStateChange:handleViewStateChange,handleSizeChange:handleSizeChange,handleHover:handleHover,handleCursor:handleCursor,handleTooltip:handleTooltip};}\n\n/***/ }),\n\n/***/ 829:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GoogleMapsComponent; });\n/* harmony import */ var _Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(177);\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(736);\n/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(367);\n/* harmony import */ var _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _useMapHooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(706);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(24);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\nfunction GoogleMapsComponent(_ref){var layers=_ref.layers;var viewState=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function(state){return state.carto.viewState;});var basemap=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function(state){return _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3__[\"BASEMAPS\"][state.carto.basemap];});var googleApiKey=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function(state){return state.carto.googleApiKey;});var googleMapId=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useSelector\"])(function(state){return state.carto.googleMapId;});var _useMapHooks=Object(_useMapHooks__WEBPACK_IMPORTED_MODULE_4__[/* useMapHooks */ \"a\"])(),handleSizeChange=_useMapHooks.handleSizeChange,handleTooltip=_useMapHooks.handleTooltip,handleViewStateChange=_useMapHooks.handleViewStateChange;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(_carto_react_basemaps__WEBPACK_IMPORTED_MODULE_3__[\"GoogleMap\"],{basemap:basemap,apiKey:googleApiKey,mapId:googleMapId,viewState:Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},viewState),layers:layers,onViewStateChange:handleViewStateChange,onResize:handleSizeChange,getTooltip:handleTooltip});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/GoogleMapsComponent.js"],"names":["useStyles","makeStyles","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","useMapHooks","classes","dispatch","useDispatch","isHovering","handleViewStateChange","viewState","setViewState","handleSizeChange","handleHover","object","handleCursor","isDragging","handleTooltip","info","html","className","style","background","GoogleMapsComponent","layers","useSelector","state","carto","basemap","BASEMAPS","googleApiKey","googleMapId"],"mappings":"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","file":"x","sourcesContent":["import { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  tooltip: {\n    '& .content': {\n      ...theme.typography.caption,\n      position: 'relative',\n      padding: theme.spacing(1, 1.5),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[900],\n      color: 'rgba(255, 255, 255, 0.75)',\n      transform: `translate(-50%, calc(-100% - ${theme.spacing(2.5)}px))`,\n\n      '& .arrow': {\n        display: 'block',\n        position: 'absolute',\n        top: 'calc(100% - 1px)',\n        left: '50%',\n        width: 0,\n        height: 0,\n        marginLeft: theme.spacing(-1),\n        borderLeft: `${theme.spacing(1)}px solid transparent`,\n        borderRight: `${theme.spacing(1)}px solid transparent`,\n        borderTop: `${theme.spacing(1)}px solid ${theme.palette.grey[900]}`,\n      },\n    },\n  },\n}));\n\nexport function useMapHooks() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  let isHovering = false;\n\n  const handleViewStateChange = ({ viewState }) => {\n    dispatch(setViewState(viewState));\n  };\n\n  const handleSizeChange = ({ width, height }) => {\n    dispatch(setViewState({ width, height }));\n  };\n\n  const handleHover = ({ object }) => (isHovering = !!object);\n  const handleCursor = ({ isDragging }) =>\n    isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n\n  const handleTooltip = (info) => {\n    if (info?.object?.html) {\n      return {\n        html: `<div class='content'>${info.object.html}<div class='arrow'></div></div>`,\n        className: classes.tooltip,\n        style: {\n          padding: 0,\n          background: 'none',\n        },\n      };\n    }\n  };\n\n  return {\n    handleViewStateChange,\n    handleSizeChange,\n    handleHover,\n    handleCursor,\n    handleTooltip,\n  };\n}\n","import { useSelector } from 'react-redux';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { BASEMAPS, GoogleMap } from '@carto/react-basemaps';\nimport { useMapHooks } from './useMapHooks';\n\nexport default function GoogleMapsComponent({ layers }) {\n  const viewState = useSelector((state) => state.carto.viewState);\n  const basemap = useSelector((state) => BASEMAPS[state.carto.basemap]);\n  const googleApiKey = useSelector((state) => state.carto.googleApiKey);\n  const googleMapId = useSelector((state) => state.carto.googleMapId);\n  const { handleSizeChange, handleTooltip, handleViewStateChange } = useMapHooks();\n\n  return (\n    <GoogleMap\n      basemap={basemap}\n      apiKey={googleApiKey}\n      mapId={googleMapId}\n      viewState={{ ...viewState }}\n      layers={layers}\n      onViewStateChange={handleViewStateChange}\n      onResize={handleSizeChange}\n      getTooltip={handleTooltip}\n    />\n  );\n}\n"]}}