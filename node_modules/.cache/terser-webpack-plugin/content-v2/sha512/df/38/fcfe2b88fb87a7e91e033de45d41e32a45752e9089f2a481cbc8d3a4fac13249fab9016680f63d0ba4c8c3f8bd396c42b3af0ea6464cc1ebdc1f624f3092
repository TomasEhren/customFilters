{"code":"(this.webpackJsonpcustom_filter=this.webpackJsonpcustom_filter||[]).push([[1],{706:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return s}));var a=n(5),o=n(177),r=n(497),i=n(244),c=Object(r.a)((function(t){return{tooltip:{\"& .content\":Object(a.a)(Object(a.a)({},t.typography.caption),{},{position:\"relative\",padding:t.spacing(1,1.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[900],color:\"rgba(255, 255, 255, 0.75)\",transform:\"translate(-50%, calc(-100% - \".concat(t.spacing(2.5),\"px))\"),\"& .arrow\":{display:\"block\",position:\"absolute\",top:\"calc(100% - 1px)\",left:\"50%\",width:0,height:0,marginLeft:t.spacing(-1),borderLeft:\"\".concat(t.spacing(1),\"px solid transparent\"),borderRight:\"\".concat(t.spacing(1),\"px solid transparent\"),borderTop:\"\".concat(t.spacing(1),\"px solid \").concat(t.palette.grey[900])}})}}}));function s(){var t=c(),e=Object(o.useDispatch)(),n=!1;return{handleViewStateChange:function(t){var n=t.viewState;e(Object(i.setViewState)(n))},handleSizeChange:function(t){var n=t.width,a=t.height;e(Object(i.setViewState)({width:n,height:a}))},handleHover:function(t){var e=t.object;return n=!!e},handleCursor:function(t){return t.isDragging?\"grabbing\":n?\"pointer\":\"grab\"},handleTooltip:function(e){var n;if(null!==e&&void 0!==e&&null!==(n=e.object)&&void 0!==n&&n.html)return{html:\"<div class='content'>\".concat(e.object.html,\"<div class='arrow'></div></div>\"),className:t.tooltip,style:{padding:0,background:\"none\"}}}}}},825:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return d}));var a=n(5),o=n(841),r=n(177),i=n(830),c=n(47),s=n(599),l=n(367),p=n(706),u=n(24);function d(t){var e=t.layers,n=Object(r.useSelector)((function(t){return t.carto.viewState})),d=Object(r.useSelector)((function(t){return l.BASEMAPS[t.carto.basemap]})),h=Object(c.a)(),b=Object(s.a)(h.breakpoints.down(\"xs\")),g=Object(p.a)(),f=g.handleCursor,v=g.handleHover,j=g.handleSizeChange,S=g.handleTooltip,w=g.handleViewStateChange;return Object(u.jsx)(o.a,{viewState:Object(a.a)({},n),controller:!0,layers:e,onViewStateChange:w,onResize:j,onHover:v,getCursor:f,getTooltip:S,pickingRadius:b?10:0,children:Object(u.jsx)(i.a,{reuseMaps:!0,mapStyle:d.options.mapStyle,preventStyleDiffing:!0})})}}}]);","name":"static/js/deck-gl.5b1d9dd8.chunk.js","map":{"version":3,"sources":["static/js/deck-gl.5b1d9dd8.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","d","useMapHooks","_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__","react_redux__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core__WEBPACK_IMPORTED_MODULE_2__","_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__","useStyles","Object","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","concat","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","classes","dispatch","isHovering","handleViewStateChange","_ref","viewState","handleSizeChange","_ref2","handleHover","_ref3","object","handleCursor","_ref4","isDragging","handleTooltip","info","_info$object","html","className","style","background","r","DeckGLComponent","_deck_gl_react__WEBPACK_IMPORTED_MODULE_1__","react_redux__WEBPACK_IMPORTED_MODULE_2__","react_map_gl__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","_carto_react_basemaps__WEBPACK_IMPORTED_MODULE_6__","_useMapHooks__WEBPACK_IMPORTED_MODULE_7__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__","layers","state","carto","basemap","isMobile","breakpoints","down","_useMapHooks","controller","onViewStateChange","onResize","onHover","getCursor","getTooltip","pickingRadius","children","reuseMaps","mapStyle","options","preventStyleDiffing"],"mappings":"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"},"input":"(this[\"webpackJsonpcustom_filter\"] = this[\"webpackJsonpcustom_filter\"] || []).push([[1],{\n\n/***/ 706:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useMapHooks; });\n/* harmony import */ var _Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(177);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(497);\n/* harmony import */ var _carto_react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(244);\n/* harmony import */ var _carto_react_redux__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__);\nvar useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(function(theme){return{tooltip:{'& .content':Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},theme.typography.caption),{},{position:'relative',padding:theme.spacing(1,1.5),borderRadius:theme.shape.borderRadius,backgroundColor:theme.palette.grey[900],color:'rgba(255, 255, 255, 0.75)',transform:\"translate(-50%, calc(-100% - \".concat(theme.spacing(2.5),\"px))\"),'& .arrow':{display:'block',position:'absolute',top:'calc(100% - 1px)',left:'50%',width:0,height:0,marginLeft:theme.spacing(-1),borderLeft:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderRight:\"\".concat(theme.spacing(1),\"px solid transparent\"),borderTop:\"\".concat(theme.spacing(1),\"px solid \").concat(theme.palette.grey[900])}})}};});function useMapHooks(){var classes=useStyles();var dispatch=Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"useDispatch\"])();var isHovering=false;var handleViewStateChange=function handleViewStateChange(_ref){var viewState=_ref.viewState;dispatch(Object(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__[\"setViewState\"])(viewState));};var handleSizeChange=function handleSizeChange(_ref2){var width=_ref2.width,height=_ref2.height;dispatch(Object(_carto_react_redux__WEBPACK_IMPORTED_MODULE_3__[\"setViewState\"])({width:width,height:height}));};var handleHover=function handleHover(_ref3){var object=_ref3.object;return isHovering=!!object;};var handleCursor=function handleCursor(_ref4){var isDragging=_ref4.isDragging;return isDragging?'grabbing':isHovering?'pointer':'grab';};var handleTooltip=function handleTooltip(info){var _info$object;if(info!==null&&info!==void 0&&(_info$object=info.object)!==null&&_info$object!==void 0&&_info$object.html){return{html:\"<div class='content'>\".concat(info.object.html,\"<div class='arrow'></div></div>\"),className:classes.tooltip,style:{padding:0,background:'none'}};}};return{handleViewStateChange:handleViewStateChange,handleSizeChange:handleSizeChange,handleHover:handleHover,handleCursor:handleCursor,handleTooltip:handleTooltip};}\n\n/***/ }),\n\n/***/ 825:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DeckGLComponent; });\n/* harmony import */ var _Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var _deck_gl_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(841);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(177);\n/* harmony import */ var react_map_gl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(830);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(47);\n/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(599);\n/* harmony import */ var _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(367);\n/* harmony import */ var _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_carto_react_basemaps__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _useMapHooks__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(706);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(24);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);\nfunction DeckGLComponent(_ref){var layers=_ref.layers;var viewState=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[\"useSelector\"])(function(state){return state.carto.viewState;});var basemap=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__[\"useSelector\"])(function(state){return _carto_react_basemaps__WEBPACK_IMPORTED_MODULE_6__[\"BASEMAPS\"][state.carto.basemap];});var theme=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])();var isMobile=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"])(theme.breakpoints.down('xs'));var _useMapHooks=Object(_useMapHooks__WEBPACK_IMPORTED_MODULE_7__[/* useMapHooks */ \"a\"])(),handleCursor=_useMapHooks.handleCursor,handleHover=_useMapHooks.handleHover,handleSizeChange=_useMapHooks.handleSizeChange,handleTooltip=_useMapHooks.handleTooltip,handleViewStateChange=_useMapHooks.handleViewStateChange;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(_deck_gl_react__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"],{viewState:Object(_Users_tomasehrenfeld_projs_se_team_tomas_react_apps_custom_filter_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])({},viewState),controller:true,layers:layers,onViewStateChange:handleViewStateChange,onResize:handleSizeChange,onHover:handleHover,getCursor:handleCursor,getTooltip:handleTooltip,pickingRadius:isMobile?10:0,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_map_gl__WEBPACK_IMPORTED_MODULE_3__[/* StaticMap */ \"a\"],{reuseMaps:true,mapStyle:basemap.options.mapStyle,preventStyleDiffing:true})});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/useMapHooks.js","/Users/tomasehrenfeld/projs/se-team/tomas/react-apps/custom_filter/src/components/common/map/DeckGLComponent.js"],"names":["useStyles","makeStyles","theme","tooltip","typography","caption","position","padding","spacing","borderRadius","shape","backgroundColor","palette","grey","color","transform","display","top","left","width","height","marginLeft","borderLeft","borderRight","borderTop","useMapHooks","classes","dispatch","useDispatch","isHovering","handleViewStateChange","viewState","setViewState","handleSizeChange","handleHover","object","handleCursor","isDragging","handleTooltip","info","html","className","style","background","DeckGLComponent","layers","useSelector","state","carto","basemap","BASEMAPS","useTheme","isMobile","useMediaQuery","breakpoints","down","options","mapStyle"],"mappings":"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","file":"x","sourcesContent":["import { useDispatch } from 'react-redux';\nimport { makeStyles } from '@material-ui/core';\nimport { setViewState } from '@carto/react-redux';\n\nconst useStyles = makeStyles((theme) => ({\n  tooltip: {\n    '& .content': {\n      ...theme.typography.caption,\n      position: 'relative',\n      padding: theme.spacing(1, 1.5),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[900],\n      color: 'rgba(255, 255, 255, 0.75)',\n      transform: `translate(-50%, calc(-100% - ${theme.spacing(2.5)}px))`,\n\n      '& .arrow': {\n        display: 'block',\n        position: 'absolute',\n        top: 'calc(100% - 1px)',\n        left: '50%',\n        width: 0,\n        height: 0,\n        marginLeft: theme.spacing(-1),\n        borderLeft: `${theme.spacing(1)}px solid transparent`,\n        borderRight: `${theme.spacing(1)}px solid transparent`,\n        borderTop: `${theme.spacing(1)}px solid ${theme.palette.grey[900]}`,\n      },\n    },\n  },\n}));\n\nexport function useMapHooks() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  let isHovering = false;\n\n  const handleViewStateChange = ({ viewState }) => {\n    dispatch(setViewState(viewState));\n  };\n\n  const handleSizeChange = ({ width, height }) => {\n    dispatch(setViewState({ width, height }));\n  };\n\n  const handleHover = ({ object }) => (isHovering = !!object);\n  const handleCursor = ({ isDragging }) =>\n    isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n\n  const handleTooltip = (info) => {\n    if (info?.object?.html) {\n      return {\n        html: `<div class='content'>${info.object.html}<div class='arrow'></div></div>`,\n        className: classes.tooltip,\n        style: {\n          padding: 0,\n          background: 'none',\n        },\n      };\n    }\n  };\n\n  return {\n    handleViewStateChange,\n    handleSizeChange,\n    handleHover,\n    handleCursor,\n    handleTooltip,\n  };\n}\n","import DeckGL from '@deck.gl/react';\nimport { useSelector } from 'react-redux';\nimport { StaticMap } from 'react-map-gl';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { BASEMAPS } from '@carto/react-basemaps';\nimport { useMapHooks } from './useMapHooks';\n\nexport default function DeckGLComponent({ layers }) {\n  const viewState = useSelector((state) => state.carto.viewState);\n  const basemap = useSelector((state) => BASEMAPS[state.carto.basemap]);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('xs'));\n  const {\n    handleCursor,\n    handleHover,\n    handleSizeChange,\n    handleTooltip,\n    handleViewStateChange,\n  } = useMapHooks();\n\n  return (\n    <DeckGL\n      viewState={{ ...viewState }}\n      controller={true}\n      layers={layers}\n      onViewStateChange={handleViewStateChange}\n      onResize={handleSizeChange}\n      onHover={handleHover}\n      getCursor={handleCursor}\n      getTooltip={handleTooltip}\n      pickingRadius={isMobile ? 10 : 0}\n    >\n      <StaticMap reuseMaps mapStyle={basemap.options.mapStyle} preventStyleDiffing />\n    </DeckGL>\n  );\n}\n"]}}