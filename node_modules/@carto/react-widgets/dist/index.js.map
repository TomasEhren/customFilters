{"version":3,"file":"index.js","mappings":"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","sources":["webpack://cartoReactWidgets/webpack/universalModuleDefinition","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/regenerator/index.js","webpack://cartoReactWidgets/../../node_modules/hammerjs/hammer.js","webpack://cartoReactWidgets/../../node_modules/prop-types/factoryWithThrowingShims.js","webpack://cartoReactWidgets/../../node_modules/prop-types/index.js","webpack://cartoReactWidgets/../../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://cartoReactWidgets/../../node_modules/regenerator-runtime/runtime.js","webpack://cartoReactWidgets/external umd \"@carto/react-api\"","webpack://cartoReactWidgets/external umd \"@carto/react-basemaps/\"","webpack://cartoReactWidgets/external umd \"@carto/react-core\"","webpack://cartoReactWidgets/external umd \"@carto/react-core/\"","webpack://cartoReactWidgets/external umd \"@carto/react-redux\"","webpack://cartoReactWidgets/external umd \"@carto/react-redux/\"","webpack://cartoReactWidgets/external umd \"@carto/react-ui\"","webpack://cartoReactWidgets/external umd \"@carto/react-workers\"","webpack://cartoReactWidgets/external umd \"@deck.gl/core\"","webpack://cartoReactWidgets/external umd \"@deck.gl/layers\"","webpack://cartoReactWidgets/external umd \"@material-ui/core\"","webpack://cartoReactWidgets/external umd \"@material-ui/core/styles\"","webpack://cartoReactWidgets/external umd \"@nebula.gl/edit-modes\"","webpack://cartoReactWidgets/external umd \"@nebula.gl/layers\"","webpack://cartoReactWidgets/external umd \"react\"","webpack://cartoReactWidgets/external umd \"react-redux\"","webpack://cartoReactWidgets/webpack/bootstrap","webpack://cartoReactWidgets/webpack/runtime/compat get default export","webpack://cartoReactWidgets/webpack/runtime/define property getters","webpack://cartoReactWidgets/webpack/runtime/global","webpack://cartoReactWidgets/webpack/runtime/hasOwnProperty shorthand","webpack://cartoReactWidgets/webpack/runtime/make namespace object","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/extends.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://cartoReactWidgets/./src/models/FormulaModel.js","webpack://cartoReactWidgets/./src/models/HistogramModel.js","webpack://cartoReactWidgets/./src/models/CategoryModel.js","webpack://cartoReactWidgets/./src/models/GeocodingModel.js","webpack://cartoReactWidgets/./src/models/ScatterPlotModel.js","webpack://cartoReactWidgets/./src/models/TimeSeriesModel.js","webpack://cartoReactWidgets/./src/models/TableModel.js","webpack://cartoReactWidgets/../../node_modules/dequal/dist/index.mjs","webpack://cartoReactWidgets/./src/hooks/useSourceFilters.js","webpack://cartoReactWidgets/./src/hooks/useCustomCompareMemo.js","webpack://cartoReactWidgets/./src/hooks/useWidgetFilterValues.js","webpack://cartoReactWidgets/./src/widgets/CategoryWidget.js","webpack://cartoReactWidgets/./src/widgets/FormulaWidget.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://cartoReactWidgets/./src/widgets/GeocoderWidget.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://cartoReactWidgets/./src/widgets/HistogramWidget.js","webpack://cartoReactWidgets/./src/widgets/PieWidget.js","webpack://cartoReactWidgets/./src/widgets/LegendWidget.js","webpack://cartoReactWidgets/./src/widgets/ScatterPlotWidget.js","webpack://cartoReactWidgets/./src/widgets/TimeSeriesWidget.js","webpack://cartoReactWidgets/./src/widgets/FeatureSelectionWidget.js","webpack://cartoReactWidgets/./src/widgets/TableWidget.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/superPropBase.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/get.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://cartoReactWidgets/./src/layers/EditableCartoGeoJsonLayer.js","webpack://cartoReactWidgets/../../node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/constants.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack://cartoReactWidgets/../../node_modules/mjolnir.js/dist/esm/event-manager.js","webpack://cartoReactWidgets/./src/layers/useEventManager.js","webpack://cartoReactWidgets/./src/layers/MaskLayer.js","webpack://cartoReactWidgets/./src/layers/FeatureSelectionLayer.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-ui\"), require(\"@carto/react-core\"), require(\"@carto/react-workers\"), require(\"@carto/react-api\"), require(\"@carto/react-core/\"), require(\"@carto/react-redux/\"), require(\"@material-ui/core\"), require(\"@material-ui/core/styles\"), require(\"@nebula.gl/edit-modes\"), require(\"@nebula.gl/layers\"), require(\"@carto/react-basemaps/\"), require(\"@deck.gl/core\"), require(\"@deck.gl/layers\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-redux\", \"@carto/react-redux\", \"@carto/react-ui\", \"@carto/react-core\", \"@carto/react-workers\", \"@carto/react-api\", \"@carto/react-core/\", \"@carto/react-redux/\", \"@material-ui/core\", \"@material-ui/core/styles\", \"@nebula.gl/edit-modes\", \"@nebula.gl/layers\", \"@carto/react-basemaps/\", \"@deck.gl/core\", \"@deck.gl/layers\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cartoReactWidgets\"] = factory(require(\"react\"), require(\"react-redux\"), require(\"@carto/react-redux\"), require(\"@carto/react-ui\"), require(\"@carto/react-core\"), require(\"@carto/react-workers\"), require(\"@carto/react-api\"), require(\"@carto/react-core/\"), require(\"@carto/react-redux/\"), require(\"@material-ui/core\"), require(\"@material-ui/core/styles\"), require(\"@nebula.gl/edit-modes\"), require(\"@nebula.gl/layers\"), require(\"@carto/react-basemaps/\"), require(\"@deck.gl/core\"), require(\"@deck.gl/layers\"));\n\telse\n\t\troot[\"cartoReactWidgets\"] = factory(root[\"react\"], root[\"react-redux\"], root[\"@carto/react-redux\"], root[\"@carto/react-ui\"], root[\"@carto/react-core\"], root[\"@carto/react-workers\"], root[\"@carto/react-api\"], root[\"@carto/react-core/\"], root[\"@carto/react-redux/\"], root[\"@material-ui/core\"], root[\"@material-ui/core/styles\"], root[\"@nebula.gl/edit-modes\"], root[\"@nebula.gl/layers\"], root[\"@carto/react-basemaps/\"], root[\"@deck.gl/core\"], root[\"@deck.gl/layers\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__156__, __WEBPACK_EXTERNAL_MODULE__756__, __WEBPACK_EXTERNAL_MODULE__347__, __WEBPACK_EXTERNAL_MODULE__214__, __WEBPACK_EXTERNAL_MODULE__485__, __WEBPACK_EXTERNAL_MODULE__116__, __WEBPACK_EXTERNAL_MODULE__178__, __WEBPACK_EXTERNAL_MODULE__38__, __WEBPACK_EXTERNAL_MODULE__987__, __WEBPACK_EXTERNAL_MODULE__670__, __WEBPACK_EXTERNAL_MODULE__793__, __WEBPACK_EXTERNAL_MODULE__59__, __WEBPACK_EXTERNAL_MODULE__102__, __WEBPACK_EXTERNAL_MODULE__306__, __WEBPACK_EXTERNAL_MODULE__946__, __WEBPACK_EXTERNAL_MODULE__445__) {\nreturn ","module.exports = require(\"regenerator-runtime\");\n","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function(window, document, exportName, undefined) {\n  'use strict';\n\nvar VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n\nvar INPUT_TYPE_TOUCH = 'touch';\nvar INPUT_TYPE_PEN = 'pen';\nvar INPUT_TYPE_MOUSE = 'mouse';\nvar INPUT_TYPE_KINECT = 'kinect';\n\nvar COMPUTE_INTERVAL = 25;\n\nvar INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar INPUT_CANCEL = 8;\n\nvar DIRECTION_NONE = 1;\nvar DIRECTION_LEFT = 2;\nvar DIRECTION_RIGHT = 4;\nvar DIRECTION_UP = 8;\nvar DIRECTION_DOWN = 16;\n\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n\nvar PROPS_XY = ['x', 'y'];\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n/**\n * create new input type manager\n * @param {Manager} manager\n * @param {Function} callback\n * @returns {Input}\n * @constructor\n */\nfunction Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function(ev) {\n        if (boolOrFn(manager.options.enable, [manager])) {\n            self.handler(ev);\n        }\n    };\n\n    this.init();\n\n}\n\nInput.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function() { },\n\n    /**\n     * bind the events\n     */\n    init: function() {\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n\n    /**\n     * unbind the events\n     */\n    destroy: function() {\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n};\n\n/**\n * create new input type manager\n * called by the Manager constructor\n * @param {Hammer} manager\n * @returns {Input}\n */\nfunction createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n\n    if (inputClass) {\n        Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n        Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n        Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n        Type = MouseInput;\n    } else {\n        Type = TouchMouseInput;\n    }\n    return new (Type)(manager, inputHandler);\n}\n\n/**\n * handle input events\n * @param {Manager} manager\n * @param {String} eventType\n * @param {Object} input\n */\nfunction inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\n\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n\n    if (isFirst) {\n        manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n\n    manager.recognize(input);\n    manager.session.prevInput = input;\n}\n\n/**\n * extend the data with some usable properties like scale, rotate, velocity etc\n * @param {Object} manager\n * @param {Object} input\n */\nfunction computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n        session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n        session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n        session.firstMultiple = false;\n    }\n\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;\n\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n\n    input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >\n        session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);\n\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n        target = input.srcEvent.target;\n    }\n    input.target = target;\n}\n\nfunction computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n        prevDelta = session.prevDelta = {\n            x: prevInput.deltaX || 0,\n            y: prevInput.deltaY || 0\n        };\n\n        offset = session.offsetDelta = {\n            x: center.x,\n            y: center.y\n        };\n    }\n\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n}\n\n/**\n * velocity is calculated every x ms\n * @param {Object} session\n * @param {Object} input\n */\nfunction computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n        deltaTime = input.timeStamp - last.timeStamp,\n        velocity, velocityX, velocityY, direction;\n\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n        var deltaX = input.deltaX - last.deltaX;\n        var deltaY = input.deltaY - last.deltaY;\n\n        var v = getVelocity(deltaTime, deltaX, deltaY);\n        velocityX = v.x;\n        velocityY = v.y;\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\n        direction = getDirection(deltaX, deltaY);\n\n        session.lastInterval = input;\n    } else {\n        // use latest velocity info if it doesn't overtake a minimum period\n        velocity = last.velocity;\n        velocityX = last.velocityX;\n        velocityY = last.velocityY;\n        direction = last.direction;\n    }\n\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n}\n\n/**\n * create a simple clone from the input used for storage of firstInput and firstMultiple\n * @param {Object} input\n * @returns {Object} clonedInputData\n */\nfunction simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n        pointers[i] = {\n            clientX: round(input.pointers[i].clientX),\n            clientY: round(input.pointers[i].clientY)\n        };\n        i++;\n    }\n\n    return {\n        timeStamp: now(),\n        pointers: pointers,\n        center: getCenter(pointers),\n        deltaX: input.deltaX,\n        deltaY: input.deltaY\n    };\n}\n\n/**\n * get the center of all the pointers\n * @param {Array} pointers\n * @return {Object} center contains `x` and `y` properties\n */\nfunction getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n        return {\n            x: round(pointers[0].clientX),\n            y: round(pointers[0].clientY)\n        };\n    }\n\n    var x = 0, y = 0, i = 0;\n    while (i < pointersLength) {\n        x += pointers[i].clientX;\n        y += pointers[i].clientY;\n        i++;\n    }\n\n    return {\n        x: round(x / pointersLength),\n        y: round(y / pointersLength)\n    };\n}\n\n/**\n * calculate the velocity between two points. unit is in px per ms.\n * @param {Number} deltaTime\n * @param {Number} x\n * @param {Number} y\n * @return {Object} velocity `x` and `y`\n */\nfunction getVelocity(deltaTime, x, y) {\n    return {\n        x: x / deltaTime || 0,\n        y: y / deltaTime || 0\n    };\n}\n\n/**\n * get the direction between two points\n * @param {Number} x\n * @param {Number} y\n * @return {Number} direction\n */\nfunction getDirection(x, y) {\n    if (x === y) {\n        return DIRECTION_NONE;\n    }\n\n    if (abs(x) >= abs(y)) {\n        return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n}\n\n/**\n * calculate the absolute distance between two points\n * @param {Object} p1 {x, y}\n * @param {Object} p2 {x, y}\n * @param {Array} [props] containing x and y keys\n * @return {Number} distance\n */\nfunction getDistance(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n\n    return Math.sqrt((x * x) + (y * y));\n}\n\n/**\n * calculate the angle between two coordinates\n * @param {Object} p1\n * @param {Object} p2\n * @param {Array} [props] containing x and y keys\n * @return {Number} angle\n */\nfunction getAngle(p1, p2, props) {\n    if (!props) {\n        props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n        y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n}\n\n/**\n * calculate the rotation degrees between two pointersets\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} rotation\n */\nfunction getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n}\n\n/**\n * calculate the scale factor between two pointersets\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n * @param {Array} start array of pointers\n * @param {Array} end array of pointers\n * @return {Number} scale\n */\nfunction getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n}\n\nvar MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n};\n\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n/**\n * Mouse events input\n * @constructor\n * @extends Input\n */\nfunction MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n}\n\ninherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n        var eventType = MOUSE_INPUT_MAP[ev.type];\n\n        // on start we want to have the left mouse button down\n        if (eventType & INPUT_START && ev.button === 0) {\n            this.pressed = true;\n        }\n\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\n            eventType = INPUT_END;\n        }\n\n        // mouse must be down\n        if (!this.pressed) {\n            return;\n        }\n\n        if (eventType & INPUT_END) {\n            this.pressed = false;\n        }\n\n        this.callback(this.manager, eventType, {\n            pointers: [ev],\n            changedPointers: [ev],\n            pointerType: INPUT_TYPE_MOUSE,\n            srcEvent: ev\n        });\n    }\n});\n\nvar POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n};\n\n// in IE10 the pointer types is defined as an enum\nvar IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n};\n\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n// IE10 has prefixed support, and case-sensitive\nif (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n}\n\n/**\n * Pointer events input\n * @constructor\n * @extends Input\n */\nfunction PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n\n    Input.apply(this, arguments);\n\n    this.store = (this.manager.session.pointerEvents = []);\n}\n\ninherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n        var store = this.store;\n        var removePointer = false;\n\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\n\n        // get index of the event in the store\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n        // start and mouse must be down\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n            if (storeIndex < 0) {\n                store.push(ev);\n                storeIndex = store.length - 1;\n            }\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n            removePointer = true;\n        }\n\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\n        if (storeIndex < 0) {\n            return;\n        }\n\n        // update the event in the store\n        store[storeIndex] = ev;\n\n        this.callback(this.manager, eventType, {\n            pointers: store,\n            changedPointers: [ev],\n            pointerType: pointerType,\n            srcEvent: ev\n        });\n\n        if (removePointer) {\n            // remove from the store\n            store.splice(storeIndex, 1);\n        }\n    }\n});\n\nvar SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Touch events input\n * @constructor\n * @extends Input\n */\nfunction SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n\n    Input.apply(this, arguments);\n}\n\ninherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n        // should we handle the touch events?\n        if (type === INPUT_START) {\n            this.started = true;\n        }\n\n        if (!this.started) {\n            return;\n        }\n\n        var touches = normalizeSingleTouches.call(this, ev, type);\n\n        // when done, reset the started state\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n            this.started = false;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n        all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n\n    return [all, changed];\n}\n\nvar TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n};\n\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n/**\n * Multi-user touch events input\n * @constructor\n * @extends Input\n */\nfunction TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n\n    Input.apply(this, arguments);\n}\n\ninherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n        var type = TOUCH_INPUT_MAP[ev.type];\n        var touches = getTouches.call(this, ev, type);\n        if (!touches) {\n            return;\n        }\n\n        this.callback(this.manager, type, {\n            pointers: touches[0],\n            changedPointers: touches[1],\n            pointerType: INPUT_TYPE_TOUCH,\n            srcEvent: ev\n        });\n    }\n});\n\n/**\n * @this {TouchInput}\n * @param {Object} ev\n * @param {Number} type flag\n * @returns {undefined|Array} [all, changed]\n */\nfunction getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n        targetIds[allTouches[0].identifier] = true;\n        return [allTouches, allTouches];\n    }\n\n    var i,\n        targetTouches,\n        changedTouches = toArray(ev.changedTouches),\n        changedTargetTouches = [],\n        target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function(touch) {\n        return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n        i = 0;\n        while (i < targetTouches.length) {\n            targetIds[targetTouches[i].identifier] = true;\n            i++;\n        }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n        if (targetIds[changedTouches[i].identifier]) {\n            changedTargetTouches.push(changedTouches[i]);\n        }\n\n        // cleanup removed touches\n        if (type & (INPUT_END | INPUT_CANCEL)) {\n            delete targetIds[changedTouches[i].identifier];\n        }\n        i++;\n    }\n\n    if (!changedTargetTouches.length) {\n        return;\n    }\n\n    return [\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\n        changedTargetTouches\n    ];\n}\n\n/**\n * Combined touch and mouse input\n *\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n * This because touch devices also emit mouse events while doing a touch.\n *\n * @constructor\n * @extends Input\n */\n\nvar DEDUP_TIMEOUT = 2500;\nvar DEDUP_DISTANCE = 25;\n\nfunction TouchMouseInput() {\n    Input.apply(this, arguments);\n\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n\n    this.primaryTouch = null;\n    this.lastTouches = [];\n}\n\ninherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\n\n        if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n            return;\n        }\n\n        // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n        if (isTouch) {\n            recordTouches.call(this, inputEvent, inputData);\n        } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n            return;\n        }\n\n        this.callback(manager, inputEvent, inputData);\n    },\n\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n        this.touch.destroy();\n        this.mouse.destroy();\n    }\n});\n\nfunction recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n        this.primaryTouch = eventData.changedPointers[0].identifier;\n        setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        setLastTouch.call(this, eventData);\n    }\n}\n\nfunction setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n\n    if (touch.identifier === this.primaryTouch) {\n        var lastTouch = {x: touch.clientX, y: touch.clientY};\n        this.lastTouches.push(lastTouch);\n        var lts = this.lastTouches;\n        var removeLastTouch = function() {\n            var i = lts.indexOf(lastTouch);\n            if (i > -1) {\n                lts.splice(i, 1);\n            }\n        };\n        setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n}\n\nfunction isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n        var t = this.lastTouches[i];\n        var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);\n        if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n// magical touchAction value\nvar TOUCH_ACTION_COMPUTE = 'compute';\nvar TOUCH_ACTION_AUTO = 'auto';\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\nvar TOUCH_ACTION_NONE = 'none';\nvar TOUCH_ACTION_PAN_X = 'pan-x';\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\nvar TOUCH_ACTION_MAP = getTouchActionProps();\n\n/**\n * Touch Action\n * sets the touchAction property or uses the js alternative\n * @param {Manager} manager\n * @param {String} value\n * @constructor\n */\nfunction TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n}\n\nTouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function(value) {\n        // find out the touch-action by the event handlers\n        if (value == TOUCH_ACTION_COMPUTE) {\n            value = this.compute();\n        }\n\n        if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n        }\n        this.actions = value.toLowerCase().trim();\n    },\n\n    /**\n     * just re-set the touchAction value\n     */\n    update: function() {\n        this.set(this.manager.options.touchAction);\n    },\n\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function() {\n        var actions = [];\n        each(this.manager.recognizers, function(recognizer) {\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\n                actions = actions.concat(recognizer.getTouchAction());\n            }\n        });\n        return cleanTouchActions(actions.join(' '));\n    },\n\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function(input) {\n        var srcEvent = input.srcEvent;\n        var direction = input.offsetDirection;\n\n        // if the touch action did prevented once this session\n        if (this.manager.session.prevented) {\n            srcEvent.preventDefault();\n            return;\n        }\n\n        var actions = this.actions;\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n\n        if (hasNone) {\n            //do not prevent defaults if this is a tap gesture\n\n            var isTapPointer = input.pointers.length === 1;\n            var isTapMovement = input.distance < 2;\n            var isTapTouchTime = input.deltaTime < 250;\n\n            if (isTapPointer && isTapMovement && isTapTouchTime) {\n                return;\n            }\n        }\n\n        if (hasPanX && hasPanY) {\n            // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n            return;\n        }\n\n        if (hasNone ||\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\n            return this.preventSrc(srcEvent);\n        }\n    },\n\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function(srcEvent) {\n        this.manager.session.prevented = true;\n        srcEvent.preventDefault();\n    }\n};\n\n/**\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n * @param {String} actions\n * @returns {*}\n */\nfunction cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n        return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n        return TOUCH_ACTION_MANIPULATION;\n    }\n\n    return TOUCH_ACTION_AUTO;\n}\n\nfunction getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n        return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {\n\n        // If css.supports is not supported but there is native touch-action assume it supports\n        // all values. This is the case for IE 10 and 11.\n        touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n}\n\n/**\n * Recognizer flow explained; *\n * All recognizers have the initial state of POSSIBLE when a input session starts.\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\n *\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n * which determines with state it should be.\n *\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n * POSSIBLE to give it another change on the next cycle.\n *\n *               Possible\n *                  |\n *            +-----+---------------+\n *            |                     |\n *      +-----+-----+               |\n *      |           |               |\n *   Failed      Cancelled          |\n *                          +-------+------+\n *                          |              |\n *                      Recognized       Began\n *                                         |\n *                                      Changed\n *                                         |\n *                                  Ended/Recognized\n */\nvar STATE_POSSIBLE = 1;\nvar STATE_BEGAN = 2;\nvar STATE_CHANGED = 4;\nvar STATE_ENDED = 8;\nvar STATE_RECOGNIZED = STATE_ENDED;\nvar STATE_CANCELLED = 16;\nvar STATE_FAILED = 32;\n\n/**\n * Recognizer\n * Every recognizer needs to extend from this class.\n * @constructor\n * @param {Object} options\n */\nfunction Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n\n    this.id = uniqueId();\n\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n\n    this.state = STATE_POSSIBLE;\n\n    this.simultaneous = {};\n    this.requireFail = [];\n}\n\nRecognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // also update the touchAction, in case something changed about the directions/enabled state\n        this.manager && this.manager.touchAction.update();\n        return this;\n    },\n\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n            return this;\n        }\n\n        var simultaneous = this.simultaneous;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (!simultaneous[otherRecognizer.id]) {\n            simultaneous[otherRecognizer.id] = otherRecognizer;\n            otherRecognizer.recognizeWith(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        delete this.simultaneous[otherRecognizer.id];\n        return this;\n    },\n\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n            return this;\n        }\n\n        var requireFail = this.requireFail;\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        if (inArray(requireFail, otherRecognizer) === -1) {\n            requireFail.push(otherRecognizer);\n            otherRecognizer.requireFailure(this);\n        }\n        return this;\n    },\n\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function(otherRecognizer) {\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n            return this;\n        }\n\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n        var index = inArray(this.requireFail, otherRecognizer);\n        if (index > -1) {\n            this.requireFail.splice(index, 1);\n        }\n        return this;\n    },\n\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function() {\n        return this.requireFail.length > 0;\n    },\n\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function(otherRecognizer) {\n        return !!this.simultaneous[otherRecognizer.id];\n    },\n\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function(input) {\n        var self = this;\n        var state = this.state;\n\n        function emit(event) {\n            self.manager.emit(event, input);\n        }\n\n        // 'panstart' and 'panmove'\n        if (state < STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n\n        emit(self.options.event); // simple 'eventName' events\n\n        if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)\n            emit(input.additionalEvent);\n        }\n\n        // panend and pancancel\n        if (state >= STATE_ENDED) {\n            emit(self.options.event + stateStr(state));\n        }\n    },\n\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function(input) {\n        if (this.canEmit()) {\n            return this.emit(input);\n        }\n        // it's failing anyway\n        this.state = STATE_FAILED;\n    },\n\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function() {\n        var i = 0;\n        while (i < this.requireFail.length) {\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n                return false;\n            }\n            i++;\n        }\n        return true;\n    },\n\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        // make a new copy of the inputData\n        // so we can change the inputData without messing up the other recognizers\n        var inputDataClone = assign({}, inputData);\n\n        // is is enabled and allow recognizing?\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n            this.reset();\n            this.state = STATE_FAILED;\n            return;\n        }\n\n        // reset when we've reached the end\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n            this.state = STATE_POSSIBLE;\n        }\n\n        this.state = this.process(inputDataClone);\n\n        // the recognizer has recognized a gesture\n        // so trigger an event\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n            this.tryEmit(inputDataClone);\n        }\n    },\n\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function(inputData) { }, // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function() { },\n\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function() { }\n};\n\n/**\n * get a usable string, used as event postfix\n * @param {Const} state\n * @returns {String} state\n */\nfunction stateStr(state) {\n    if (state & STATE_CANCELLED) {\n        return 'cancel';\n    } else if (state & STATE_ENDED) {\n        return 'end';\n    } else if (state & STATE_CHANGED) {\n        return 'move';\n    } else if (state & STATE_BEGAN) {\n        return 'start';\n    }\n    return '';\n}\n\n/**\n * direction cons to string\n * @param {Const} direction\n * @returns {String}\n */\nfunction directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n        return 'down';\n    } else if (direction == DIRECTION_UP) {\n        return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n        return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n        return 'right';\n    }\n    return '';\n}\n\n/**\n * get a recognizer by name if it is bound to a manager\n * @param {Recognizer|String} otherRecognizer\n * @param {Recognizer} recognizer\n * @returns {Recognizer}\n */\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n        return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n}\n\n/**\n * This recognizer is just used as a base for the simple attribute recognizers.\n * @constructor\n * @extends Recognizer\n */\nfunction AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n}\n\ninherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n        /**\n         * @type {Number}\n         * @default 1\n         */\n        pointers: 1\n    },\n\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function(input) {\n        var optionPointers = this.options.pointers;\n        return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function(input) {\n        var state = this.state;\n        var eventType = input.eventType;\n\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n        var isValid = this.attrTest(input);\n\n        // on cancel input and we've recognized before, return STATE_CANCELLED\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n            return state | STATE_CANCELLED;\n        } else if (isRecognized || isValid) {\n            if (eventType & INPUT_END) {\n                return state | STATE_ENDED;\n            } else if (!(state & STATE_BEGAN)) {\n                return STATE_BEGAN;\n            }\n            return state | STATE_CHANGED;\n        }\n        return STATE_FAILED;\n    }\n});\n\n/**\n * Pan\n * Recognized when the pointer is down and moved in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n\n    this.pX = null;\n    this.pY = null;\n}\n\ninherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n        event: 'pan',\n        threshold: 10,\n        pointers: 1,\n        direction: DIRECTION_ALL\n    },\n\n    getTouchAction: function() {\n        var direction = this.options.direction;\n        var actions = [];\n        if (direction & DIRECTION_HORIZONTAL) {\n            actions.push(TOUCH_ACTION_PAN_Y);\n        }\n        if (direction & DIRECTION_VERTICAL) {\n            actions.push(TOUCH_ACTION_PAN_X);\n        }\n        return actions;\n    },\n\n    directionTest: function(input) {\n        var options = this.options;\n        var hasMoved = true;\n        var distance = input.distance;\n        var direction = input.direction;\n        var x = input.deltaX;\n        var y = input.deltaY;\n\n        // lock to axis?\n        if (!(direction & options.direction)) {\n            if (options.direction & DIRECTION_HORIZONTAL) {\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                hasMoved = x != this.pX;\n                distance = Math.abs(input.deltaX);\n            } else {\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                hasMoved = y != this.pY;\n                distance = Math.abs(input.deltaY);\n            }\n        }\n        input.direction = direction;\n        return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n\n    attrTest: function(input) {\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\n    },\n\n    emit: function(input) {\n\n        this.pX = input.deltaX;\n        this.pY = input.deltaY;\n\n        var direction = directionStr(input.direction);\n\n        if (direction) {\n            input.additionalEvent = this.options.event + direction;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Pinch\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n * @constructor\n * @extends AttrRecognizer\n */\nfunction PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'pinch',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n\n    emit: function(input) {\n        if (input.scale !== 1) {\n            var inOut = input.scale < 1 ? 'in' : 'out';\n            input.additionalEvent = this.options.event + inOut;\n        }\n        this._super.emit.call(this, input);\n    }\n});\n\n/**\n * Press\n * Recognized when the pointer is down for x ms without any movement.\n * @constructor\n * @extends Recognizer\n */\nfunction PressRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    this._timer = null;\n    this._input = null;\n}\n\ninherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n        event: 'press',\n        pointers: 1,\n        time: 251, // minimal time of the pointer to be pressed\n        threshold: 9 // a minimal movement is ok, but keep it low\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_AUTO];\n    },\n\n    process: function(input) {\n        var options = this.options;\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTime = input.deltaTime > options.time;\n\n        this._input = input;\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\n            this.reset();\n        } else if (input.eventType & INPUT_START) {\n            this.reset();\n            this._timer = setTimeoutContext(function() {\n                this.state = STATE_RECOGNIZED;\n                this.tryEmit();\n            }, options.time, this);\n        } else if (input.eventType & INPUT_END) {\n            return STATE_RECOGNIZED;\n        }\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function(input) {\n        if (this.state !== STATE_RECOGNIZED) {\n            return;\n        }\n\n        if (input && (input.eventType & INPUT_END)) {\n            this.manager.emit(this.options.event + 'up', input);\n        } else {\n            this._input.timeStamp = now();\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Rotate\n * Recognized when two or more pointer are moving in a circular motion.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n        event: 'rotate',\n        threshold: 0,\n        pointers: 2\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_NONE];\n    },\n\n    attrTest: function(input) {\n        return this._super.attrTest.call(this, input) &&\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n});\n\n/**\n * Swipe\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n * @constructor\n * @extends AttrRecognizer\n */\nfunction SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n}\n\ninherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n        event: 'swipe',\n        threshold: 10,\n        velocity: 0.3,\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n        pointers: 1\n    },\n\n    getTouchAction: function() {\n        return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n\n    attrTest: function(input) {\n        var direction = this.options.direction;\n        var velocity;\n\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n            velocity = input.overallVelocity;\n        } else if (direction & DIRECTION_HORIZONTAL) {\n            velocity = input.overallVelocityX;\n        } else if (direction & DIRECTION_VERTICAL) {\n            velocity = input.overallVelocityY;\n        }\n\n        return this._super.attrTest.call(this, input) &&\n            direction & input.offsetDirection &&\n            input.distance > this.options.threshold &&\n            input.maxPointers == this.options.pointers &&\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n\n    emit: function(input) {\n        var direction = directionStr(input.offsetDirection);\n        if (direction) {\n            this.manager.emit(this.options.event + direction, input);\n        }\n\n        this.manager.emit(this.options.event, input);\n    }\n});\n\n/**\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n * a single tap.\n *\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n * multi-taps being recognized.\n * @constructor\n * @extends Recognizer\n */\nfunction TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n}\n\ninherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n        event: 'tap',\n        pointers: 1,\n        taps: 1,\n        interval: 300, // max time between the multi-tap taps\n        time: 250, // max time of the pointer to be down (like finger on the screen)\n        threshold: 9, // a minimal movement is ok, but keep it low\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n\n    getTouchAction: function() {\n        return [TOUCH_ACTION_MANIPULATION];\n    },\n\n    process: function(input) {\n        var options = this.options;\n\n        var validPointers = input.pointers.length === options.pointers;\n        var validMovement = input.distance < options.threshold;\n        var validTouchTime = input.deltaTime < options.time;\n\n        this.reset();\n\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\n            return this.failTimeout();\n        }\n\n        // we only allow little movement\n        // and we've reached an end event, so a tap is possible\n        if (validMovement && validTouchTime && validPointers) {\n            if (input.eventType != INPUT_END) {\n                return this.failTimeout();\n            }\n\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n\n            this.pTime = input.timeStamp;\n            this.pCenter = input.center;\n\n            if (!validMultiTap || !validInterval) {\n                this.count = 1;\n            } else {\n                this.count += 1;\n            }\n\n            this._input = input;\n\n            // if tap count matches we have recognized it,\n            // else it has began recognizing...\n            var tapCount = this.count % options.taps;\n            if (tapCount === 0) {\n                // no failing requirements, immediately trigger the tap event\n                // or wait as long as the multitap interval to trigger\n                if (!this.hasRequireFailures()) {\n                    return STATE_RECOGNIZED;\n                } else {\n                    this._timer = setTimeoutContext(function() {\n                        this.state = STATE_RECOGNIZED;\n                        this.tryEmit();\n                    }, options.interval, this);\n                    return STATE_BEGAN;\n                }\n            }\n        }\n        return STATE_FAILED;\n    },\n\n    failTimeout: function() {\n        this._timer = setTimeoutContext(function() {\n            this.state = STATE_FAILED;\n        }, this.options.interval, this);\n        return STATE_FAILED;\n    },\n\n    reset: function() {\n        clearTimeout(this._timer);\n    },\n\n    emit: function() {\n        if (this.state == STATE_RECOGNIZED) {\n            this._input.tapCount = this.count;\n            this.manager.emit(this.options.event, this._input);\n        }\n    }\n});\n\n/**\n * Simple way to create a manager with a default set of recognizers.\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n}\n\n/**\n * @const {string}\n */\nHammer.VERSION = '2.0.7';\n\n/**\n * default settings\n * @namespace\n */\nHammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n        [RotateRecognizer, {enable: false}],\n        [PinchRecognizer, {enable: false}, ['rotate']],\n        [SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],\n        [PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],\n        [TapRecognizer],\n        [TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],\n        [PressRecognizer]\n    ],\n\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n        /**\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userSelect: 'none',\n\n        /**\n         * Disable the Windows Phone grippers when pressing an element.\n         * @type {String}\n         * @default 'none'\n         */\n        touchSelect: 'none',\n\n        /**\n         * Disables the default callout shown when you touch and hold a touch target.\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\n         * a callout containing information about the link. This property allows you to disable that callout.\n         * @type {String}\n         * @default 'none'\n         */\n        touchCallout: 'none',\n\n        /**\n         * Specifies whether zooming is enabled. Used by IE10>\n         * @type {String}\n         * @default 'none'\n         */\n        contentZooming: 'none',\n\n        /**\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n         * @type {String}\n         * @default 'none'\n         */\n        userDrag: 'none',\n\n        /**\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\n         * clickable element in iOS. This property obeys the alpha value, if specified.\n         * @type {String}\n         * @default 'rgba(0,0,0,0)'\n         */\n        tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n};\n\nvar STOP = 1;\nvar FORCED_STOP = 2;\n\n/**\n * Manager\n * @param {HTMLElement} element\n * @param {Object} [options]\n * @constructor\n */\nfunction Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n\n    this.options.inputTarget = this.options.inputTarget || element;\n\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n\n    toggleCssProps(this, true);\n\n    each(this.options.recognizers, function(item) {\n        var recognizer = this.add(new (item[0])(item[1]));\n        item[2] && recognizer.recognizeWith(item[2]);\n        item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n}\n\nManager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function(options) {\n        assign(this.options, options);\n\n        // Options that need a little more setup\n        if (options.touchAction) {\n            this.touchAction.update();\n        }\n        if (options.inputTarget) {\n            // Clean up existing event listeners and reinitialize\n            this.input.destroy();\n            this.input.target = options.inputTarget;\n            this.input.init();\n        }\n        return this;\n    },\n\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function(force) {\n        this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function(inputData) {\n        var session = this.session;\n        if (session.stopped) {\n            return;\n        }\n\n        // run the touch-action polyfill\n        this.touchAction.preventDefaults(inputData);\n\n        var recognizer;\n        var recognizers = this.recognizers;\n\n        // this holds the recognizer that is being recognized.\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n        // if no recognizer is detecting a thing, it is set to `null`\n        var curRecognizer = session.curRecognizer;\n\n        // reset when the last recognizer is recognized\n        // or when we're in a new session\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\n            curRecognizer = session.curRecognizer = null;\n        }\n\n        var i = 0;\n        while (i < recognizers.length) {\n            recognizer = recognizers[i];\n\n            // find out if we are allowed try to recognize the input for this one.\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n            //      that is being recognized.\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\n            if (session.stopped !== FORCED_STOP && ( // 1\n                    !curRecognizer || recognizer == curRecognizer || // 2\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\n                recognizer.recognize(inputData);\n            } else {\n                recognizer.reset();\n            }\n\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n            // current active recognizer. but only if we don't already have an active recognizer\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n                curRecognizer = session.curRecognizer = recognizer;\n            }\n            i++;\n        }\n    },\n\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function(recognizer) {\n        if (recognizer instanceof Recognizer) {\n            return recognizer;\n        }\n\n        var recognizers = this.recognizers;\n        for (var i = 0; i < recognizers.length; i++) {\n            if (recognizers[i].options.event == recognizer) {\n                return recognizers[i];\n            }\n        }\n        return null;\n    },\n\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'add', this)) {\n            return this;\n        }\n\n        // remove existing\n        var existing = this.get(recognizer.options.event);\n        if (existing) {\n            this.remove(existing);\n        }\n\n        this.recognizers.push(recognizer);\n        recognizer.manager = this;\n\n        this.touchAction.update();\n        return recognizer;\n    },\n\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function(recognizer) {\n        if (invokeArrayArg(recognizer, 'remove', this)) {\n            return this;\n        }\n\n        recognizer = this.get(recognizer);\n\n        // let's make sure this recognizer exists\n        if (recognizer) {\n            var recognizers = this.recognizers;\n            var index = inArray(recognizers, recognizer);\n\n            if (index !== -1) {\n                recognizers.splice(index, 1);\n                this.touchAction.update();\n            }\n        }\n\n        return this;\n    },\n\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n        if (handler === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            handlers[event] = handlers[event] || [];\n            handlers[event].push(handler);\n        });\n        return this;\n    },\n\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function(events, handler) {\n        if (events === undefined) {\n            return;\n        }\n\n        var handlers = this.handlers;\n        each(splitStr(events), function(event) {\n            if (!handler) {\n                delete handlers[event];\n            } else {\n                handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n            }\n        });\n        return this;\n    },\n\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function(event, data) {\n        // we also want to trigger dom events\n        if (this.options.domEvents) {\n            triggerDomEvent(event, data);\n        }\n\n        // no handlers, so skip it all\n        var handlers = this.handlers[event] && this.handlers[event].slice();\n        if (!handlers || !handlers.length) {\n            return;\n        }\n\n        data.type = event;\n        data.preventDefault = function() {\n            data.srcEvent.preventDefault();\n        };\n\n        var i = 0;\n        while (i < handlers.length) {\n            handlers[i](data);\n            i++;\n        }\n    },\n\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function() {\n        this.element && toggleCssProps(this, false);\n\n        this.handlers = {};\n        this.session = {};\n        this.input.destroy();\n        this.element = null;\n    }\n};\n\n/**\n * add/remove the css properties as defined in manager.options.cssProps\n * @param {Manager} manager\n * @param {Boolean} add\n */\nfunction toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n        return;\n    }\n    var prop;\n    each(manager.options.cssProps, function(value, name) {\n        prop = prefixed(element.style, name);\n        if (add) {\n            manager.oldCssProps[prop] = element.style[prop];\n            element.style[prop] = value;\n        } else {\n            element.style[prop] = manager.oldCssProps[prop] || '';\n        }\n    });\n    if (!add) {\n        manager.oldCssProps = {};\n    }\n}\n\n/**\n * trigger dom event\n * @param {String} event\n * @param {Object} data\n */\nfunction triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n}\n\nassign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n});\n\n// this prevents errors when Hammer is loaded in the presence of an AMD\n//  style loader but by script tag, not by the loader.\nvar freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line\nfreeGlobal.Hammer = Hammer;\n\nif (typeof define === 'function' && define.amd) {\n    define(function() {\n        return Hammer;\n    });\n} else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n} else {\n    window[exportName] = Hammer;\n}\n\n})(window, document, 'Hammer');\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__178__;","module.exports = __WEBPACK_EXTERNAL_MODULE__306__;","module.exports = __WEBPACK_EXTERNAL_MODULE__485__;","module.exports = __WEBPACK_EXTERNAL_MODULE__38__;","module.exports = __WEBPACK_EXTERNAL_MODULE__347__;","module.exports = __WEBPACK_EXTERNAL_MODULE__987__;","module.exports = __WEBPACK_EXTERNAL_MODULE__214__;","module.exports = __WEBPACK_EXTERNAL_MODULE__116__;","module.exports = __WEBPACK_EXTERNAL_MODULE__946__;","module.exports = __WEBPACK_EXTERNAL_MODULE__445__;","module.exports = __WEBPACK_EXTERNAL_MODULE__670__;","module.exports = __WEBPACK_EXTERNAL_MODULE__793__;","module.exports = __WEBPACK_EXTERNAL_MODULE__59__;","module.exports = __WEBPACK_EXTERNAL_MODULE__102__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","module.exports = __WEBPACK_EXTERNAL_MODULE__756__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getFormula = async (props) => {\n  const { operation, column, filters, dataSource } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_FORMULA, {\n    filters,\n    operation,\n    column\n  });\n};\n","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getHistogram = async (props) => {\n  const { column, operation, ticks, filters, dataSource } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_HISTOGRAM, {\n    filters,\n    operation,\n    column,\n    ticks\n  });\n};\n","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getCategories = async (props) => {\n  const { column, operationColumn, operation, filters, dataSource } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_CATEGORY, {\n    filters,\n    operation,\n    column,\n    operationColumn: operationColumn || column\n  });\n};\n","// Geocoding / Data Services https://carto.com/developers/data-services-api/reference/\n\nimport { executeSQL } from '@carto/react-api';\n\n/**\n * Street-Level Geocoder\n * @param {*} credentials\n * @param {*} { searchText, city, state, country } all optional but searchText\n *\n *\n */\nexport const geocodeStreetPoint = async (\n  credentials,\n  { searchText, city, state, country },\n  opts = {}\n) => {\n  if (credentials.apiKey === 'default_public') {\n    throw new Error('To search a location you need to login or provide an API KEY');\n  }\n\n  const query = `SELECT ST_AsGeoJSON(cdb_geocode_street_point('${searchText}', '${\n    city ?? ''\n  }', '${state ?? ''}', '${country ?? ''}')) AS geometry`;\n  const results = await executeSQL({ credentials, query, opts });\n\n  const geometry = JSON.parse(results[0].geometry);\n  if (geometry === null) return null;\n\n  // Just 1 result is returned, with geometry value on success\n  const [longitude, latitude] = geometry.coordinates;\n  return {\n    longitude,\n    latitude\n  };\n};\n\n// OTHER GEOCODING OPTIONS:\n//      Country Geocoder: cdb_geocode_admin0polygon(_country_name text)\n//      Level-1 Administrative Regions Geocoder: cdb_geocode_admin1polygon(_admin1_name text)\n//      City Geocoder: cdb_geocode_namedplace_point(city_name text)\n//      Postal Code Geocoder: cdb_geocode_postalcode_point(code text, country_name text)\n//      IP Addresses Geocoder: cdb_geocode_ipaddress_point(ip_address text)\n","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getScatter = async (props) => {\n  const { xAxisColumn, yAxisColumn, filters, dataSource } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_SCATTERPLOT, {\n    filters,\n    xAxisColumn,\n    yAxisColumn\n  });\n};\n","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getTimeSeries = async (props) => {\n  const { filters, dataSource, column, operationColumn, operation, stepSize } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_TIME_SERIES, {\n    filters,\n    column,\n    stepSize,\n    operationColumn: operationColumn || column,\n    operation\n  });\n};\n","import { Methods, executeTask } from '@carto/react-workers';\n\nexport const getTable = async (props) => {\n  const { filters, dataSource, rowsPerPage, page, sortBy, sortDirection } = props;\n\n  return executeTask(dataSource, Methods.FEATURES_RAW, {\n    filters,\n    limit: rowsPerPage,\n    page,\n    sortBy,\n    sortByDirection: sortDirection\n  });\n};\n","var has = Object.prototype.hasOwnProperty;\n\nfunction find(iter, tar, key) {\n\tfor (key of iter.keys()) {\n\t\tif (dequal(key, tar)) return key;\n\t}\n}\n\nexport function dequal(foo, bar) {\n\tvar ctor, len, tmp;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ctor === Set) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len;\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!bar.has(tmp)) return false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === Map) {\n\t\t\tif (foo.size !== bar.size) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tfor (len of foo) {\n\t\t\t\ttmp = len[0];\n\t\t\t\tif (tmp && typeof tmp === 'object') {\n\t\t\t\t\ttmp = find(bar, tmp);\n\t\t\t\t\tif (!tmp) return false;\n\t\t\t\t}\n\t\t\t\tif (!dequal(len[1], bar.get(tmp))) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tif (ctor === ArrayBuffer) {\n\t\t\tfoo = new Uint8Array(foo);\n\t\t\tbar = new Uint8Array(bar);\n\t\t} else if (ctor === DataView) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo.getInt8(len) === bar.getInt8(len));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (ArrayBuffer.isView(foo)) {\n\t\t\tif ((len=foo.byteLength) === bar.byteLength) {\n\t\t\t\twhile (len-- && foo[len] === bar[len]);\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","import { _getApplicableFilters as getApplicableFilters } from '@carto/react-core/';\nimport { selectSourceById } from '@carto/react-redux/';\nimport { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport useCustomCompareMemo from './useCustomCompareMemo';\nimport { dequal as deepEqual } from 'dequal';\n\n/**\n * Hook to obtain source's filters excluding the one from a certain widget\n * @param  {object} props\n * @param  {string} props.dataSource - ID of the source to get the filters from.\n * @param  {string} props.id - ID of the widget that apply the filter you want to exclude.\n */\nexport default function useSourceFilters({ dataSource, id }) {\n  const { filters } = useSelector((state) => selectSourceById(state, dataSource) || {});\n\n  const applicableFilters = useMemo(() => getApplicableFilters(filters, id), [\n    filters,\n    id\n  ]);\n\n  return useCustomCompareMemo(applicableFilters, deepEqual);\n}\n","import { useRef } from 'react';\n\nexport default function useCustomCompareMemo(value, isEqual) {\n  const ref = useRef(value);\n\n  if (!isEqual(ref.current, value)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n","import { selectSourceById } from '@carto/react-redux/';\nimport { useSelector } from 'react-redux';\nimport { useMemo } from 'react';\n\n/**\n * Obtain widget's filter values.\n *\n * @param  {object} props\n * @param  {string} props.dataSource - ID of the source to get the filters from.\n * @param  {string} props.id - ID of the widget that applied the filter.\n * @param  {string} props.column - name of column of this widget.\n * @param  {string} props.type - type of filter\n */\nexport function useWidgetFilterValues({ dataSource, id, column, type }) {\n  const { filters } = useSelector((state) => selectSourceById(state, dataSource) || {});\n\n  return useMemo(() => {\n    const filter = filters?.[column]?.[type];\n    if (!filter || filter.owner !== id) {\n      return null;\n    }\n    return filter.values;\n  }, [filters, column, type, id]);\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, CategoryWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '../models';\nimport useSourceFilters from '../hooks/useSourceFilters';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux/';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <CategoryWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format each value returned.\n * @param  {Object} [props.labels] - Overwrite category labels.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {boolean} [props.searchable] - Enable/disable widget searching capabilities. Enabled by default.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n */\nfunction CategoryWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    column,\n    operationColumn,\n    operation,\n    formatter,\n    labels,\n    animation,\n    filterable,\n    searchable,\n    onError,\n    wrapperProps,\n    noDataAlertProps\n  } = props;\n  const dispatch = useDispatch();\n\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n\n  const [categoryData, setCategoryData] = useState([]);\n\n  const [isLoading, setIsLoading] = useState(true);\n\n  const filters = useSourceFilters({ dataSource, id });\n  const selectedCategories =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getCategories({\n        column,\n        operationColumn,\n        operation,\n        filters,\n        dataSource\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setCategoryData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    column,\n    operationColumn,\n    operation,\n    filters,\n    dataSource,\n    setIsLoading,\n    onError,\n    isSourceReady\n  ]);\n\n  const handleSelectedCategoriesChange = useCallback(\n    (categories) => {\n      if (categories && categories.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: categories,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      {categoryData.length || isLoading ? (\n        <CategoryWidgetUI\n          data={categoryData}\n          formatter={formatter}\n          labels={labels}\n          selectedCategories={selectedCategories}\n          onSelectedCategoriesChange={handleSelectedCategoriesChange}\n          animation={animation}\n          filterable={filterable}\n          searchable={searchable}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nCategoryWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.string,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  labels: PropTypes.object,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  searchable: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object\n};\n\nCategoryWidget.defaultProps = {\n  labels: {},\n  animation: true,\n  filterable: true,\n  searchable: true,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default CategoryWidget;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { WrapperWidgetUI, FormulaWidgetUI } from '@carto/react-ui';\nimport { getFormula } from '../models';\nimport { AggregationTypes } from '@carto/react-core';\nimport useSourceFilters from '../hooks/useSourceFilters';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux';\n\n/**\n * Renders a <FormulaWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format each value returned.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n */\nfunction FormulaWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    column,\n    operation,\n    formatter,\n    animation,\n    onError,\n    wrapperProps\n  } = props;\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n  const filters = useSourceFilters({ dataSource, id });\n\n  const [formulaData, setFormulaData] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getFormula({\n        operation,\n        column,\n        filters,\n        dataSource\n      })\n        .then((data) => {\n          if (data && data[0]) {\n            setIsLoading(false);\n            setFormulaData(data[0].value);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [operation, column, filters, dataSource, setIsLoading, onError, isSourceReady]);\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      <FormulaWidgetUI\n        data={formulaData}\n        formatter={formatter}\n        unitBefore={true}\n        animation={animation}\n      />\n    </WrapperWidgetUI>\n  );\n}\n\nFormulaWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  animation: PropTypes.bool,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object\n};\n\nFormulaWidget.defaultProps = {\n  animation: true,\n  wrapperProps: {}\n};\n\nexport default FormulaWidget;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React, { useState, useEffect, useRef } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PropTypes } from 'prop-types';\n\nimport { geocodeStreetPoint } from '../models';\nimport { addLayer, selectOAuthCredentials, setViewState } from '@carto/react-redux';\n\nimport { CircularProgress, InputBase, Paper, SvgIcon } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst DEFAULT_COUNTRY = ''; // 'SPAIN', 'USA'\n\nconst setGeocoderResult = (payload) => ({\n  type: 'carto/setGeocoderResult',\n  payload\n});\n\nconst useStyles = makeStyles((theme) => ({\n  paperInput: {\n    height: theme.spacing(4.5),\n    width: theme.spacing(30),\n    paddingLeft: theme.spacing(1.5),\n    borderRadius: 4,\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    fill: theme.palette.text.secondary,\n    height: '1em',\n    fontSize: `${theme.typography.body2.lineHeight}em`\n  },\n  clear: {\n    ...theme.typography.body2\n  },\n  input: {\n    ...theme.typography.body2,\n    width: `calc(100% - ${theme.spacing(5)}px)`,\n    marginLeft: theme.spacing(1)\n  }\n}));\n\nconst SearchIcon = (args) => (\n  <SvgIcon {...args}>\n    <path\n      d='M11,4 C14.8659932,4 18,7.13400675 18,11 C18,12.7003211 17.3937669,14.2590489 16.3856562,15.4718279 L19.4748737,18.5606602 L18.0606602,19.9748737 L14.8998887,16.8138615 C13.7854137,17.5629194 12.4437497,18 11,18 C7.13400675,18 4,14.8659932 4,11 C4,7.13400675 7.13400675,4 11,4 Z M11,6 C8.23857625,6 6,8.23857625 6,11 C6,13.7614237 8.23857625,16 11,16 C13.7614237,16 16,13.7614237 16,11 C16,8.23857625 13.7614237,6 11,6 Z'\n      fill='inherit'\n    ></path>\n  </SvgIcon>\n);\n\n/**\n * Renders a <GeocoderWidget /> component\n * @param  {object} props\n * @param  {Object} [props.className] - Material-UI withStyle class for styling\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n */\nfunction GeocoderWidget(props) {\n  const inputRef = useRef();\n  const oauthCredentials = useSelector(selectOAuthCredentials);\n  const globalCredentials = useSelector((state) => state.carto.credentials);\n  const credentials = oauthCredentials || globalCredentials;\n  // Component local state and events handling\n  const [searchText, setSearchText] = useState('');\n  const [loading, setIsLoading] = useState(false);\n  // Actions dispatched\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    // layer to display the geocoded direction marker\n    dispatch(\n      addLayer({\n        id: 'geocoderLayer'\n      })\n    );\n  }, [dispatch]);\n\n  const classes = useStyles();\n\n  const handleChange = (e) => {\n    setSearchText(e.target.value);\n  };\n\n  const handleInput = (e) => {\n    if (e.target.value === '') {\n      updateMarker(null);\n    }\n  };\n\n  const handleKeyPress = async (e) => {\n    if (e.keyCode === 13) {\n      // Force blur to hide virtual keyboards on mobile and search\n      e.target.blur();\n    }\n  };\n\n  // Needed to handle keyboard \"Done\" button on iOS\n  const handleBlur = async () => {\n    if (searchText.length) {\n      handleSearch();\n    }\n  };\n\n  const handleSearch = async () => {\n    if (credentials) {\n      try {\n        setIsLoading(true);\n        const result = await geocodeStreetPoint(credentials, {\n          searchText,\n          country: DEFAULT_COUNTRY\n        });\n        if (result) {\n          zoomToResult(result);\n          updateMarker(result);\n        }\n      } catch (e) {\n        handleGeocodeError(e);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n  };\n\n  const zoomToResult = (result) => {\n    dispatch(\n      setViewState({\n        longitude: result.longitude,\n        latitude: result.latitude,\n        zoom: 16,\n        transitionDuration: 500\n      })\n    );\n  };\n\n  const updateMarker = (result) => {\n    dispatch(setGeocoderResult(result));\n  };\n\n  const handleGeocodeError = (error) => {\n    if (props.onError) {\n      props.onError(error);\n    }\n  };\n\n  return (\n    <Paper className={`${props.className} ${classes.paperInput}`} elevation={2}>\n      {loading ? (\n        <CircularProgress size={20} className={classes.icon} />\n      ) : (\n        <SearchIcon className={classes.icon} />\n      )}\n      <InputBase\n        type='search'\n        tabIndex={-1}\n        inputRef={inputRef}\n        size='small'\n        placeholder='Search address'\n        className={classes.input}\n        value={searchText}\n        inputProps={{ 'aria-label': 'GeocoderSearch' }}\n        onChange={handleChange}\n        onInput={handleInput}\n        onKeyDown={handleKeyPress}\n        onBlur={handleBlur}\n      />\n    </Paper>\n  );\n}\n\nGeocoderWidget.propTypes = {\n  className: PropTypes.string,\n  onError: PropTypes.func\n};\n\nGeocoderWidget.defaultProps = {};\n\nexport default GeocoderWidget;\n","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, HistogramWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getHistogram } from '../models';\nimport useSourceFilters from '../hooks/useSourceFilters';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux/';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <HistogramWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {number[]} props.ticks - Array of thresholds for the X axis.\n * @param  {Function} [props.xAxisformatter] - Function to format X axis values.\n * @param  {Function} [props.formatter] - Function to format Y axis values.\n * @param  {boolean} [props.tooltip=true] - Whether to show a tooltip or not\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n */\nfunction HistogramWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    column,\n    operation,\n    ticks,\n    xAxisFormatter,\n    dataAxis,\n    formatter,\n    tooltip,\n    animation,\n    filterable,\n    onError,\n    wrapperProps,\n    noDataAlertProps\n  } = props;\n  const dispatch = useDispatch();\n\n  const [histogramData, setHistogramData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const filters = useSourceFilters({ dataSource, id });\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n\n  const thresholdsFromFilters = useWidgetFilterValues({\n    dataSource,\n    id,\n    column,\n    type: FilterTypes.CLOSED_OPEN\n  });\n\n  const selectedBars = useMemo(() => {\n    return (thresholdsFromFilters || EMPTY_ARRAY)\n      .map(([from, to]) => {\n        if (typeof from === 'undefined' || from === null) {\n          return 0;\n        } else if (typeof to === 'undefined' || to === null) {\n          return ticks.length;\n        } else {\n          const idx = ticks.indexOf(from);\n          return idx !== -1 ? idx + 1 : null;\n        }\n      })\n      .filter((v) => v !== null);\n  }, [thresholdsFromFilters, ticks]);\n\n  const tooltipFormatter = useCallback(\n    ([serie]) => {\n      const formattedValue = formatter\n        ? formatter(serie.value, serie.dataIndex, ticks)\n        : { prefix: '', value: serie.value };\n\n      return typeof formattedValue === 'object'\n        ? `${formattedValue.prefix}${formattedValue.value}`\n        : formattedValue;\n    },\n    [formatter, ticks]\n  );\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getHistogram({\n        column,\n        operation,\n        ticks,\n        filters,\n        dataSource\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setHistogramData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    column,\n    operation,\n    ticks,\n    dataSource,\n    filters,\n    setIsLoading,\n    onError,\n    isSourceReady\n  ]);\n\n  const handleSelectedBarsChange = useCallback(\n    ({ bars }) => {\n      if (bars && bars.length) {\n        const thresholds = bars.map((i) => {\n          let left = ticks[i - 1];\n          let right = ticks.length !== i + 1 ? ticks[i] : undefined;\n\n          return [left, right];\n        });\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.CLOSED_OPEN,\n            values: thresholds,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch, ticks]\n  );\n\n  const ticksForDataAxis = ticks.reduce((acc, tick, i) => {\n    if (acc.length === 0) {\n      return [`< ${tick}`];\n    }\n    if (i === ticks.length - 1) {\n      return [...acc, `< ${tick}`, `>= ${tick}`];\n    }\n    return [...acc, `< ${tick}`];\n  }, []);\n\n  return (\n    <WrapperWidgetUI title={title} {...wrapperProps} isLoading={isLoading}>\n      {histogramData.length || isLoading ? (\n        <HistogramWidgetUI\n          data={histogramData}\n          dataAxis={dataAxis || ticksForDataAxis}\n          selectedBars={selectedBars}\n          onSelectedBarsChange={handleSelectedBarsChange}\n          tooltip={tooltip}\n          tooltipFormatter={tooltipFormatter}\n          xAxisFormatter={xAxisFormatter}\n          yAxisFormatter={formatter}\n          animation={animation}\n          filterable={filterable}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nHistogramWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  xAxisFormatter: PropTypes.func,\n  formatter: PropTypes.func,\n  tooltip: PropTypes.bool,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  ticks: PropTypes.array.isRequired,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object\n};\n\nHistogramWidget.defaultProps = {\n  tooltip: true,\n  animation: true,\n  filterable: true,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default HistogramWidget;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { addFilter, removeFilter } from '@carto/react-redux';\nimport { WrapperWidgetUI, PieWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { _FilterTypes as FilterTypes, AggregationTypes } from '@carto/react-core';\nimport { getCategories } from '../models';\nimport useSourceFilters from '../hooks/useSourceFilters';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux/';\nimport { useWidgetFilterValues } from '../hooks/useWidgetFilterValues';\n\nconst EMPTY_ARRAY = [];\n\n/**\n * Renders a <PieWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's column to get the data from.\n * @param  {string} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`.\n * @param  {string} props.operation - Operation to apply to the operationColumn. Must be one of those defined in `AggregationTypes` object.\n * @param  {Function} [props.formatter] - Function to format the value that appears in the tooltip.\n * @param  {Function} [props.tooltipFormatter] - Function to return the HTML of the tooltip.\n * @param  {object} props.labels - Object that maps category name with a chosen label\n * @param  {string} props.height - Height of the chart\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {boolean} [props.filterable] - Enable/disable widget filtering capabilities. Enabled by default.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n */\nfunction PieWidget({\n  id,\n  title,\n  height,\n  dataSource,\n  column,\n  operationColumn,\n  operation,\n  formatter,\n  tooltipFormatter,\n  labels,\n  animation,\n  filterable,\n  colors,\n  onError,\n  wrapperProps,\n  noDataAlertProps\n}) {\n  const dispatch = useDispatch();\n\n  const [categoryData, setCategoryData] = useState([]);\n  const selectedCategories =\n    useWidgetFilterValues({ dataSource, id, column, type: FilterTypes.IN }) ||\n    EMPTY_ARRAY;\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n  const filters = useSourceFilters({ dataSource, id });\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getCategories({\n        column,\n        operation,\n        operationColumn,\n        filters,\n        dataSource\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setCategoryData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    column,\n    operationColumn,\n    operation,\n    filters,\n    dataSource,\n    setIsLoading,\n    onError,\n    isSourceReady\n  ]);\n\n  const handleSelectedCategoriesChange = useCallback(\n    (categories) => {\n      if (categories && categories.length) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.IN,\n            values: categories,\n            owner: id\n          })\n        );\n      } else {\n        dispatch(\n          removeFilter({\n            id: dataSource,\n            column\n          })\n        );\n      }\n    },\n    [column, dataSource, id, dispatch]\n  );\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      {categoryData.length || isLoading ? (\n        <PieWidgetUI\n          data={categoryData}\n          formatter={formatter}\n          height={height}\n          tooltipFormatter={tooltipFormatter}\n          colors={colors}\n          labels={labels}\n          animation={animation}\n          filterable={filterable}\n          selectedCategories={selectedCategories}\n          onSelectedCategoriesChange={handleSelectedCategoriesChange}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nPieWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  height: PropTypes.number,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.string,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  formatter: PropTypes.func,\n  tooltipFormatter: PropTypes.func,\n  labels: PropTypes.object,\n  animation: PropTypes.bool,\n  filterable: PropTypes.bool,\n  onError: PropTypes.func,\n  colors: PropTypes.arrayOf(PropTypes.string),\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object\n};\n\nPieWidget.defaultProps = {\n  animation: true,\n  filterable: true,\n  wrapperProps: {},\n  noDataAlertProps: {}\n};\n\nexport default PieWidget;\n","import React, { useState } from 'react';\nimport { updateLayer } from '@carto/react-redux/';\nimport { LegendWidgetUI } from '@carto/react-ui';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\n\n/**\n * Renders a <LegendWidget /> component\n * @param  {object} props\n * @param  {string} [props.className] - CSS class name\n * @param  {Object.<string, function>} [props.customLegendTypes] - Allow to customise by default legend types that can be rendered\n * @param  {boolean} [props.initialCollapsed] - Define initial collapsed value. false by default.\n */\nfunction LegendWidget({ className, customLegendTypes, initialCollapsed }) {\n  const dispatch = useDispatch();\n  const layers = useSelector((state) =>\n    Object.values(state.carto.layers).filter((layer) => !!layer.legend)\n  );\n  const [collapsed, setCollapsed] = useState(initialCollapsed);\n\n  if (!layers.length) {\n    return null;\n  }\n\n  const handleChangeVisibility = ({ id, visible }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { visible }\n      })\n    );\n  };\n\n  const handleChangeOpacity = ({ id, opacity }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { opacity }\n      })\n    );\n  };\n\n  const handleChangeLegendRowCollapsed = ({ id, collapsed }) => {\n    dispatch(\n      updateLayer({\n        id,\n        layerAttributes: { legend: { collapsed } }\n      })\n    );\n  };\n\n  return (\n    <LegendWidgetUI\n      className={className}\n      customLegendTypes={customLegendTypes}\n      layers={layers}\n      onChangeVisibility={handleChangeVisibility}\n      onChangeOpacity={handleChangeOpacity}\n      collapsed={collapsed}\n      onChangeCollapsed={setCollapsed}\n      onChangeLegendRowCollapsed={handleChangeLegendRowCollapsed}\n    />\n  );\n}\n\nLegendWidget.propTypes = {\n  className: PropTypes.string,\n  customLegendTypes: PropTypes.objectOf(PropTypes.func),\n  initialCollapsed: PropTypes.bool\n};\n\nLegendWidget.defaultProps = {\n  initialCollapsed: false\n};\n\nexport default LegendWidget;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { PropTypes } from 'prop-types';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux';\nimport { WrapperWidgetUI, ScatterPlotWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { getScatter } from '../models';\nimport useSourceFilters from '../hooks/useSourceFilters';\n\n/**\n * Renders a <ScatterPlotWidget /> component\n * @param  props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.xAxisColumn - Name of the data source's column to get the x axis from.\n * @param  {string} props.yAxisColumn - Name of the data source's column to get the y axis from.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {formatterCallback} [props.xAxisFormatter] - Function to format X axis values.\n * @param  {formatterCallback} [props.yAxisFormatter] - Function to format Y axis values.\n * @param  {formatterCallback} [props.tooltipFormatter] - Function to format Y axis values.\n * @param  {errorCallback} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n */\nfunction ScatterPlotWidget(props) {\n  const {\n    id,\n    title,\n    dataSource,\n    xAxisColumn,\n    yAxisColumn,\n    animation,\n    yAxisFormatter,\n    xAxisFormatter,\n    tooltipFormatter,\n    onError,\n    wrapperProps,\n    noDataAlertProps\n  } = props;\n\n  const [scatterData, setScatterData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n  const filters = useSourceFilters({ dataSource, id });\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getScatter({\n        xAxisColumn,\n        yAxisColumn,\n        filters,\n        dataSource\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setScatterData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    xAxisColumn,\n    yAxisColumn,\n    dataSource,\n    filters,\n    setIsLoading,\n    isSourceReady,\n    onError\n  ]);\n\n  return (\n    <WrapperWidgetUI title={title} isLoading={isLoading} {...wrapperProps}>\n      {scatterData.length || isLoading ? (\n        <ScatterPlotWidgetUI\n          data={scatterData}\n          tooltipFormatter={tooltipFormatter}\n          xAxisFormatter={xAxisFormatter}\n          yAxisFormatter={yAxisFormatter}\n          animation={animation}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nScatterPlotWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  xAxisColumn: PropTypes.string.isRequired,\n  yAxisColumn: PropTypes.string.isRequired,\n  animation: PropTypes.bool,\n  xAxisFormatter: PropTypes.func,\n  yAxisFormatter: PropTypes.func,\n  tooltipFormatter: PropTypes.func,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object\n};\n\nScatterPlotWidget.defaultProps = {\n  tooltip: true,\n  animation: true,\n  wrapperProps: {},\n  noDataAlertProps: {},\n  tooltipFormatter: (v) => `[${v.value[0]}, ${v.value[1]})`,\n  xAxisFormatter: (v) => v,\n  yAxisFormatter: (v) => v\n};\n\nexport default ScatterPlotWidget;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTimeSeries } from '../models';\nimport {\n  addFilter,\n  removeFilter,\n  selectAreFeaturesReadyForSource\n} from '@carto/react-redux';\nimport {\n  TimeSeriesWidgetUI,\n  WrapperWidgetUI,\n  TIME_SERIES_CHART_TYPES,\n  NoDataAlert\n} from '@carto/react-ui';\nimport {\n  GroupDateTypes,\n  AggregationTypes,\n  _FilterTypes as FilterTypes\n} from '@carto/react-core';\nimport { capitalize, Menu, MenuItem, SvgIcon, Typography } from '@material-ui/core';\nimport { PropTypes } from 'prop-types';\nimport useSourceFilters from '../hooks/useSourceFilters';\n\n// Due to the widget groups the data by a certain stepSize, when filtering\n// the filter applied must be a range that represent the grouping range.\n// For example, if you group the data by day, the range must\n// start with a day and ends 24 hours later.\nconst STEP_SIZE_RANGE_MAPPING = {\n  [GroupDateTypes.YEARS]: 60 * 60 * 24 * 365 * 1000,\n  [GroupDateTypes.MONTHS]: 60 * 60 * 24 * 30 * 1000,\n  [GroupDateTypes.WEEKS]: 60 * 60 * 24 * 7 * 1000,\n  [GroupDateTypes.DAYS]: 60 * 60 * 24 * 1000,\n  [GroupDateTypes.HOURS]: 60 * 60 * 1000,\n  [GroupDateTypes.MINUTES]: 60 * 1000\n};\n\n/**\n * Renders a <TimeSeriesWidget /> component\n * @param  props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {string} props.column - Name of the data source's date column for grouping the data.\n * @param  {string} [props.operationColumn] - Name of the data source's column to operate with. If not defined it will default to the one defined in `column`.\n * @param  {string} [props.operation] - Operation to apply to the operationColumn. Operation used by default is COUNT. Must be one of those defined in `AggregationTypes` object.\n * @param  {string} props.stepSize - Step applied to group the data. Must be one of those defined in `GroupDateTypes` object.\n * @param  {string[]} [props.stepSizeOptions] - Different steps that can be applied to group the data. If filled, an icon with a menu appears to change between steps. Every value must be one of those defined in `AggregationTypes` object.\n * @param  {string} [props.chartType] - Chart used to represent the time serie. Must be one of those defined in `TIME_SERIES_CHART_TYPES` object.\n * @param  {boolean} [props.tooltip] - Enable/disable tooltip.\n * @param  {function} [props.tooltipFormatter] - Function that returns the HTML for the chart tooltip.\n * @param  {function} [props.formatter] - Function for formatting the value that is represented in the tooltip.\n * @param  {string} [props.height] - Height of the chart.\n * @param  {boolean} [props.showControls] - Enable/disable animation controls (play, pause, stop, speed). True by default.\n * @param  {boolean} [props.animation] - Enable/disable widget animations on data updates. Enabled by default.\n * @param  {function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * Internal state\n * @param  {boolean} [props.isPlaying] - If true, the animation starts.\n * @param  {boolean} [props.isPaused] - If true and isPlaying false, the animation is paused.\n * @param  {any[]} [props.timeWindow] - Array of two elements that represent a date range. The values can be anything that Date constructor can receive.\n * Events\n * @param  {function} [props.onPlay] - Event raised when the animation starts.\n * @param  {function} [props.onPause] - Event raised when the animation is paused.\n * @param  {function} [props.onStop] - Event raised when the animation is stopped.\n * @param  {function} [props.onTimelineUpdate] - Event raised when the timeline is updated. It happens when the animation is playing. The function receive as param the date that is being shown.\n * @param  {function} [props.onTimeWindowUpdate] - Event raised when the timeWindow is updated. It happens when the animation is playing with a timeWindow enabled. The function receive as param an array of two date objects.\n */\nfunction TimeSeriesWidget({\n  // Widget\n  id,\n  title,\n  dataSource,\n  column,\n  operationColumn,\n  operation,\n  stepSizeOptions,\n  onError,\n  wrapperProps,\n  noDataAlertProps,\n  // UI\n  chartType,\n  tooltip,\n  tooltipFormatter,\n  formatter,\n  height,\n  showControls,\n  animation,\n  isPlaying,\n  onPlay,\n  isPaused,\n  onPause,\n  onStop,\n  onTimelineUpdate,\n  timeWindow,\n  onTimeWindowUpdate,\n  // Both\n  stepSize\n}) {\n  const dispatch = useDispatch();\n\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n  const filters = useSourceFilters({ dataSource, id });\n\n  const [timeSeriesData, setTimeSeriesData] = useState([]);\n  const [selectedStepSize, setSelectedStepSize] = useState(stepSize);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (stepSize !== selectedStepSize) {\n      setSelectedStepSize(stepSize);\n    }\n    // Only on stepSize update\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stepSize]);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    if (isSourceReady) {\n      getTimeSeries({\n        filters,\n        dataSource,\n        column,\n        stepSize: selectedStepSize,\n        operationColumn,\n        operation\n      })\n        .then((data) => {\n          if (data) {\n            setIsLoading(false);\n            setTimeSeriesData(data);\n          }\n        })\n        .catch((error) => {\n          setIsLoading(false);\n          if (onError) onError(error);\n        });\n    }\n  }, [\n    id,\n    filters,\n    dataSource,\n    column,\n    selectedStepSize,\n    isSourceReady,\n    setIsLoading,\n    operationColumn,\n    operation,\n    onError\n  ]);\n\n  const handleTimeWindowUpdate = useCallback(\n    (timeWindow) => {\n      if (!isLoading) {\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.TIME,\n            values: [timeWindow.map((date) => date.getTime?.() || date)],\n            owner: id\n          })\n        );\n\n        if (onTimeWindowUpdate) onTimeWindowUpdate(timeWindow);\n      }\n    },\n    [column, dataSource, isLoading, dispatch, id, onTimeWindowUpdate]\n  );\n\n  const handleTimelineUpdate = useCallback(\n    (timelinePosition) => {\n      if (!isLoading) {\n        const { name: moment } = timeSeriesData[timelinePosition];\n        dispatch(\n          addFilter({\n            id: dataSource,\n            column,\n            type: FilterTypes.TIME,\n            values: [[moment, moment + STEP_SIZE_RANGE_MAPPING[selectedStepSize]]],\n            owner: id\n          })\n        );\n\n        if (onTimelineUpdate) onTimelineUpdate(new Date(moment));\n      }\n    },\n    [\n      column,\n      dataSource,\n      isLoading,\n      dispatch,\n      id,\n      onTimelineUpdate,\n      selectedStepSize,\n      timeSeriesData\n    ]\n  );\n\n  const handleStop = useCallback(() => {\n    dispatch(\n      removeFilter({\n        id: dataSource,\n        column\n      })\n    );\n\n    if (onStop) onStop();\n  }, [column, dataSource, dispatch, onStop]);\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleOpenStepSizeMenu = (e) => {\n    if (e?.currentTarget) {\n      setAnchorEl(e.currentTarget);\n    }\n  };\n\n  const handleCloseStepSizeMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleStepSizeUpdate = (stepSize) => {\n    setSelectedStepSize(stepSize);\n    handleCloseStepSizeMenu();\n  };\n\n  return (\n    <>\n      <WrapperWidgetUI\n        title={title}\n        isLoading={isLoading}\n        {...wrapperProps}\n        actions={[\n          ...(wrapperProps?.actions || []),\n          ...(stepSizeOptions?.length\n            ? [\n                {\n                  id: 'a0',\n                  name: 'Bucket size',\n                  icon: <StepSizeIcon />,\n                  action: handleOpenStepSizeMenu\n                }\n              ]\n            : [])\n        ]}\n      >\n        {timeSeriesData.length || isLoading ? (\n          <TimeSeriesWidgetUI\n            data={timeSeriesData}\n            stepSize={selectedStepSize}\n            chartType={chartType}\n            tooltip={tooltip}\n            tooltipFormatter={tooltipFormatter}\n            formatter={formatter}\n            height={height}\n            showControls={showControls}\n            animation={animation}\n            isPlaying={isPlaying}\n            onPlay={onPlay}\n            isPaused={isPaused}\n            onPause={onPause}\n            onStop={handleStop}\n            // timelinePosition={timelinePosition}\n            onTimelineUpdate={handleTimelineUpdate}\n            timeWindow={timeWindow}\n            onTimeWindowUpdate={handleTimeWindowUpdate}\n          />\n        ) : (\n          <NoDataAlert {...noDataAlertProps} />\n        )}\n      </WrapperWidgetUI>\n      <Menu\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleCloseStepSizeMenu}\n      >\n        <MenuItem disabled>\n          <Typography variant='caption' color='textSecondary'>\n            Step size\n          </Typography>\n        </MenuItem>\n        {stepSizeOptions.map((stepSize) => (\n          <MenuItem\n            key={stepSize}\n            selected={selectedStepSize === stepSize}\n            onClick={() => handleStepSizeUpdate(stepSize)}\n          >\n            {capitalize(stepSize)}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  );\n}\n\nTimeSeriesWidget.propTypes = {\n  // Widget\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  column: PropTypes.string.isRequired,\n  operationColumn: PropTypes.string,\n  operation: PropTypes.oneOf(Object.values(AggregationTypes)).isRequired,\n  stepSizeOptions: PropTypes.arrayOf(PropTypes.oneOf(Object.values(GroupDateTypes))),\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  // UI\n  tooltip: PropTypes.bool,\n  tooltipFormatter: PropTypes.func,\n  formatter: PropTypes.func,\n  height: PropTypes.string,\n  animation: PropTypes.bool,\n  isPlaying: PropTypes.bool,\n  onPlay: PropTypes.func,\n  isPaused: PropTypes.bool,\n  onPause: PropTypes.func,\n  onStop: PropTypes.func,\n  onTimelineUpdate: PropTypes.func,\n  timeWindow: PropTypes.arrayOf(PropTypes.any),\n  onTimeWindowUpdate: PropTypes.func,\n  showControls: PropTypes.bool,\n  chartType: PropTypes.oneOf(Object.values(TIME_SERIES_CHART_TYPES)),\n  // Both\n  stepSize: PropTypes.oneOf(Object.values(GroupDateTypes)).isRequired\n};\n\nTimeSeriesWidget.defaultProps = {\n  // Widget\n  operation: AggregationTypes.COUNT,\n  stepSizeOptions: [],\n  wrapperProps: {},\n  noDataAlertProps: {},\n  // UI\n  tooltip: true,\n  formatter: (value) => value,\n  animation: true,\n  isPlaying: false,\n  isPaused: false,\n  // timelinePosition: 0,\n  timeWindow: [],\n  showControls: true,\n  chartType: TIME_SERIES_CHART_TYPES.LINE\n};\n\nexport default TimeSeriesWidget;\n\n// Aux\nfunction StepSizeIcon() {\n  return (\n    <SvgIcon>\n      <path\n        d='M19 14l.3 1.5c.32.12.614.278.883.475l.197.155 1.45-.49 1 1.73-1.14 1c.069.429.078.68.03 1.065l-.03.205 1.14 1-1 1.73-1.45-.49c-.256.216-.538.394-.845.533l-.235.097L19 24h-2l-.3-1.51c-.32-.12-.614-.278-.883-.475l-.197-.155-1.45.49-1-1.73 1.14-1c-.067-.417-.078-.667-.033-1.028l.033-.232-1.14-1 1-1.73 1.45.49c.256-.216.538-.394.845-.533l.235-.097L17 14h2zM8 2v2h8V2h2v2h1c1.05 0 1.918.82 1.994 1.851L21 6v6h-2v-2H5v10h6v2H5c-1.06 0-1.919-.82-1.995-1.851L3 20l.01-14c0-1.05.802-1.918 1.84-1.994L5 4h1V2h2zm10 15c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm1-11H5v2h14V6z'\n        id='-Color'\n        fill='inherit'\n      ></path>\n    </SvgIcon>\n  );\n}\n","import { FeatureSelectionWidgetUI, featureSelectionIcons } from '@carto/react-ui';\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  setFeatureSelectionMode,\n  addSpatialFilter,\n  removeSpatialFilter,\n  setFeatureSelectionEnabled\n} from '@carto/react-redux';\nimport {\n  FEATURE_SELECTION_MODES,\n  EDIT_MODES as EDIT_MODES_KEYS\n} from '@carto/react-core';\n\nconst { PolygonIcon, RectangleIcon, CircleIcon, LassoIcon, CursorIcon } =\n  featureSelectionIcons;\n\nconst FEATURE_SELECTION_MODES_MAP = {\n  [FEATURE_SELECTION_MODES.POLYGON]: {\n    label: 'Polygon',\n    icon: <PolygonIcon />\n  },\n  [FEATURE_SELECTION_MODES.RECTANGLE]: {\n    label: 'Rectangle',\n    icon: <RectangleIcon />\n  },\n  [FEATURE_SELECTION_MODES.CIRCLE]: {\n    label: 'Circle',\n    icon: <CircleIcon />\n  },\n  [FEATURE_SELECTION_MODES.LASSO_TOOL]: {\n    label: 'Lasso tool',\n    icon: <LassoIcon />\n  }\n};\n\nconst EDIT_MODES_MAP = {\n  [EDIT_MODES_KEYS.EDIT]: {\n    label: 'Edit mask',\n    icon: <CursorIcon />\n  }\n};\n\nfunction FeatureSelectionWidget({\n  className,\n  selectionModes: selectionModesKeys,\n  editModes: editModesKeys,\n  tooltipPlacement\n}) {\n  const dispatch = useDispatch();\n  const geometry = useSelector((state) => state.carto.spatialFilter);\n  const selectedMode = useSelector((state) => state.carto.featureSelectionMode);\n  const enabled = useSelector((state) => state.carto.featureSelectionEnabled);\n\n  const selectionModes = useMemo(() => {\n    return selectionModesKeys\n      .filter((key) => FEATURE_SELECTION_MODES_MAP[key])\n      .map((key) => ({ id: key, ...FEATURE_SELECTION_MODES_MAP[key] }));\n  }, [selectionModesKeys]);\n\n  const editModes = useMemo(() => {\n    return editModesKeys\n      .filter((key) => EDIT_MODES_MAP[key])\n      .map((key) => ({ id: key, ...EDIT_MODES_MAP[key] }));\n  }, [editModesKeys]);\n\n  const handleEnabledChange = (newEnabled) => {\n    dispatch(setFeatureSelectionEnabled(newEnabled));\n  };\n\n  const handleSelectMode = (newSelectedMode) => {\n    dispatch(setFeatureSelectionMode(newSelectedMode));\n    // If the user update selectedMode, activate it by default\n    handleEnabledChange(true);\n  };\n\n  const handleSelectGeometry = () => {\n    dispatch(\n      addSpatialFilter({\n        geometry: {\n          ...geometry,\n          properties: {\n            ...geometry.properties,\n            disabled: !geometry.properties.disabled\n          }\n        }\n      })\n    );\n  };\n\n  const handleDeleteGeometry = () => {\n    dispatch(removeSpatialFilter());\n  };\n\n  return (\n    <FeatureSelectionWidgetUI\n      className={className}\n      selectionModes={selectionModes}\n      editModes={editModes}\n      selectedMode={selectedMode}\n      onSelectMode={handleSelectMode}\n      enabled={enabled}\n      onEnabledChange={handleEnabledChange}\n      tooltipPlacement={tooltipPlacement}\n      geometry={geometry}\n      onSelectGeometry={handleSelectGeometry}\n      onDeleteGeometry={handleDeleteGeometry}\n    />\n  );\n}\n\nFeatureSelectionWidget.defaultProps = {\n  selectionModes: Object.values(FEATURE_SELECTION_MODES),\n  editModes: Object.values(EDIT_MODES_KEYS),\n  defaultSelectedMode: Object.values(FEATURE_SELECTION_MODES)[0],\n  defaultEnabled: FeatureSelectionWidgetUI.defaultProps.enabled,\n  tooltipPlacement: FeatureSelectionWidgetUI.defaultProps.tooltipPlacement\n};\n\nFeatureSelectionWidget.propTypes = {\n  className: FeatureSelectionWidgetUI.propTypes.className,\n  selectionModes: PropTypes.arrayOf(\n    PropTypes.oneOf(Object.values(FEATURE_SELECTION_MODES))\n  ),\n  editModes: PropTypes.arrayOf(PropTypes.oneOf(Object.values(EDIT_MODES_KEYS))),\n  defaultEnabled: FeatureSelectionWidgetUI.propTypes.enabled,\n  defaultSelectedMode: PropTypes.oneOf([\n    ...Object.values(FEATURE_SELECTION_MODES),\n    ...Object.values(EDIT_MODES_KEYS)\n  ]),\n  tooltipPlacement: FeatureSelectionWidgetUI.propTypes.tooltipPlacement\n};\n\nexport default FeatureSelectionWidget;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { WrapperWidgetUI, TableWidgetUI, NoDataAlert } from '@carto/react-ui';\nimport { getTable } from '../models';\nimport useSourceFilters from '../hooks/useSourceFilters';\nimport { selectAreFeaturesReadyForSource } from '@carto/react-redux/';\n\n/**\n * Renders a <TableWidget /> component\n * @param  {object} props\n * @param  {string} props.id - ID for the widget instance.\n * @param  {string} props.title - Title to show in the widget header.\n * @param  {string} props.dataSource - ID of the data source to get the data from.\n * @param  {object[]} props.columns - List of data columns to display. If not specified, all the columns in the data source will be displayed.\n * @param  {Function} [props.onError] - Function to handle error messages from the widget.\n * @param  {Object} [props.wrapperProps] - Extra props to pass to [WrapperWidgetUI](https://storybook-react.carto.com/?path=/docs/widgets-wrapperwidgetui--default)\n * @param  {Object} [props.noDataAlertProps] - Extra props to pass to [NoDataAlert]()\n * @param  {number} [props.initialPageSize] - Initial number of rows per page\n * @param  {string} [props.height] - Static widget height, required for scrollable table content\n * @param  {boolean} [props.dense] - Whether the table should use a compact layout with smaller cell paddings\n */\nfunction TableWidget({\n  id,\n  title,\n  dataSource,\n  columns,\n  wrapperProps,\n  noDataAlertProps,\n  onError,\n  initialPageSize = 10,\n  height,\n  dense\n}) {\n  const [rowsPerPage, setRowsPerPage] = useState(initialPageSize);\n  const [page, setPage] = useState(0);\n  const [totalCount, setTotalCount] = useState(0);\n\n  const [sortBy, setSortBy] = useState(undefined);\n  const [sortDirection, setSortDirection] = useState('asc');\n\n  const [rows, setRows] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const filters = useSourceFilters({ dataSource, id });\n  const isSourceReady = useSelector((state) =>\n    selectAreFeaturesReadyForSource(state, dataSource)\n  );\n\n  useEffect(() => {\n    // force reset the page to 0 when the viewport or filters change\n    setPage(0);\n  }, [dataSource, isSourceReady, filters]);\n\n  useEffect(() => {\n    if (isSourceReady) {\n      setIsLoading(true);\n      getTable({\n        filters,\n        dataSource,\n        rowsPerPage,\n        page,\n        sortBy,\n        sortDirection\n      })\n        .then((data) => {\n          if (data) {\n            setRows(data.data);\n            setTotalCount(data.totalCount);\n          }\n        })\n        .catch((error) => {\n          if (onError) onError(error);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    }\n  }, [\n    id,\n    dataSource,\n    filters,\n    sortBy,\n    sortDirection,\n    page,\n    rowsPerPage,\n    onError,\n    isSourceReady\n  ]);\n\n  return (\n    <WrapperWidgetUI title={title} {...wrapperProps} isLoading={isLoading}>\n      {rows.length || isLoading ? (\n        <TableWidgetUI\n          columns={columns}\n          rows={rows}\n          pagination\n          totalCount={totalCount}\n          page={page}\n          onSetPage={setPage}\n          onSetRowsPerPage={setRowsPerPage}\n          rowsPerPage={rowsPerPage}\n          sorting\n          sortBy={sortBy}\n          sortDirection={sortDirection}\n          onSetSortBy={setSortBy}\n          onSetSortDirection={setSortDirection}\n          height={height}\n          dense={dense}\n        />\n      ) : (\n        <NoDataAlert {...noDataAlertProps} />\n      )}\n    </WrapperWidgetUI>\n  );\n}\n\nTableWidget.propTypes = {\n  id: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  dataSource: PropTypes.string.isRequired,\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      field: PropTypes.string.isRequired,\n      headerName: PropTypes.string.isRequired,\n      align: PropTypes.oneOf(['left', 'right'])\n    })\n  ).isRequired,\n  onError: PropTypes.func,\n  wrapperProps: PropTypes.object,\n  noDataAlertProps: PropTypes.object,\n  initialPageSize: PropTypes.number,\n  height: PropTypes.string,\n  dense: PropTypes.bool\n};\n\nexport default TableWidget;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import { EditableGeoJsonLayer } from '@nebula.gl/layers';\n\n// EditableGeoJsonLayer extends EditableLayer and it's its code https://github.com/uber/nebula.gl/blob/master/modules/layers/src/layers/editable-layer.ts#L75\n// We've overwritten _addEventHandlers and _removeEventHandlers to be able to use an eventManager sent it as a property instead of use\n// the default (this.context.deck.eventManager). We need to do this to get the compatibility with Google maps because GoogleMapsOverlay\n// uses its own event system\n\nconst EVENT_TYPES = ['anyclick', 'pointermove', 'panstart', 'panmove', 'panend', 'keyup'];\n\nexport default class EditableCartoGeoJsonLayer extends EditableGeoJsonLayer {\n  updateState({ props, oldProps, context, changeFlags }) {\n    if (props.eventManager !== oldProps.eventManager) {\n      this._removeEventHandlers(props.eventManager);\n      this._removeEventHandlers(oldProps.eventManager);\n      this._addEventHandlers();\n    }\n    super.updateState({ props, oldProps, context, changeFlags });\n  }\n\n  _addEventHandlers() {\n    const eventManager = this._getEventManager();\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.on(eventType, eventHandler, {\n        // give nebula a higher priority so that it can stop propagation to deck.gl's map panning handlers\n        priority: 100\n      });\n    }\n  }\n\n  _removeEventHandlers(_eventManager = undefined) {\n    const eventManager = _eventManager || this._getEventManager();\n    const { eventHandler } = this.state._editableLayerState;\n\n    for (const eventType of EVENT_TYPES) {\n      eventManager.off(eventType, eventHandler);\n    }\n  }\n\n  _getEventManager() {\n    return this.props.eventManager || this.context.deck.eventManager;\n  }\n}\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","const INPUT_START = 1;\nconst INPUT_MOVE = 2;\nconst INPUT_END = 4;\nconst MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\n\nfunction some(array, predict) {\n  for (let i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function enhancePointerEventInput(PointerEventInput) {\n  const oldHandler = PointerEventInput.prototype.handler;\n\n  PointerEventInput.prototype.handler = function handler(ev) {\n    const store = this.store;\n\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, e => e.pointerId === ev.pointerId)) {\n        store.push(ev);\n      }\n    }\n\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    let eventType = MOUSE_INPUT_MAP[ev.type];\n\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n\n    if (!this.pressed) {\n      return;\n    }\n\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}\n//# sourceMappingURL=hammer-overrides.js.map","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport const Manager = hammerjs.Manager;\nexport default hammerjs;\n//# sourceMappingURL=hammer.browser.js.map","import Hammer from './utils/hammer';\nexport const RECOGNIZERS = Hammer ? [[Hammer.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport const RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport const RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport const BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport const INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel']\n};\nexport const EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport const GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};\n//# sourceMappingURL=constants.js.map","export const userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nconst window_ = typeof window !== 'undefined' ? window : global;\nconst global_ = typeof global !== 'undefined' ? global : window;\nconst document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nlet passiveSupported = false;\n\ntry {\n  const options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\n\nexport { passiveSupported };\n//# sourceMappingURL=globals.js.map","import { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nconst firefox = userAgent.indexOf('firefox') !== -1;\nconst {\n  WHEEL_EVENTS\n} = INPUT_EVENT_TYPES;\nconst EVENT_TYPE = 'wheel';\nconst WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nconst WHEEL_DELTA_PER_LINE = 40;\nconst SHIFT_MULTIPLIER = 0.25;\nexport default class WheelInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(event => element.addEventListener(event, this.handleEvent, passiveSupported ? {\n      passive: false\n    } : false));\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  enableEventType(eventType, enabled) {\n    if (eventType === EVENT_TYPE) {\n      this.options.enable = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    if (!this.options.enable) {\n      return;\n    }\n\n    let value = event.deltaY;\n\n    if (window.WheelEvent) {\n      if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n        value /= window.devicePixelRatio;\n      }\n\n      if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n        value *= WHEEL_DELTA_PER_LINE;\n      }\n    }\n\n    const wheelPosition = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n      value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n    }\n\n    if (event.shiftKey && value) {\n      value = value * SHIFT_MULTIPLIER;\n    }\n\n    this._onWheel(event, -value, wheelPosition);\n  }\n\n  _onWheel(srcEvent, delta, position) {\n    this.callback({\n      type: EVENT_TYPE,\n      center: position,\n      delta,\n      srcEvent,\n      pointerType: 'mouse',\n      target: srcEvent.target\n    });\n  }\n\n}\n//# sourceMappingURL=wheel-input.js.map","import { INPUT_EVENT_TYPES } from '../constants';\nconst {\n  MOUSE_EVENTS\n} = INPUT_EVENT_TYPES;\nconst MOVE_EVENT_TYPE = 'pointermove';\nconst OVER_EVENT_TYPE = 'pointerover';\nconst OUT_EVENT_TYPE = 'pointerout';\nconst LEAVE_EVENT_TYPE = 'pointerleave';\nexport default class MoveInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  enableEventType(eventType, enabled) {\n    if (eventType === MOVE_EVENT_TYPE) {\n      this.enableMoveEvent = enabled;\n    }\n\n    if (eventType === OVER_EVENT_TYPE) {\n      this.enableOverEvent = enabled;\n    }\n\n    if (eventType === OUT_EVENT_TYPE) {\n      this.enableOutEvent = enabled;\n    }\n\n    if (eventType === LEAVE_EVENT_TYPE) {\n      this.enableLeaveEvent = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    this.handleOverEvent(event);\n    this.handleOutEvent(event);\n    this.handleLeaveEvent(event);\n    this.handleMoveEvent(event);\n  }\n\n  handleOverEvent(event) {\n    if (this.enableOverEvent) {\n      if (event.type === 'mouseover') {\n        this.callback({\n          type: OVER_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleOutEvent(event) {\n    if (this.enableOutEvent) {\n      if (event.type === 'mouseout') {\n        this.callback({\n          type: OUT_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleLeaveEvent(event) {\n    if (this.enableLeaveEvent) {\n      if (event.type === 'mouseleave') {\n        this.callback({\n          type: LEAVE_EVENT_TYPE,\n          srcEvent: event,\n          pointerType: 'mouse',\n          target: event.target\n        });\n      }\n    }\n  }\n\n  handleMoveEvent(event) {\n    if (this.enableMoveEvent) {\n      switch (event.type) {\n        case 'mousedown':\n          if (event.button >= 0) {\n            this.pressed = true;\n          }\n\n          break;\n\n        case 'mousemove':\n          if (event.which === 0) {\n            this.pressed = false;\n          }\n\n          if (!this.pressed) {\n            this.callback({\n              type: MOVE_EVENT_TYPE,\n              srcEvent: event,\n              pointerType: 'mouse',\n              target: event.target\n            });\n          }\n\n          break;\n\n        case 'mouseup':\n          this.pressed = false;\n          break;\n\n        default:\n      }\n    }\n  }\n\n}\n//# sourceMappingURL=move-input.js.map","import { INPUT_EVENT_TYPES } from '../constants';\nconst {\n  KEY_EVENTS\n} = INPUT_EVENT_TYPES;\nconst DOWN_EVENT_TYPE = 'keydown';\nconst UP_EVENT_TYPE = 'keyup';\nexport default class KeyInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(event => element.addEventListener(event, this.handleEvent));\n  }\n\n  destroy() {\n    this.events.forEach(event => this.element.removeEventListener(event, this.handleEvent));\n  }\n\n  enableEventType(eventType, enabled) {\n    if (eventType === DOWN_EVENT_TYPE) {\n      this.enableDownEvent = enabled;\n    }\n\n    if (eventType === UP_EVENT_TYPE) {\n      this.enableUpEvent = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    const targetElement = event.target || event.srcElement;\n\n    if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n      return;\n    }\n\n    if (this.enableDownEvent && event.type === 'keydown') {\n      this.callback({\n        type: DOWN_EVENT_TYPE,\n        srcEvent: event,\n        key: event.key,\n        target: event.target\n      });\n    }\n\n    if (this.enableUpEvent && event.type === 'keyup') {\n      this.callback({\n        type: UP_EVENT_TYPE,\n        srcEvent: event,\n        key: event.key,\n        target: event.target\n      });\n    }\n  }\n\n}\n//# sourceMappingURL=key-input.js.map","const EVENT_TYPE = 'contextmenu';\nexport default class ContextmenuInput {\n  constructor(element, callback, options = {}) {\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n\n  destroy() {\n    this.element.removeEventListener('contextmenu', this.handleEvent);\n  }\n\n  enableEventType(eventType, enabled) {\n    if (eventType === EVENT_TYPE) {\n      this.options.enable = enabled;\n    }\n  }\n\n  handleEvent(event) {\n    if (!this.options.enable) {\n      return;\n    }\n\n    this.callback({\n      type: EVENT_TYPE,\n      center: {\n        x: event.clientX,\n        y: event.clientY\n      },\n      srcEvent: event,\n      pointerType: 'mouse',\n      target: event.target\n    });\n  }\n\n}\n//# sourceMappingURL=contextmenu-input.js.map","const DOWN_EVENT = 1;\nconst MOVE_EVENT = 2;\nconst UP_EVENT = 4;\nconst MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nconst MOUSE_EVENT_WHICH_LEFT = 1;\nconst MOUSE_EVENT_WHICH_MIDDLE = 2;\nconst MOUSE_EVENT_WHICH_RIGHT = 3;\nconst MOUSE_EVENT_BUTTON_LEFT = 0;\nconst MOUSE_EVENT_BUTTON_MIDDLE = 1;\nconst MOUSE_EVENT_BUTTON_RIGHT = 2;\nconst MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nconst MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nconst MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  const eventType = MOUSE_EVENTS[event.srcEvent.type];\n\n  if (!eventType) {\n    return null;\n  }\n\n  const {\n    buttons,\n    button,\n    which\n  } = event.srcEvent;\n  let leftButton = false;\n  let middleButton = false;\n  let rightButton = false;\n\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n\n  return {\n    leftButton,\n    middleButton,\n    rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  const {\n    srcEvent\n  } = event;\n\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n\n  const center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  const rect = rootElement.getBoundingClientRect();\n  const scaleX = rect.width / rootElement.offsetWidth || 1;\n  const scaleY = rect.height / rootElement.offsetHeight || 1;\n  const offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center,\n    offsetCenter\n  };\n}\n//# sourceMappingURL=event-utils.js.map","import { whichButtons, getOffsetPosition } from './event-utils';\nconst DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\nexport default class EventRegistrar {\n  constructor(eventManager) {\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n\n  isEmpty() {\n    return !this._active;\n  }\n\n  add(type, handler, opts, once = false, passive = false) {\n    const {\n      handlers,\n      handlersByElement\n    } = this;\n\n    if (opts && (typeof opts !== 'object' || opts.addEventListener)) {\n      opts = {\n        srcElement: opts\n      };\n    }\n\n    opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n    let entries = handlersByElement.get(opts.srcElement);\n\n    if (!entries) {\n      entries = [];\n      handlersByElement.set(opts.srcElement, entries);\n    }\n\n    const entry = {\n      type,\n      handler,\n      srcElement: opts.srcElement,\n      priority: opts.priority\n    };\n\n    if (once) {\n      entry.once = true;\n    }\n\n    if (passive) {\n      entry.passive = true;\n    }\n\n    handlers.push(entry);\n    this._active = this._active || !entry.passive;\n    let insertPosition = entries.length - 1;\n\n    while (insertPosition >= 0) {\n      if (entries[insertPosition].priority >= entry.priority) {\n        break;\n      }\n\n      insertPosition--;\n    }\n\n    entries.splice(insertPosition + 1, 0, entry);\n  }\n\n  remove(type, handler) {\n    const {\n      handlers,\n      handlersByElement\n    } = this;\n\n    for (let i = handlers.length - 1; i >= 0; i--) {\n      const entry = handlers[i];\n\n      if (entry.type === type && entry.handler === handler) {\n        handlers.splice(i, 1);\n        const entries = handlersByElement.get(entry.srcElement);\n        entries.splice(entries.indexOf(entry), 1);\n\n        if (entries.length === 0) {\n          handlersByElement.delete(entry.srcElement);\n        }\n      }\n    }\n\n    this._active = handlers.some(entry => !entry.passive);\n  }\n\n  handleEvent(event) {\n    if (this.isEmpty()) {\n      return;\n    }\n\n    const mjolnirEvent = this._normalizeEvent(event);\n\n    let target = event.srcEvent.target;\n\n    while (target && target !== mjolnirEvent.rootElement) {\n      this._emit(mjolnirEvent, target);\n\n      if (mjolnirEvent.handled) {\n        return;\n      }\n\n      target = target.parentNode;\n    }\n\n    this._emit(mjolnirEvent, 'root');\n  }\n\n  _emit(event, srcElement) {\n    const entries = this.handlersByElement.get(srcElement);\n\n    if (entries) {\n      let immediatePropagationStopped = false;\n\n      const stopPropagation = () => {\n        event.handled = true;\n      };\n\n      const stopImmediatePropagation = () => {\n        event.handled = true;\n        immediatePropagationStopped = true;\n      };\n\n      const entriesToRemove = [];\n\n      for (let i = 0; i < entries.length; i++) {\n        const {\n          type,\n          handler,\n          once\n        } = entries[i];\n        handler(Object.assign({}, event, {\n          type,\n          stopPropagation,\n          stopImmediatePropagation\n        }));\n\n        if (once) {\n          entriesToRemove.push(entries[i]);\n        }\n\n        if (immediatePropagationStopped) {\n          break;\n        }\n      }\n\n      for (let i = 0; i < entriesToRemove.length; i++) {\n        const {\n          type,\n          handler\n        } = entriesToRemove[i];\n        this.remove(type, handler);\n      }\n    }\n  }\n\n  _normalizeEvent(event) {\n    const rootElement = this.eventManager.element;\n    return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n      handled: false,\n      rootElement\n    });\n  }\n\n}\n//# sourceMappingURL=event-registrar.js.map","import { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nconst DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\nexport default class EventManager {\n  constructor(element = null, options = {}) {\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    const {\n      events\n    } = options;\n\n    if (events) {\n      this.on(events);\n    }\n  }\n\n  setElement(element) {\n    if (this.element) {\n      this.destroy();\n    }\n\n    this.element = element;\n\n    if (!element) {\n      return;\n    }\n\n    const {\n      options\n    } = this;\n    const ManagerClass = options.Manager;\n    this.manager = new ManagerClass(element, {\n      touchAction: options.touchAction,\n      recognizers: options.recognizers || RECOGNIZERS\n    }).on('hammer.input', this._onBasicInput);\n\n    if (!options.recognizers) {\n      Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(name => {\n        const recognizer = this.manager.get(name);\n\n        if (recognizer) {\n          RECOGNIZER_COMPATIBLE_MAP[name].forEach(otherName => {\n            recognizer.recognizeWith(otherName);\n          });\n        }\n      });\n    }\n\n    for (const recognizerName in options.recognizerOptions) {\n      const recognizer = this.manager.get(recognizerName);\n\n      if (recognizer) {\n        const recognizerOption = options.recognizerOptions[recognizerName];\n        delete recognizerOption.enable;\n        recognizer.set(recognizerOption);\n      }\n    }\n\n    this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n      enable: false\n    });\n    this.moveInput = new MoveInput(element, this._onOtherEvent, {\n      enable: false\n    });\n    this.keyInput = new KeyInput(element, this._onOtherEvent, {\n      enable: false,\n      tabIndex: options.tabIndex\n    });\n    this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n      enable: false\n    });\n\n    for (const [eventAlias, eventRegistrar] of this.events) {\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n\n        this.manager.on(eventAlias, eventRegistrar.handleEvent);\n      }\n    }\n  }\n\n  destroy() {\n    if (this.element) {\n      this.wheelInput.destroy();\n      this.moveInput.destroy();\n      this.keyInput.destroy();\n      this.contextmenuInput.destroy();\n      this.manager.destroy();\n      this.wheelInput = null;\n      this.moveInput = null;\n      this.keyInput = null;\n      this.contextmenuInput = null;\n      this.manager = null;\n      this.element = null;\n    }\n  }\n\n  on(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, false);\n  }\n\n  once(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, true);\n  }\n\n  watch(event, handler, opts) {\n    this._addEventHandler(event, handler, opts, false, true);\n  }\n\n  off(event, handler) {\n    this._removeEventHandler(event, handler);\n  }\n\n  _toggleRecognizer(name, enabled) {\n    const {\n      manager\n    } = this;\n\n    if (!manager) {\n      return;\n    }\n\n    const recognizer = manager.get(name);\n\n    if (recognizer && recognizer.options.enable !== enabled) {\n      recognizer.set({\n        enable: enabled\n      });\n      const fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n\n      if (fallbackRecognizers && !this.options.recognizers) {\n        fallbackRecognizers.forEach(otherName => {\n          const otherRecognizer = manager.get(otherName);\n\n          if (enabled) {\n            otherRecognizer.requireFailure(name);\n            recognizer.dropRequireFailure(otherName);\n          } else {\n            otherRecognizer.dropRequireFailure(name);\n          }\n        });\n      }\n    }\n\n    this.wheelInput.enableEventType(name, enabled);\n    this.moveInput.enableEventType(name, enabled);\n    this.keyInput.enableEventType(name, enabled);\n    this.contextmenuInput.enableEventType(name, enabled);\n  }\n\n  _addEventHandler(event, handler, opts, once, passive) {\n    if (typeof event !== 'string') {\n      opts = handler;\n\n      for (const eventName in event) {\n        this._addEventHandler(eventName, event[eventName], opts, once, passive);\n      }\n\n      return;\n    }\n\n    const {\n      manager,\n      events\n    } = this;\n    const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n    let eventRegistrar = events.get(eventAlias);\n\n    if (!eventRegistrar) {\n      eventRegistrar = new EventRegistrar(this);\n      events.set(eventAlias, eventRegistrar);\n      eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n\n      if (manager) {\n        manager.on(eventAlias, eventRegistrar.handleEvent);\n      }\n    }\n\n    eventRegistrar.add(event, handler, opts, once, passive);\n\n    if (!eventRegistrar.isEmpty()) {\n      this._toggleRecognizer(eventRegistrar.recognizerName, true);\n    }\n  }\n\n  _removeEventHandler(event, handler) {\n    if (typeof event !== 'string') {\n      for (const eventName in event) {\n        this._removeEventHandler(eventName, event[eventName]);\n      }\n\n      return;\n    }\n\n    const {\n      events\n    } = this;\n    const eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n    const eventRegistrar = events.get(eventAlias);\n\n    if (!eventRegistrar) {\n      return;\n    }\n\n    eventRegistrar.remove(event, handler);\n\n    if (eventRegistrar.isEmpty()) {\n      const {\n        recognizerName\n      } = eventRegistrar;\n      let isRecognizerUsed = false;\n\n      for (const eh of events.values()) {\n        if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n          isRecognizerUsed = true;\n          break;\n        }\n      }\n\n      if (!isRecognizerUsed) {\n        this._toggleRecognizer(recognizerName, false);\n      }\n    }\n  }\n\n  _onBasicInput(event) {\n    const {\n      srcEvent\n    } = event;\n    const alias = BASIC_EVENT_ALIASES[srcEvent.type];\n\n    if (alias) {\n      this.manager.emit(alias, event);\n    }\n  }\n\n  _onOtherEvent(event) {\n    this.manager.emit(event.type, event);\n  }\n\n}\n//# sourceMappingURL=event-manager.js.map","import { EventManager } from 'mjolnir.js';\nimport { useEffect, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { BASEMAPS } from '@carto/react-basemaps/';\nimport { FEATURE_SELECTION_MODES } from '@carto/react-core/';\n\n// When we're using Google as a base map, Nebula layer doesn't work becase Nebula uses the Deck Gl eventManager\n// so in this case we're defining a new EventManager with the Google maps div. On the other hand, in Builder\n// we don't use the c4r GoogleMap component so we need to send a EventManager as parameter\nexport default function useEventManager({\n  eventManager,\n  isEdit,\n  isSelected,\n  selectedMode\n}) {\n  const isGmaps = useSelector((state) => BASEMAPS[state.carto.basemap].type === 'gmaps');\n  const cartoGmap = window.cartoGmap;\n\n  const customEventManager = useMemo(() => {\n    if (eventManager) {\n      return eventManager;\n    }\n\n    if (isGmaps && cartoGmap) {\n      return new EventManager(cartoGmap.getDiv());\n    }\n    // If Google is not the base map we use the default Nebula EventManager\n    return undefined;\n  }, [cartoGmap, eventManager, isGmaps]);\n\n  // Disable the map interactivity if we're using Google as a base map and we're editing\n  // the geometry or drawing a lasso. Nebula does it automatically when the base map is not Google\n  useEffect(() => {\n    if (isGmaps && cartoGmap) {\n      const disableDragAndDrop =\n        (isEdit && isSelected) || selectedMode === FEATURE_SELECTION_MODES.LASSO_TOOL;\n      cartoGmap.setOptions({ gestureHandling: disableDragAndDrop ? 'none' : 'auto' });\n    }\n  }, [cartoGmap, isEdit, isGmaps, isSelected, selectedMode]);\n\n  return customEventManager;\n}\n","import { useSelector } from 'react-redux';\nimport { OPERATION } from '@deck.gl/core';\nimport { SolidPolygonLayer } from '@deck.gl/layers';\nimport { MASK_ID } from '@carto/react-core/';\nimport { selectSpatialFilter } from '@carto/react-redux/';\n\nexport default function MaskLayer() {\n  const spatialFilterGeometry = useSelector((state) => selectSpatialFilter(state));\n  const maskData = !!spatialFilterGeometry\n    ? [{ polygon: spatialFilterGeometry?.geometry.coordinates }]\n    : [];\n\n  return new SolidPolygonLayer({\n    id: MASK_ID,\n    operation: OPERATION.MASK,\n    data: maskData,\n    getFillColor: [255, 255, 255, 255]\n  });\n}\n","import { useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as nebulaModes from '@nebula.gl/edit-modes';\nimport {\n  addSpatialFilter,\n  selectSpatialFilter,\n  setFeatureSelectionEnabled,\n  selectFeatureSelectionMode\n} from '@carto/react-redux';\nimport { EDIT_MODES } from '@carto/react-core';\nimport { hexToRgb, useTheme } from '@material-ui/core';\nimport EditableCartoGeoJsonLayer from './EditableCartoGeoJsonLayer';\nimport useEventManager from './useEventManager';\nimport MaskLayer from './MaskLayer';\n\nconst { ViewMode, TranslateMode, ModifyMode, CompositeMode } = nebulaModes;\n\nconst EditMode = new CompositeMode([new TranslateMode(), new ModifyMode()]);\n\nexport default function FeatureSelectionLayer(\n  { eventManager, mask } = { eventManager: null, mask: true }\n) {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const [selectedFeatureIndex, setSelectedFeatureIndex] = useState(null);\n  const selectedMode = useSelector((state) => selectFeatureSelectionMode(state));\n  const spatialFilterGeometry = useSelector((state) => selectSpatialFilter(state));\n\n  const isEdit = isEditMode(selectedMode);\n  const hasGeometry = !!spatialFilterGeometry;\n  const isSelected = selectedFeatureIndex !== null;\n\n  const customEventManager = useEventManager({\n    eventManager,\n    isEdit,\n    isSelected,\n    selectedMode\n  });\n\n  useEffect(() => {\n    // When the user changes mode or finishes drawing a geometry, remove selected feature\n    if (!isEdit && isSelected) {\n      setSelectedFeatureIndex(null);\n    }\n  }, [isEdit, spatialFilterGeometry, isSelected]);\n\n  const mode = useMemo(() => {\n    if (selectedMode) {\n      if (isEdit && isSelected) {\n        return EditMode;\n      } else if (!isEdit && !isSelected) {\n        return nebulaModes[selectedMode];\n      }\n    }\n\n    return ViewMode;\n  }, [isSelected, isEdit, selectedMode]);\n\n  const primaryAsRgba = formatRGBA(hexToRgb(theme.palette.primary.main));\n  const secondaryAsRgba = formatRGBA(hexToRgb(theme.palette.secondary.main));\n\n  const mainColor = hasGeometry && !isSelected ? secondaryAsRgba : primaryAsRgba;\n\n  return [\n    mask && MaskLayer(),\n    // @ts-ignore\n    new EditableCartoGeoJsonLayer({\n      eventManager: customEventManager,\n      id: 'FeatureSelectionLayer',\n      pickable: !!selectedMode,\n      data: {\n        type: 'FeatureCollection',\n        features: spatialFilterGeometry ? [spatialFilterGeometry] : []\n      },\n      mode,\n      // @ts-ignore\n      selectedFeatureIndexes: isFinite(selectedFeatureIndex)\n        ? [selectedFeatureIndex]\n        : [],\n      onEdit: ({ updatedData, editType }) => {\n        // Once the geometry is drawed, disable the tool\n        if (editType === 'addFeature') {\n          dispatch(setFeatureSelectionEnabled(false));\n        }\n\n        // Do not update spatial filter if\n        //     1. updatedData is empty\n        //     2. editType includes tentative, that means it's being drawn\n        if (updatedData.features.length !== 0 && !editType.includes('Tentative')) {\n          const [lastFeature] = updatedData.features.slice(-1);\n          if (lastFeature) {\n            dispatch(\n              addSpatialFilter({\n                geometry: lastFeature\n              })\n            );\n          }\n        }\n      },\n      onClick: ({ index, object }) => {\n        if (isEdit && object?.geometry.type === 'Polygon') {\n          setSelectedFeatureIndex(index);\n        }\n      },\n      // Styles once geometry is created or it's being edited\n      getLineColor: mainColor,\n      getFillColor: isEdit ? [...mainColor.slice(0, 3), 255 * 0.08] : [0, 0, 0, 0],\n      // Styles while drawing geometry\n      getTentativeFillColor: [...primaryAsRgba.slice(0, 3), 255 * 0.08],\n      getTentativeLineColor: primaryAsRgba,\n      // Point styles while drawing\n      getEditHandlePointColor: [0xff, 0xff, 0xff],\n      getEditHandlePointOutlineColor: primaryAsRgba,\n      editHandlePointStrokeWidth: 5,\n      getEditHandlePointRadius: 2\n    })\n  ];\n}\n\n// Aux\nfunction isEditMode(mode) {\n  return Object.values(EDIT_MODES).indexOf(mode) !== -1;\n}\n\nfunction formatRGBA(cssRgba) {\n  const [r, g, b, alpha] = cssRgba.replace(/[rgba() ]/g, '').split(',');\n\n  return [r, g, b, alpha ? alpha * 255 : 255].map(Number);\n}\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__156__","__WEBPACK_EXTERNAL_MODULE__756__","__WEBPACK_EXTERNAL_MODULE__347__","__WEBPACK_EXTERNAL_MODULE__214__","__WEBPACK_EXTERNAL_MODULE__485__","__WEBPACK_EXTERNAL_MODULE__116__","__WEBPACK_EXTERNAL_MODULE__178__","__WEBPACK_EXTERNAL_MODULE__38__","__WEBPACK_EXTERNAL_MODULE__987__","__WEBPACK_EXTERNAL_MODULE__670__","__WEBPACK_EXTERNAL_MODULE__793__","__WEBPACK_EXTERNAL_MODULE__59__","__WEBPACK_EXTERNAL_MODULE__102__","__WEBPACK_EXTERNAL_MODULE__306__","__WEBPACK_EXTERNAL_MODULE__946__","__WEBPACK_EXTERNAL_MODULE__445__","window","document","exportName","undefined","assign","VENDOR_PREFIXES","TEST_ELEMENT","createElement","round","Math","abs","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","i","forEach","length","call","hasOwnProperty","deprecate","method","name","message","deprecationMessage","e","Error","stack","replace","log","console","warn","apply","this","arguments","Object","target","TypeError","output","index","source","nextKey","extend","dest","src","merge","keys","inherit","child","base","properties","childP","baseP","prototype","create","constructor","_super","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","type","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","str","find","indexOf","trim","split","inArray","findByKey","toArray","slice","uniqueArray","key","sort","results","values","push","a","b","prefixed","property","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","test","navigator","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","options","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","x","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","start","end","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SINGLE_TOUCH_TARGET_EVENTS","SINGLE_TOUCH_WINDOW_EVENTS","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","filter","touch","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","style","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","value","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","DIRECTION_LEFT","DIRECTION_UP","preventSrc","STATE_FAILED","Recognizer","defaults","id","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","handlers","oldCssProps","inputClass","toggleCssProps","item","add","recognizeWith","requireFailure","cssProps","dropRecognizeWith","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","DIRECTION_HORIZONTAL","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","stop","force","stopped","curRecognizer","existing","remove","on","events","off","data","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_START","INPUT_MOVE","INPUT_END","INPUT_CANCEL","STATE_POSSIBLE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","DIRECTION_NONE","DIRECTION_RIGHT","DIRECTION_DOWN","DIRECTION_VERTICAL","DIRECTION_ALL","Tap","Pan","Swipe","Pinch","Rotate","Press","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","getShim","isRequired","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","runtime","Op","hasOwn","$Symbol","Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","defineProperty","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","reverse","pop","skipTempReset","prev","charAt","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","definition","o","g","r","_extends","_arrayLikeToArray","arr","len","arr2","_unsupportedIterableToArray","minLen","toString","from","_slicedToArray","_i","_s","_e","_arr","_n","_d","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","getFormula","operation","column","filters","dataSource","executeTask","Methods","getHistogram","ticks","getCategories","operationColumn","geocodeStreetPoint","credentials","searchText","city","country","opts","apiKey","query","executeSQL","geometry","JSON","parse","coordinates","longitude","latitude","getScatter","xAxisColumn","yAxisColumn","getTimeSeries","stepSize","getTable","rowsPerPage","page","sortBy","sortDirection","limit","sortByDirection","has","tar","dequal","foo","bar","tmp","getTime","RegExp","Set","size","Map","ArrayBuffer","Uint8Array","DataView","byteLength","getInt8","isView","useSourceFilters","ref","useSelector","selectSourceById","useMemo","getApplicableFilters","deepEqual","useRef","current","useWidgetFilterValues","owner","EMPTY_ARRAY","CategoryWidget","title","formatter","labels","animation","filterable","searchable","onError","wrapperProps","noDataAlertProps","dispatch","useDispatch","isSourceReady","selectAreFeaturesReadyForSource","useState","categoryData","setCategoryData","isLoading","setIsLoading","selectedCategories","FilterTypes","useEffect","handleSelectedCategoriesChange","useCallback","categories","addFilter","removeFilter","WrapperWidgetUI","CategoryWidgetUI","onSelectedCategoriesChange","NoDataAlert","propTypes","AggregationTypes","defaultProps","FormulaWidget","formulaData","setFormulaData","FormulaWidgetUI","unitBefore","_defineProperty","useStyles","makeStyles","theme","paperInput","height","spacing","width","paddingLeft","borderRadius","display","alignItems","icon","fill","palette","text","secondary","fontSize","typography","body2","lineHeight","clear","marginLeft","SearchIcon","SvgIcon","GeocoderWidget","inputRef","oauthCredentials","selectOAuthCredentials","globalCredentials","carto","setSearchText","loading","addLayer","classes","handleKeyPress","keyCode","blur","handleBlur","handleSearch","zoomToResult","updateMarker","handleGeocodeError","setViewState","zoom","transitionDuration","payload","Paper","className","elevation","CircularProgress","InputBase","tabIndex","placeholder","inputProps","onChange","onInput","onKeyDown","onBlur","_toConsumableArray","_typeof","HistogramWidget","xAxisFormatter","dataAxis","tooltip","histogramData","setHistogramData","thresholdsFromFilters","selectedBars","map","to","idx","tooltipFormatter","serie","formattedValue","dataIndex","handleSelectedBarsChange","bars","thresholds","ticksForDataAxis","reduce","acc","tick","HistogramWidgetUI","onSelectedBarsChange","yAxisFormatter","PieWidget","colors","PieWidgetUI","LegendWidget","customLegendTypes","initialCollapsed","layers","layer","legend","collapsed","setCollapsed","LegendWidgetUI","onChangeVisibility","visible","updateLayer","layerAttributes","onChangeOpacity","opacity","onChangeCollapsed","onChangeLegendRowCollapsed","ScatterPlotWidget","scatterData","setScatterData","ScatterPlotWidgetUI","STEP_SIZE_RANGE_MAPPING","GroupDateTypes","TimeSeriesWidget","stepSizeOptions","chartType","showControls","isPlaying","onPlay","isPaused","onPause","onStop","onTimelineUpdate","timeWindow","onTimeWindowUpdate","timeSeriesData","setTimeSeriesData","selectedStepSize","setSelectedStepSize","handleTimeWindowUpdate","date","handleTimelineUpdate","timelinePosition","moment","handleStop","anchorEl","setAnchorEl","handleCloseStepSizeMenu","StepSizeIcon","action","currentTarget","TimeSeriesWidgetUI","Menu","keepMounted","open","Boolean","onClose","MenuItem","disabled","Typography","variant","color","selected","onClick","handleStepSizeUpdate","capitalize","TIME_SERIES_CHART_TYPES","PolygonIcon","featureSelectionIcons","RectangleIcon","CircleIcon","LassoIcon","CursorIcon","FEATURE_SELECTION_MODES_MAP","FEATURE_SELECTION_MODES","label","EDIT_MODES_MAP","EDIT_MODES_KEYS","FeatureSelectionWidget","selectionModesKeys","selectionModes","editModesKeys","editModes","tooltipPlacement","spatialFilter","selectedMode","featureSelectionMode","enabled","featureSelectionEnabled","handleEnabledChange","newEnabled","setFeatureSelectionEnabled","FeatureSelectionWidgetUI","onSelectMode","newSelectedMode","setFeatureSelectionMode","onEnabledChange","onSelectGeometry","addSpatialFilter","onDeleteGeometry","removeSpatialFilter","defaultSelectedMode","defaultEnabled","TableWidget","columns","initialPageSize","dense","setRowsPerPage","setPage","totalCount","setTotalCount","setSortBy","setSortDirection","rows","setRows","TableWidgetUI","pagination","onSetPage","onSetRowsPerPage","sorting","onSetSortBy","onSetSortDirection","field","headerName","align","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_getPrototypeOf","_superPropBase","_get","Reflect","receiver","desc","getOwnPropertyDescriptor","_setPrototypeOf","p","_possibleConstructorReturn","ReferenceError","EVENT_TYPES","EditableCartoGeoJsonLayer","subClass","superClass","protoProps","oldProps","changeFlags","eventManager","_removeEventHandlers","_addEventHandlers","_getEventManager","eventHandler","_editableLayerState","priority","_eventManager","deck","EditableGeoJsonLayer","oldHandler","predict","some","enhancePointerEventInput","RECOGNIZERS","RECOGNIZER_COMPATIBLE_MAP","tripan","rotate","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","INPUT_EVENT_TYPES","KEY_EVENTS","MOUSE_EVENTS","WHEEL_EVENTS","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","click","anyclick","dblclick","mouseover","mouseout","mouseleave","window_","passiveSupported","passive","firefox","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WheelInput","handleEvent","bind","enableEventType","deltaMode","wheelPosition","floor","shiftKey","_onWheel","delta","position","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","enableDownEvent","enableUpEvent","outline","targetElement","srcElement","tagName","ContextmenuInput","DEFAULT_OPTIONS","EventRegistrar","handlersByElement","_active","isEmpty","once","entries","insertPosition","delete","mjolnirEvent","_normalizeEvent","rootElement","_emit","handled","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","buttons","leftButton","middleButton","rightButton","Number","isFinite","whichButtons","rect","getBoundingClientRect","scaleX","offsetWidth","scaleY","offsetHeight","left","clientLeft","top","clientTop","getOffsetPosition","recognizerOptions","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","otherName","recognizerName","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","watch","_removeEventHandler","fallbackRecognizers","eventName","isRecognizerUsed","eh","alias","useEventManager","isEdit","isSelected","isGmaps","BASEMAPS","basemap","cartoGmap","customEventManager","getDiv","disableDragAndDrop","setOptions","gestureHandling","MaskLayer","spatialFilterGeometry","selectSpatialFilter","maskData","polygon","SolidPolygonLayer","MASK_ID","OPERATION","getFillColor","ViewMode","nebulaModes","TranslateMode","ModifyMode","EditMode","CompositeMode","FeatureSelectionLayer","mask","useTheme","selectedFeatureIndex","setSelectedFeatureIndex","selectFeatureSelectionMode","isEditMode","hasGeometry","mode","primaryAsRgba","formatRGBA","hexToRgb","primary","main","secondaryAsRgba","mainColor","pickable","features","selectedFeatureIndexes","onEdit","updatedData","editType","includes","lastFeature","getLineColor","getTentativeFillColor","getTentativeLineColor","getEditHandlePointColor","getEditHandlePointOutlineColor","editHandlePointStrokeWidth","getEditHandlePointRadius","EDIT_MODES","cssRgba","alpha"],"sourceRoot":""}