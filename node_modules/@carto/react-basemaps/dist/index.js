!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("@deck.gl/google-maps"),require("@carto/react-core")):"function"==typeof define&&define.amd?define(["react","@deck.gl/google-maps","@carto/react-core"],t):"object"==typeof exports?exports.cartoReactBasemaps=t(require("react"),require("@deck.gl/google-maps"),require("@carto/react-core")):e.cartoReactBasemaps=t(e.react,e["@deck.gl/google-maps"],e["@carto/react-core"])}(self,(function(e,t,o){return(()=>{"use strict";var r={485:e=>{e.exports=o},158:e=>{e.exports=t},156:t=>{t.exports=e}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return r[e](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{function e(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var t;a.r(i),a.d(i,{BASEMAPS:()=>d,DARK_MATTER:()=>n,GOOGLE_CUSTOM:()=>l,GOOGLE_HYBRID:()=>s,GOOGLE_ROADMAP:()=>c,GOOGLE_SATELLITE:()=>p,GoogleMap:()=>O,POSITRON:()=>o,VOYAGER:()=>r});var o="positron",r="voyager",n="dark-matter",c="roadmap",p="satellite",s="hybrid",l="custom",d=(e(t={},o,{type:"mapbox",options:{mapStyle:"https://basemaps.cartocdn.com/gl/".concat(o,"-gl-style/style.json")}}),e(t,r,{type:"mapbox",options:{mapStyle:"https://basemaps.cartocdn.com/gl/".concat(r,"-gl-style/style.json")}}),e(t,n,{type:"mapbox",options:{mapStyle:"https://basemaps.cartocdn.com/gl/".concat(n,"-gl-style/style.json")}}),e(t,c,{type:"gmaps",options:{mapTypeId:"roadmap"}}),e(t,p,{type:"gmaps",options:{mapTypeId:p}}),e(t,s,{type:"gmaps",options:{mapTypeId:"hybrid"}}),e(t,l,{type:"gmaps",options:{}}),t);var g=a(156),m=a.n(g),u=a(158),y=a(485),f=["center","heading","tilt","zoom"];function w(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?w(Object(r),!0).forEach((function(o){e(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(e){var t=e.basemap,o=e.viewState,r=e.layers,n=e.getTooltip,a=e.onResize,i=e.onViewStateChange,c=e.apiKey,p=e.mapId,s=(0,g.useRef)(),l=function(e){window.google.maps.event.trigger(e,"resize")},d=e.style||{},w=b({position:"absolute",zIndex:0,left:0,top:0,width:e.width||"100%",height:e.height||"100%"},d),O=function(){var r=b({center:{lat:o.latitude,lng:o.longitude},mapTypeControl:!1,heading:o.bearing,tilt:o.pitch,zoom:o.zoom+1,fullscreenControl:!1,zoomControl:!1,streetViewControl:!1,mapId:p},t.options),c=0===s.current.children.length;if(!window.cartoGmap||c){var d=new window.google.maps.Map(s.current,r),g=new u.GoogleMapsOverlay({getTooltip:n}),m=(0,y.debounce)((function(){var t=d.getCenter(),o={longitude:t.lng(),latitude:t.lat(),zoom:Math.max(d.getZoom()-1,1),pitch:d.getTilt(),bearing:d.getHeading()};JSON.stringify(window.cartoViewState)!==JSON.stringify(o)&&(window.cartoViewState=o,i&&e.onViewStateChange({viewState:o}))}),200);d.addListener("bounds_changed",m),d.addListener("resize",(function(){a&&a({height:d.getDiv().offsetHeight,width:d.getDiv().offsetWidth})})),window.onresize=function(){l(d)},l(d),window.cartoGmap=d,window.cartoDeck=g,window.cartoDeck.setMap(window.cartoGmap)}else{var w=r.center,O=r.heading,v=r.tilt,h=r.zoom,S=function(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}(r,f),j={longitude:w.lng,latitude:w.lat,zoom:h-1,pitch:v,bearing:O};JSON.stringify(window.cartoViewState)!==JSON.stringify(j)&&(window.cartoGmap.setCenter(w),window.cartoGmap.setHeading(O),window.cartoGmap.setTilt(v),window.cartoGmap.setZoom(h)),window.cartoGmap.setOptions(S),window.cartoDeck.setProps({getTooltip:n})}};return window.cartoDeck&&window.cartoDeck.setProps({layers:r}),(0,g.useEffect)((function(){if(document.querySelector("#gmaps"))document.querySelector("#gmaps")&&window.google&&O();else{var e=document.createElement("script");e.id="gmaps",e.async=!0,e.type="text/javascript",e.src="https://maps.google.com/maps/api/js?v=beta&key="+c;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),e.addEventListener("load",O)}})),m().createElement("div",{ref:s,style:w})}})(),i})()}));
//# sourceMappingURL=index.js.map